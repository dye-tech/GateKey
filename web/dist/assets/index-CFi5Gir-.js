(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const x of u)if(x.type==="childList")for(const f of x.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function i(u){const x={};return u.integrity&&(x.integrity=u.integrity),u.referrerPolicy&&(x.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?x.credentials="include":u.crossOrigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function o(u){if(u.ep)return;u.ep=!0;const x=i(u);fetch(u.href,x)}})();function G0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var go={exports:{}},nl={};var Jx;function mg(){if(Jx)return nl;Jx=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(o,u,x){var f=null;if(x!==void 0&&(f=""+x),u.key!==void 0&&(f=""+u.key),"key"in u){x={};for(var v in u)v!=="key"&&(x[v]=u[v])}else x=u;return u=x.ref,{$$typeof:n,type:o,key:f,ref:u!==void 0?u:null,props:x}}return nl.Fragment=r,nl.jsx=i,nl.jsxs=i,nl}var e0;function xg(){return e0||(e0=1,go.exports=mg()),go.exports}var e=xg(),yo={exports:{}},pe={};var t0;function hg(){if(t0)return pe;t0=1;var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),x=Symbol.for("react.consumer"),f=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),S=Symbol.iterator;function _(b){return b===null||typeof b!="object"?null:(b=S&&b[S]||b["@@iterator"],typeof b=="function"?b:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,C={};function E(b,Y,le){this.props=b,this.context=Y,this.refs=C,this.updater=le||w}E.prototype.isReactComponent={},E.prototype.setState=function(b,Y){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,Y,"setState")},E.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function D(){}D.prototype=E.prototype;function O(b,Y,le){this.props=b,this.context=Y,this.refs=C,this.updater=le||w}var z=O.prototype=new D;z.constructor=O,k(z,E.prototype),z.isPureReactComponent=!0;var P=Array.isArray;function R(){}var M={H:null,A:null,T:null,S:null},J=Object.prototype.hasOwnProperty;function Z(b,Y,le){var oe=le.ref;return{$$typeof:n,type:b,key:Y,ref:oe!==void 0?oe:null,props:le}}function H(b,Y){return Z(b.type,Y,b.props)}function G(b){return typeof b=="object"&&b!==null&&b.$$typeof===n}function re(b){var Y={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(le){return Y[le]})}var W=/\/+/g;function I(b,Y){return typeof b=="object"&&b!==null&&b.key!=null?re(""+b.key):Y.toString(36)}function B(b){switch(b.status){case"fulfilled":return b.value;case"rejected":throw b.reason;default:switch(typeof b.status=="string"?b.then(R,R):(b.status="pending",b.then(function(Y){b.status==="pending"&&(b.status="fulfilled",b.value=Y)},function(Y){b.status==="pending"&&(b.status="rejected",b.reason=Y)})),b.status){case"fulfilled":return b.value;case"rejected":throw b.reason}}throw b}function A(b,Y,le,oe,ie){var he=typeof b;(he==="undefined"||he==="boolean")&&(b=null);var ve=!1;if(b===null)ve=!0;else switch(he){case"bigint":case"string":case"number":ve=!0;break;case"object":switch(b.$$typeof){case n:case r:ve=!0;break;case g:return ve=b._init,A(ve(b._payload),Y,le,oe,ie)}}if(ve)return ie=ie(b),ve=oe===""?"."+I(b,0):oe,P(ie)?(le="",ve!=null&&(le=ve.replace(W,"$&/")+"/"),A(ie,Y,le,"",function(js){return js})):ie!=null&&(G(ie)&&(ie=H(ie,le+(ie.key==null||b&&b.key===ie.key?"":(""+ie.key).replace(W,"$&/")+"/")+ve)),Y.push(ie)),1;ve=0;var Ze=oe===""?".":oe+":";if(P(b))for(var Be=0;Be<b.length;Be++)oe=b[Be],he=Ze+I(oe,Be),ve+=A(oe,Y,le,he,ie);else if(Be=_(b),typeof Be=="function")for(b=Be.call(b),Be=0;!(oe=b.next()).done;)oe=oe.value,he=Ze+I(oe,Be++),ve+=A(oe,Y,le,he,ie);else if(he==="object"){if(typeof b.then=="function")return A(B(b),Y,le,oe,ie);throw Y=String(b),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ve}function se(b,Y,le){if(b==null)return b;var oe=[],ie=0;return A(b,oe,"","",function(he){return Y.call(le,he,ie++)}),oe}function F(b){if(b._status===-1){var Y=b._result;Y=Y(),Y.then(function(le){(b._status===0||b._status===-1)&&(b._status=1,b._result=le)},function(le){(b._status===0||b._status===-1)&&(b._status=2,b._result=le)}),b._status===-1&&(b._status=0,b._result=Y)}if(b._status===1)return b._result.default;throw b._result}var me=typeof reportError=="function"?reportError:function(b){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof b=="object"&&b!==null&&typeof b.message=="string"?String(b.message):String(b),error:b});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",b);return}console.error(b)},ne={map:se,forEach:function(b,Y,le){se(b,function(){Y.apply(this,arguments)},le)},count:function(b){var Y=0;return se(b,function(){Y++}),Y},toArray:function(b){return se(b,function(Y){return Y})||[]},only:function(b){if(!G(b))throw Error("React.Children.only expected to receive a single React element child.");return b}};return pe.Activity=y,pe.Children=ne,pe.Component=E,pe.Fragment=i,pe.Profiler=u,pe.PureComponent=O,pe.StrictMode=o,pe.Suspense=j,pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,pe.__COMPILER_RUNTIME={__proto__:null,c:function(b){return M.H.useMemoCache(b)}},pe.cache=function(b){return function(){return b.apply(null,arguments)}},pe.cacheSignal=function(){return null},pe.cloneElement=function(b,Y,le){if(b==null)throw Error("The argument must be a React element, but you passed "+b+".");var oe=k({},b.props),ie=b.key;if(Y!=null)for(he in Y.key!==void 0&&(ie=""+Y.key),Y)!J.call(Y,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&Y.ref===void 0||(oe[he]=Y[he]);var he=arguments.length-2;if(he===1)oe.children=le;else if(1<he){for(var ve=Array(he),Ze=0;Ze<he;Ze++)ve[Ze]=arguments[Ze+2];oe.children=ve}return Z(b.type,ie,oe)},pe.createContext=function(b){return b={$$typeof:f,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null},b.Provider=b,b.Consumer={$$typeof:x,_context:b},b},pe.createElement=function(b,Y,le){var oe,ie={},he=null;if(Y!=null)for(oe in Y.key!==void 0&&(he=""+Y.key),Y)J.call(Y,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ie[oe]=Y[oe]);var ve=arguments.length-2;if(ve===1)ie.children=le;else if(1<ve){for(var Ze=Array(ve),Be=0;Be<ve;Be++)Ze[Be]=arguments[Be+2];ie.children=Ze}if(b&&b.defaultProps)for(oe in ve=b.defaultProps,ve)ie[oe]===void 0&&(ie[oe]=ve[oe]);return Z(b,he,ie)},pe.createRef=function(){return{current:null}},pe.forwardRef=function(b){return{$$typeof:v,render:b}},pe.isValidElement=G,pe.lazy=function(b){return{$$typeof:g,_payload:{_status:-1,_result:b},_init:F}},pe.memo=function(b,Y){return{$$typeof:p,type:b,compare:Y===void 0?null:Y}},pe.startTransition=function(b){var Y=M.T,le={};M.T=le;try{var oe=b(),ie=M.S;ie!==null&&ie(le,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(R,me)}catch(he){me(he)}finally{Y!==null&&le.types!==null&&(Y.types=le.types),M.T=Y}},pe.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},pe.use=function(b){return M.H.use(b)},pe.useActionState=function(b,Y,le){return M.H.useActionState(b,Y,le)},pe.useCallback=function(b,Y){return M.H.useCallback(b,Y)},pe.useContext=function(b){return M.H.useContext(b)},pe.useDebugValue=function(){},pe.useDeferredValue=function(b,Y){return M.H.useDeferredValue(b,Y)},pe.useEffect=function(b,Y){return M.H.useEffect(b,Y)},pe.useEffectEvent=function(b){return M.H.useEffectEvent(b)},pe.useId=function(){return M.H.useId()},pe.useImperativeHandle=function(b,Y,le){return M.H.useImperativeHandle(b,Y,le)},pe.useInsertionEffect=function(b,Y){return M.H.useInsertionEffect(b,Y)},pe.useLayoutEffect=function(b,Y){return M.H.useLayoutEffect(b,Y)},pe.useMemo=function(b,Y){return M.H.useMemo(b,Y)},pe.useOptimistic=function(b,Y){return M.H.useOptimistic(b,Y)},pe.useReducer=function(b,Y,le){return M.H.useReducer(b,Y,le)},pe.useRef=function(b){return M.H.useRef(b)},pe.useState=function(b){return M.H.useState(b)},pe.useSyncExternalStore=function(b,Y,le){return M.H.useSyncExternalStore(b,Y,le)},pe.useTransition=function(){return M.H.useTransition()},pe.version="19.2.3",pe}var s0;function Vo(){return s0||(s0=1,yo.exports=hg()),yo.exports}var m=Vo();const fg=G0(m);var vo={exports:{}},ll={},jo={exports:{}},bo={};var a0;function pg(){return a0||(a0=1,(function(n){function r(A,se){var F=A.length;A.push(se);e:for(;0<F;){var me=F-1>>>1,ne=A[me];if(0<u(ne,se))A[me]=se,A[F]=ne,F=me;else break e}}function i(A){return A.length===0?null:A[0]}function o(A){if(A.length===0)return null;var se=A[0],F=A.pop();if(F!==se){A[0]=F;e:for(var me=0,ne=A.length,b=ne>>>1;me<b;){var Y=2*(me+1)-1,le=A[Y],oe=Y+1,ie=A[oe];if(0>u(le,F))oe<ne&&0>u(ie,le)?(A[me]=ie,A[oe]=F,me=oe):(A[me]=le,A[Y]=F,me=Y);else if(oe<ne&&0>u(ie,F))A[me]=ie,A[oe]=F,me=oe;else break e}}return se}function u(A,se){var F=A.sortIndex-se.sortIndex;return F!==0?F:A.id-se.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var x=performance;n.unstable_now=function(){return x.now()}}else{var f=Date,v=f.now();n.unstable_now=function(){return f.now()-v}}var j=[],p=[],g=1,y=null,S=3,_=!1,w=!1,k=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function z(A){for(var se=i(p);se!==null;){if(se.callback===null)o(p);else if(se.startTime<=A)o(p),se.sortIndex=se.expirationTime,r(j,se);else break;se=i(p)}}function P(A){if(k=!1,z(A),!w)if(i(j)!==null)w=!0,R||(R=!0,re());else{var se=i(p);se!==null&&B(P,se.startTime-A)}}var R=!1,M=-1,J=5,Z=-1;function H(){return C?!0:!(n.unstable_now()-Z<J)}function G(){if(C=!1,R){var A=n.unstable_now();Z=A;var se=!0;try{e:{w=!1,k&&(k=!1,D(M),M=-1),_=!0;var F=S;try{t:{for(z(A),y=i(j);y!==null&&!(y.expirationTime>A&&H());){var me=y.callback;if(typeof me=="function"){y.callback=null,S=y.priorityLevel;var ne=me(y.expirationTime<=A);if(A=n.unstable_now(),typeof ne=="function"){y.callback=ne,z(A),se=!0;break t}y===i(j)&&o(j),z(A)}else o(j);y=i(j)}if(y!==null)se=!0;else{var b=i(p);b!==null&&B(P,b.startTime-A),se=!1}}break e}finally{y=null,S=F,_=!1}se=void 0}}finally{se?re():R=!1}}}var re;if(typeof O=="function")re=function(){O(G)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,I=W.port2;W.port1.onmessage=G,re=function(){I.postMessage(null)}}else re=function(){E(G,0)};function B(A,se){M=E(function(){A(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(A){A.callback=null},n.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<A?Math.floor(1e3/A):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(A){switch(S){case 1:case 2:case 3:var se=3;break;default:se=S}var F=S;S=se;try{return A()}finally{S=F}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(A,se){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var F=S;S=A;try{return se()}finally{S=F}},n.unstable_scheduleCallback=function(A,se,F){var me=n.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?me+F:me):F=me,A){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=F+ne,A={id:g++,callback:se,priorityLevel:A,startTime:F,expirationTime:ne,sortIndex:-1},F>me?(A.sortIndex=F,r(p,A),i(j)===null&&A===i(p)&&(k?(D(M),M=-1):k=!0,B(P,F-me))):(A.sortIndex=ne,r(j,A),w||_||(w=!0,R||(R=!0,re()))),A},n.unstable_shouldYield=H,n.unstable_wrapCallback=function(A){var se=S;return function(){var F=S;S=se;try{return A.apply(this,arguments)}finally{S=F}}}})(bo)),bo}var n0;function gg(){return n0||(n0=1,jo.exports=pg()),jo.exports}var No={exports:{}},ct={};var l0;function yg(){if(l0)return ct;l0=1;var n=Vo();function r(j){var p="https://react.dev/errors/"+j;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+j+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(r(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function x(j,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:j,containerInfo:p,implementation:g}}var f=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(j,p){if(j==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ct.createPortal=function(j,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(r(299));return x(j,p,null,g)},ct.flushSync=function(j){var p=f.T,g=o.p;try{if(f.T=null,o.p=2,j)return j()}finally{f.T=p,o.p=g,o.d.f()}},ct.preconnect=function(j,p){typeof j=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,o.d.C(j,p))},ct.prefetchDNS=function(j){typeof j=="string"&&o.d.D(j)},ct.preinit=function(j,p){if(typeof j=="string"&&p&&typeof p.as=="string"){var g=p.as,y=v(g,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,_=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?o.d.S(j,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:S,fetchPriority:_}):g==="script"&&o.d.X(j,{crossOrigin:y,integrity:S,fetchPriority:_,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ct.preinitModule=function(j,p){if(typeof j=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=v(p.as,p.crossOrigin);o.d.M(j,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&o.d.M(j)},ct.preload=function(j,p){if(typeof j=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=v(g,p.crossOrigin);o.d.L(j,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ct.preloadModule=function(j,p){if(typeof j=="string")if(p){var g=v(p.as,p.crossOrigin);o.d.m(j,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else o.d.m(j)},ct.requestFormReset=function(j){o.d.r(j)},ct.unstable_batchedUpdates=function(j,p){return j(p)},ct.useFormState=function(j,p,g){return f.H.useFormState(j,p,g)},ct.useFormStatus=function(){return f.H.useHostTransitionStatus()},ct.version="19.2.3",ct}var r0;function vg(){if(r0)return No.exports;r0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),No.exports=yg(),No.exports}var i0;function jg(){if(i0)return ll;i0=1;var n=gg(),r=Vo(),i=vg();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function x(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function f(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function v(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function j(t){if(x(t)!==t)throw Error(o(188))}function p(t){var s=t.alternate;if(!s){if(s=x(t),s===null)throw Error(o(188));return s!==t?null:t}for(var a=t,l=s;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(l=c.return,l!==null){a=l;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return j(c),t;if(d===l)return j(c),s;d=d.sibling}throw Error(o(188))}if(a.return!==l.return)a=c,l=d;else{for(var h=!1,N=c.child;N;){if(N===a){h=!0,a=c,l=d;break}if(N===l){h=!0,l=c,a=d;break}N=N.sibling}if(!h){for(N=d.child;N;){if(N===a){h=!0,a=d,l=c;break}if(N===l){h=!0,l=d,a=c;break}N=N.sibling}if(!h)throw Error(o(189))}}if(a.alternate!==l)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:s}function g(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=g(t),s!==null)return s;t=t.sibling}return null}var y=Object.assign,S=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),O=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),G=Symbol.iterator;function re(t){return t===null||typeof t!="object"?null:(t=G&&t[G]||t["@@iterator"],typeof t=="function"?t:null)}var W=Symbol.for("react.client.reference");function I(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===W?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case E:return"Profiler";case C:return"StrictMode";case P:return"Suspense";case R:return"SuspenseList";case Z:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case O:return t.displayName||"Context";case D:return(t._context.displayName||"Context")+".Consumer";case z:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return s=t.displayName||null,s!==null?s:I(t.type)||"Memo";case J:s=t._payload,t=t._init;try{return I(t(s))}catch{}}return null}var B=Array.isArray,A=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},me=[],ne=-1;function b(t){return{current:t}}function Y(t){0>ne||(t.current=me[ne],me[ne]=null,ne--)}function le(t,s){ne++,me[ne]=t.current,t.current=s}var oe=b(null),ie=b(null),he=b(null),ve=b(null);function Ze(t,s){switch(le(he,s),le(ie,t),le(oe,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Nx(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Nx(s),t=wx(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Y(oe),le(oe,t)}function Be(){Y(oe),Y(ie),Y(he)}function js(t){t.memoizedState!==null&&le(ve,t);var s=oe.current,a=wx(s,t.type);s!==a&&(le(ie,t),le(oe,a))}function ce(t){ie.current===t&&(Y(oe),Y(ie)),ve.current===t&&(Y(ve),el._currentValue=F)}var Ve,pl;function Is(t){if(Ve===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ve=s&&s[1]||"",pl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+t+pl}var Jr=!1;function ei(t,s){if(!t||Jr)return"";Jr=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var ae=function(){throw Error()};if(Object.defineProperty(ae.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ae,[])}catch(X){var $=X}Reflect.construct(t,[],ae)}else{try{ae.call()}catch(X){$=X}t.call(ae.prototype)}}else{try{throw Error()}catch(X){$=X}(ae=t())&&typeof ae.catch=="function"&&ae.catch(function(){})}}catch(X){if(X&&$&&typeof X.stack=="string")return[X.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),h=d[0],N=d[1];if(h&&N){var L=h.split(`
`),q=N.split(`
`);for(c=l=0;l<L.length&&!L[l].includes("DetermineComponentFrameRoot");)l++;for(;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;if(l===L.length||c===q.length)for(l=L.length-1,c=q.length-1;1<=l&&0<=c&&L[l]!==q[c];)c--;for(;1<=l&&0<=c;l--,c--)if(L[l]!==q[c]){if(l!==1||c!==1)do if(l--,c--,0>c||L[l]!==q[c]){var ee=`
`+L[l].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=l&&0<=c);break}}}finally{Jr=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Is(a):""}function qh(t,s){switch(t.tag){case 26:case 27:case 5:return Is(t.type);case 16:return Is("Lazy");case 13:return t.child!==s&&s!==null?Is("Suspense Fallback"):Is("Suspense");case 19:return Is("SuspenseList");case 0:case 15:return ei(t.type,!1);case 11:return ei(t.type.render,!1);case 1:return ei(t.type,!0);case 31:return Is("Activity");default:return""}}function Jo(t){try{var s="",a=null;do s+=qh(t,a),a=t,t=t.return;while(t);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ti=Object.prototype.hasOwnProperty,si=n.unstable_scheduleCallback,ai=n.unstable_cancelCallback,Ph=n.unstable_shouldYield,Fh=n.unstable_requestPaint,jt=n.unstable_now,$h=n.unstable_getCurrentPriorityLevel,ed=n.unstable_ImmediatePriority,td=n.unstable_UserBlockingPriority,gl=n.unstable_NormalPriority,Yh=n.unstable_LowPriority,sd=n.unstable_IdlePriority,Kh=n.log,Ih=n.unstable_setDisableYieldValue,mn=null,bt=null;function bs(t){if(typeof Kh=="function"&&Ih(t),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(mn,t)}catch{}}var Nt=Math.clz32?Math.clz32:Zh,Xh=Math.log,Qh=Math.LN2;function Zh(t){return t>>>=0,t===0?32:31-(Xh(t)/Qh|0)|0}var yl=256,vl=262144,jl=4194304;function Xs(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function bl(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var c=0,d=t.suspendedLanes,h=t.pingedLanes;t=t.warmLanes;var N=l&134217727;return N!==0?(l=N&~d,l!==0?c=Xs(l):(h&=N,h!==0?c=Xs(h):a||(a=N&~t,a!==0&&(c=Xs(a))))):(N=l&~d,N!==0?c=Xs(N):h!==0?c=Xs(h):a||(a=l&~t,a!==0&&(c=Xs(a)))),c===0?0:s!==0&&s!==c&&(s&d)===0&&(d=c&-c,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:c}function xn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function Wh(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ad(){var t=jl;return jl<<=1,(jl&62914560)===0&&(jl=4194304),t}function ni(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function hn(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Jh(t,s,a,l,c,d){var h=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var N=t.entanglements,L=t.expirationTimes,q=t.hiddenUpdates;for(a=h&~a;0<a;){var ee=31-Nt(a),ae=1<<ee;N[ee]=0,L[ee]=-1;var $=q[ee];if($!==null)for(q[ee]=null,ee=0;ee<$.length;ee++){var X=$[ee];X!==null&&(X.lane&=-536870913)}a&=~ae}l!==0&&nd(t,l,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(h&~s))}function nd(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-Nt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function ld(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-Nt(a),c=1<<l;c&s|t[l]&s&&(t[l]|=s),a&=~c}}function rd(t,s){var a=s&-s;return a=(a&42)!==0?1:li(a),(a&(t.suspendedLanes|s))!==0?0:a}function li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ri(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function id(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:Yx(t.type))}function cd(t,s){var a=se.p;try{return se.p=t,s()}finally{se.p=a}}var Ns=Math.random().toString(36).slice(2),st="__reactFiber$"+Ns,ut="__reactProps$"+Ns,pa="__reactContainer$"+Ns,ii="__reactEvents$"+Ns,ef="__reactListeners$"+Ns,tf="__reactHandles$"+Ns,od="__reactResources$"+Ns,fn="__reactMarker$"+Ns;function ci(t){delete t[st],delete t[ut],delete t[ii],delete t[ef],delete t[tf]}function ga(t){var s=t[st];if(s)return s;for(var a=t.parentNode;a;){if(s=a[pa]||a[st]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Lx(t);t!==null;){if(a=t[st])return a;t=Lx(t)}return s}t=a,a=t.parentNode}return null}function ya(t){if(t=t[st]||t[pa]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function pn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function va(t){var s=t[od];return s||(s=t[od]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Je(t){t[fn]=!0}var dd=new Set,ud={};function Qs(t,s){ja(t,s),ja(t+"Capture",s)}function ja(t,s){for(ud[t]=s,t=0;t<s.length;t++)dd.add(s[t])}var sf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),md={},xd={};function af(t){return ti.call(xd,t)?!0:ti.call(md,t)?!1:sf.test(t)?xd[t]=!0:(md[t]=!0,!1)}function Nl(t,s,a){if(af(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function wl(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function es(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}function Tt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hd(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function nf(t,s,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var c=l.get,d=l.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return c.call(this)},set:function(h){a=""+h,d.call(this,h)}}),Object.defineProperty(t,s,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(h){a=""+h},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function oi(t){if(!t._valueTracker){var s=hd(t)?"checked":"value";t._valueTracker=nf(t,s,""+t[s])}}function fd(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=hd(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function kl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var lf=/[\n"\\]/g;function Dt(t){return t.replace(lf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function di(t,s,a,l,c,d,h,N){t.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?t.type=h:t.removeAttribute("type"),s!=null?h==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Tt(s)):t.value!==""+Tt(s)&&(t.value=""+Tt(s)):h!=="submit"&&h!=="reset"||t.removeAttribute("value"),s!=null?ui(t,h,Tt(s)):a!=null?ui(t,h,Tt(a)):l!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+Tt(N):t.removeAttribute("name")}function pd(t,s,a,l,c,d,h,N){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){oi(t);return}a=a!=null?""+Tt(a):"",s=s!=null?""+Tt(s):a,N||s===t.value||(t.value=s),t.defaultValue=s}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=N?t.checked:!!l,t.defaultChecked=!!l,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.name=h),oi(t)}function ui(t,s,a){s==="number"&&kl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ba(t,s,a,l){if(t=t.options,s){s={};for(var c=0;c<a.length;c++)s["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=s.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Tt(a),s=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}s!==null||t[c].disabled||(s=t[c])}s!==null&&(s.selected=!0)}}function gd(t,s,a){if(s!=null&&(s=""+Tt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Tt(a):""}function yd(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(o(92));if(B(l)){if(1<l.length)throw Error(o(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=Tt(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),oi(t)}function Na(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var rf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function vd(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||rf.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function jd(t,s,a){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in s)l=s[c],s.hasOwnProperty(c)&&a[c]!==l&&vd(t,c,l)}else for(var d in s)s.hasOwnProperty(d)&&vd(t,d,s[d])}function mi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),of=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sl(t){return of.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ts(){}var xi=null;function hi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wa=null,ka=null;function bd(t){var s=ya(t);if(s&&(t=s.stateNode)){var a=t[ut]||null;e:switch(t=s.stateNode,s.type){case"input":if(di(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var c=l[ut]||null;if(!c)throw Error(o(90));di(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&fd(l)}break e;case"textarea":gd(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&ba(t,!!a.multiple,s,!1)}}}var fi=!1;function Nd(t,s,a){if(fi)return t(s,a);fi=!0;try{var l=t(s);return l}finally{if(fi=!1,(wa!==null||ka!==null)&&(mr(),wa&&(s=wa,t=ka,ka=wa=null,bd(s),t)))for(s=0;s<t.length;s++)bd(t[s])}}function gn(t,s){var a=t.stateNode;if(a===null)return null;var l=a[ut]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var ss=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=!1;if(ss)try{var yn={};Object.defineProperty(yn,"passive",{get:function(){pi=!0}}),window.addEventListener("test",yn,yn),window.removeEventListener("test",yn,yn)}catch{pi=!1}var ws=null,gi=null,Cl=null;function wd(){if(Cl)return Cl;var t,s=gi,a=s.length,l,c="value"in ws?ws.value:ws.textContent,d=c.length;for(t=0;t<a&&s[t]===c[t];t++);var h=a-t;for(l=1;l<=h&&s[a-l]===c[d-l];l++);return Cl=c.slice(t,1<l?1-l:void 0)}function Al(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function El(){return!0}function kd(){return!1}function mt(t){function s(a,l,c,d,h){this._reactName=a,this._targetInst=c,this.type=l,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(a=t[N],this[N]=a?a(d):d[N]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?El:kd,this.isPropagationStopped=kd,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),s}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ml=mt(Zs),vn=y({},Zs,{view:0,detail:0}),df=mt(vn),yi,vi,jn,Ll=y({},vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bi,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(yi=t.screenX-jn.screenX,vi=t.screenY-jn.screenY):vi=yi=0,jn=t),yi)},movementY:function(t){return"movementY"in t?t.movementY:vi}}),Sd=mt(Ll),uf=y({},Ll,{dataTransfer:0}),mf=mt(uf),xf=y({},vn,{relatedTarget:0}),ji=mt(xf),hf=y({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),ff=mt(hf),pf=y({},Zs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gf=mt(pf),yf=y({},Zs,{data:0}),Cd=mt(yf),vf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nf(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=bf[t])?!!s[t]:!1}function bi(){return Nf}var wf=y({},vn,{key:function(t){if(t.key){var s=vf[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Al(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bi,charCode:function(t){return t.type==="keypress"?Al(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Al(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kf=mt(wf),Sf=y({},Ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ad=mt(Sf),Cf=y({},vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bi}),Af=mt(Cf),Ef=y({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mf=mt(Ef),Lf=y({},Ll,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Rf=mt(Lf),Tf=y({},Zs,{newState:0,oldState:0}),Df=mt(Tf),_f=[9,13,27,32],Ni=ss&&"CompositionEvent"in window,bn=null;ss&&"documentMode"in document&&(bn=document.documentMode);var Uf=ss&&"TextEvent"in window&&!bn,Ed=ss&&(!Ni||bn&&8<bn&&11>=bn),Md=" ",Ld=!1;function Rd(t,s){switch(t){case"keyup":return _f.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Td(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function Of(t,s){switch(t){case"compositionend":return Td(s);case"keypress":return s.which!==32?null:(Ld=!0,Md);case"textInput":return t=s.data,t===Md&&Ld?null:t;default:return null}}function zf(t,s){if(Sa)return t==="compositionend"||!Ni&&Rd(t,s)?(t=wd(),Cl=gi=ws=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Ed&&s.locale!=="ko"?null:s.data;default:return null}}var Hf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dd(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Hf[t.type]:s==="textarea"}function _d(t,s,a,l){wa?ka?ka.push(l):ka=[l]:wa=l,s=vr(s,"onChange"),0<s.length&&(a=new Ml("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var Nn=null,wn=null;function Bf(t){px(t,0)}function Rl(t){var s=pn(t);if(fd(s))return t}function Ud(t,s){if(t==="change")return s}var Od=!1;if(ss){var wi;if(ss){var ki="oninput"in document;if(!ki){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),ki=typeof zd.oninput=="function"}wi=ki}else wi=!1;Od=wi&&(!document.documentMode||9<document.documentMode)}function Hd(){Nn&&(Nn.detachEvent("onpropertychange",Bd),wn=Nn=null)}function Bd(t){if(t.propertyName==="value"&&Rl(wn)){var s=[];_d(s,wn,t,hi(t)),Nd(Bf,s)}}function Gf(t,s,a){t==="focusin"?(Hd(),Nn=s,wn=a,Nn.attachEvent("onpropertychange",Bd)):t==="focusout"&&Hd()}function Vf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rl(wn)}function qf(t,s){if(t==="click")return Rl(s)}function Pf(t,s){if(t==="input"||t==="change")return Rl(s)}function Ff(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var wt=typeof Object.is=="function"?Object.is:Ff;function kn(t,s){if(wt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var c=a[l];if(!ti.call(s,c)||!wt(t[c],s[c]))return!1}return!0}function Gd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vd(t,s){var a=Gd(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Gd(a)}}function qd(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?qd(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Pd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=kl(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=kl(t.document)}return s}function Si(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var $f=ss&&"documentMode"in document&&11>=document.documentMode,Ca=null,Ci=null,Sn=null,Ai=!1;function Fd(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ai||Ca==null||Ca!==kl(l)||(l=Ca,"selectionStart"in l&&Si(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Sn&&kn(Sn,l)||(Sn=l,l=vr(Ci,"onSelect"),0<l.length&&(s=new Ml("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=Ca)))}function Ws(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Aa={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},Ei={},$d={};ss&&($d=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Js(t){if(Ei[t])return Ei[t];if(!Aa[t])return t;var s=Aa[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in $d)return Ei[t]=s[a];return t}var Yd=Js("animationend"),Kd=Js("animationiteration"),Id=Js("animationstart"),Yf=Js("transitionrun"),Kf=Js("transitionstart"),If=Js("transitioncancel"),Xd=Js("transitionend"),Qd=new Map,Mi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Mi.push("scrollEnd");function Pt(t,s){Qd.set(t,s),Qs(s,[t])}var Tl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},_t=[],Ea=0,Li=0;function Dl(){for(var t=Ea,s=Li=Ea=0;s<t;){var a=_t[s];_t[s++]=null;var l=_t[s];_t[s++]=null;var c=_t[s];_t[s++]=null;var d=_t[s];if(_t[s++]=null,l!==null&&c!==null){var h=l.pending;h===null?c.next=c:(c.next=h.next,h.next=c),l.pending=c}d!==0&&Zd(a,c,d)}}function _l(t,s,a,l){_t[Ea++]=t,_t[Ea++]=s,_t[Ea++]=a,_t[Ea++]=l,Li|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Ri(t,s,a,l){return _l(t,s,a,l),Ul(t)}function ea(t,s){return _l(t,null,null,s),Ul(t)}function Zd(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var c=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,c&&s!==null&&(c=31-Nt(a),t=d.hiddenUpdates,l=t[c],l===null?t[c]=[s]:l.push(s),s.lane=a|536870912),d):null}function Ul(t){if(50<Kn)throw Kn=0,Gc=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ma={};function Xf(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,s,a,l){return new Xf(t,s,a,l)}function Ti(t){return t=t.prototype,!(!t||!t.isReactComponent)}function as(t,s){var a=t.alternate;return a===null?(a=kt(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Wd(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Ol(t,s,a,l,c,d){var h=0;if(l=t,typeof t=="function")Ti(t)&&(h=1);else if(typeof t=="string")h=eg(t,a,oe.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case Z:return t=kt(31,a,s,c),t.elementType=Z,t.lanes=d,t;case k:return ta(a.children,c,d,s);case C:h=8,c|=24;break;case E:return t=kt(12,a,s,c|2),t.elementType=E,t.lanes=d,t;case P:return t=kt(13,a,s,c),t.elementType=P,t.lanes=d,t;case R:return t=kt(19,a,s,c),t.elementType=R,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O:h=10;break e;case D:h=9;break e;case z:h=11;break e;case M:h=14;break e;case J:h=16,l=null;break e}h=29,a=Error(o(130,t===null?"null":typeof t,"")),l=null}return s=kt(h,a,s,c),s.elementType=t,s.type=l,s.lanes=d,s}function ta(t,s,a,l){return t=kt(7,t,l,s),t.lanes=a,t}function Di(t,s,a){return t=kt(6,t,null,s),t.lanes=a,t}function Jd(t){var s=kt(18,null,null,0);return s.stateNode=t,s}function _i(t,s,a){return s=kt(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var eu=new WeakMap;function Ut(t,s){if(typeof t=="object"&&t!==null){var a=eu.get(t);return a!==void 0?a:(s={value:t,source:s,stack:Jo(s)},eu.set(t,s),s)}return{value:t,source:s,stack:Jo(s)}}var La=[],Ra=0,zl=null,Cn=0,Ot=[],zt=0,ks=null,It=1,Xt="";function ns(t,s){La[Ra++]=Cn,La[Ra++]=zl,zl=t,Cn=s}function tu(t,s,a){Ot[zt++]=It,Ot[zt++]=Xt,Ot[zt++]=ks,ks=t;var l=It;t=Xt;var c=32-Nt(l)-1;l&=~(1<<c),a+=1;var d=32-Nt(s)+c;if(30<d){var h=c-c%5;d=(l&(1<<h)-1).toString(32),l>>=h,c-=h,It=1<<32-Nt(s)+c|a<<c|l,Xt=d+t}else It=1<<d|a<<c|l,Xt=t}function Ui(t){t.return!==null&&(ns(t,1),tu(t,1,0))}function Oi(t){for(;t===zl;)zl=La[--Ra],La[Ra]=null,Cn=La[--Ra],La[Ra]=null;for(;t===ks;)ks=Ot[--zt],Ot[zt]=null,Xt=Ot[--zt],Ot[zt]=null,It=Ot[--zt],Ot[zt]=null}function su(t,s){Ot[zt++]=It,Ot[zt++]=Xt,Ot[zt++]=ks,It=s.id,Xt=s.overflow,ks=t}var at=null,Ue=null,Se=!1,Ss=null,Ht=!1,zi=Error(o(519));function Cs(t){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw An(Ut(s,t)),zi}function au(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[st]=t,s[ut]=l,a){case"dialog":Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":case"embed":Ne("load",s);break;case"video":case"audio":for(a=0;a<Xn.length;a++)Ne(Xn[a],s);break;case"source":Ne("error",s);break;case"img":case"image":case"link":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"input":Ne("invalid",s),pd(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ne("invalid",s);break;case"textarea":Ne("invalid",s),yd(s,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||jx(s.textContent,a)?(l.popover!=null&&(Ne("beforetoggle",s),Ne("toggle",s)),l.onScroll!=null&&Ne("scroll",s),l.onScrollEnd!=null&&Ne("scrollend",s),l.onClick!=null&&(s.onclick=ts),s=!0):s=!1,s||Cs(t,!0)}function nu(t){for(at=t.return;at;)switch(at.tag){case 5:case 31:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:at=at.return}}function Ta(t){if(t!==at)return!1;if(!Se)return nu(t),Se=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||to(t.type,t.memoizedProps)),a=!a),a&&Ue&&Cs(t),nu(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Ue=Mx(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Ue=Mx(t)}else s===27?(s=Ue,Gs(t.type)?(t=ro,ro=null,Ue=t):Ue=s):Ue=at?Gt(t.stateNode.nextSibling):null;return!0}function sa(){Ue=at=null,Se=!1}function Hi(){var t=Ss;return t!==null&&(pt===null?pt=t:pt.push.apply(pt,t),Ss=null),t}function An(t){Ss===null?Ss=[t]:Ss.push(t)}var Bi=b(null),aa=null,ls=null;function As(t,s,a){le(Bi,s._currentValue),s._currentValue=a}function rs(t){t._currentValue=Bi.current,Y(Bi)}function Gi(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function Vi(t,s,a,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var h=c.child;d=d.firstContext;e:for(;d!==null;){var N=d;d=c;for(var L=0;L<s.length;L++)if(N.context===s[L]){d.lanes|=a,N=d.alternate,N!==null&&(N.lanes|=a),Gi(d.return,a,t),l||(h=null);break e}d=N.next}}else if(c.tag===18){if(h=c.return,h===null)throw Error(o(341));h.lanes|=a,d=h.alternate,d!==null&&(d.lanes|=a),Gi(h,a,t),h=null}else h=c.child;if(h!==null)h.return=c;else for(h=c;h!==null;){if(h===t){h=null;break}if(c=h.sibling,c!==null){c.return=h.return,h=c;break}h=h.return}c=h}}function Da(t,s,a,l){t=null;for(var c=s,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var h=c.alternate;if(h===null)throw Error(o(387));if(h=h.memoizedProps,h!==null){var N=c.type;wt(c.pendingProps.value,h.value)||(t!==null?t.push(N):t=[N])}}else if(c===ve.current){if(h=c.alternate,h===null)throw Error(o(387));h.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(el):t=[el])}c=c.return}t!==null&&Vi(s,t,a,l),s.flags|=262144}function Hl(t){for(t=t.firstContext;t!==null;){if(!wt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function na(t){aa=t,ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nt(t){return lu(aa,t)}function Bl(t,s){return aa===null&&na(t),lu(t,s)}function lu(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ls===null){if(t===null)throw Error(o(308));ls=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ls=ls.next=s;return a}var Qf=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},Zf=n.unstable_scheduleCallback,Wf=n.unstable_NormalPriority,Ke={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qi(){return{controller:new Qf,data:new Map,refCount:0}}function En(t){t.refCount--,t.refCount===0&&Zf(Wf,function(){t.controller.abort()})}var Mn=null,Pi=0,_a=0,Ua=null;function Jf(t,s){if(Mn===null){var a=Mn=[];Pi=0,_a=Yc(),Ua={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Pi++,s.then(ru,ru),s}function ru(){if(--Pi===0&&Mn!==null){Ua!==null&&(Ua.status="fulfilled");var t=Mn;Mn=null,_a=0,Ua=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function ep(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var c=0;c<a.length;c++)(0,a[c])(s)},function(c){for(l.status="rejected",l.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),l}var iu=A.S;A.S=function(t,s){Fm=jt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&Jf(t,s),iu!==null&&iu(t,s)};var la=b(null);function Fi(){var t=la.current;return t!==null?t:_e.pooledCache}function Gl(t,s){s===null?le(la,la.current):le(la,s.pool)}function cu(){var t=Fi();return t===null?null:{parent:Ke._currentValue,pool:t}}var Oa=Error(o(460)),$i=Error(o(474)),Vl=Error(o(542)),ql={then:function(){}};function ou(t){return t=t.status,t==="fulfilled"||t==="rejected"}function du(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(ts,ts),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,mu(t),t;default:if(typeof s.status=="string")s.then(ts,ts);else{if(t=_e,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var c=s;c.status="fulfilled",c.value=l}},function(l){if(s.status==="pending"){var c=s;c.status="rejected",c.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,mu(t),t}throw ia=s,Oa}}function ra(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ia=a,Oa):a}}var ia=null;function uu(){if(ia===null)throw Error(o(459));var t=ia;return ia=null,t}function mu(t){if(t===Oa||t===Vl)throw Error(o(483))}var za=null,Ln=0;function Pl(t){var s=Ln;return Ln+=1,za===null&&(za=[]),du(za,t,s)}function Rn(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Fl(t,s){throw s.$$typeof===S?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function xu(t){function s(U,T){if(t){var V=U.deletions;V===null?(U.deletions=[T],U.flags|=16):V.push(T)}}function a(U,T){if(!t)return null;for(;T!==null;)s(U,T),T=T.sibling;return null}function l(U){for(var T=new Map;U!==null;)U.key!==null?T.set(U.key,U):T.set(U.index,U),U=U.sibling;return T}function c(U,T){return U=as(U,T),U.index=0,U.sibling=null,U}function d(U,T,V){return U.index=V,t?(V=U.alternate,V!==null?(V=V.index,V<T?(U.flags|=67108866,T):V):(U.flags|=67108866,T)):(U.flags|=1048576,T)}function h(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function N(U,T,V,te){return T===null||T.tag!==6?(T=Di(V,U.mode,te),T.return=U,T):(T=c(T,V),T.return=U,T)}function L(U,T,V,te){var xe=V.type;return xe===k?ee(U,T,V.props.children,te,V.key):T!==null&&(T.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===J&&ra(xe)===T.type)?(T=c(T,V.props),Rn(T,V),T.return=U,T):(T=Ol(V.type,V.key,V.props,null,U.mode,te),Rn(T,V),T.return=U,T)}function q(U,T,V,te){return T===null||T.tag!==4||T.stateNode.containerInfo!==V.containerInfo||T.stateNode.implementation!==V.implementation?(T=_i(V,U.mode,te),T.return=U,T):(T=c(T,V.children||[]),T.return=U,T)}function ee(U,T,V,te,xe){return T===null||T.tag!==7?(T=ta(V,U.mode,te,xe),T.return=U,T):(T=c(T,V),T.return=U,T)}function ae(U,T,V){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=Di(""+T,U.mode,V),T.return=U,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _:return V=Ol(T.type,T.key,T.props,null,U.mode,V),Rn(V,T),V.return=U,V;case w:return T=_i(T,U.mode,V),T.return=U,T;case J:return T=ra(T),ae(U,T,V)}if(B(T)||re(T))return T=ta(T,U.mode,V,null),T.return=U,T;if(typeof T.then=="function")return ae(U,Pl(T),V);if(T.$$typeof===O)return ae(U,Bl(U,T),V);Fl(U,T)}return null}function $(U,T,V,te){var xe=T!==null?T.key:null;if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return xe!==null?null:N(U,T,""+V,te);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case _:return V.key===xe?L(U,T,V,te):null;case w:return V.key===xe?q(U,T,V,te):null;case J:return V=ra(V),$(U,T,V,te)}if(B(V)||re(V))return xe!==null?null:ee(U,T,V,te,null);if(typeof V.then=="function")return $(U,T,Pl(V),te);if(V.$$typeof===O)return $(U,T,Bl(U,V),te);Fl(U,V)}return null}function X(U,T,V,te,xe){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return U=U.get(V)||null,N(T,U,""+te,xe);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case _:return U=U.get(te.key===null?V:te.key)||null,L(T,U,te,xe);case w:return U=U.get(te.key===null?V:te.key)||null,q(T,U,te,xe);case J:return te=ra(te),X(U,T,V,te,xe)}if(B(te)||re(te))return U=U.get(V)||null,ee(T,U,te,xe,null);if(typeof te.then=="function")return X(U,T,V,Pl(te),xe);if(te.$$typeof===O)return X(U,T,V,Bl(T,te),xe);Fl(T,te)}return null}function de(U,T,V,te){for(var xe=null,Ce=null,ue=T,je=T=0,ke=null;ue!==null&&je<V.length;je++){ue.index>je?(ke=ue,ue=null):ke=ue.sibling;var Ae=$(U,ue,V[je],te);if(Ae===null){ue===null&&(ue=ke);break}t&&ue&&Ae.alternate===null&&s(U,ue),T=d(Ae,T,je),Ce===null?xe=Ae:Ce.sibling=Ae,Ce=Ae,ue=ke}if(je===V.length)return a(U,ue),Se&&ns(U,je),xe;if(ue===null){for(;je<V.length;je++)ue=ae(U,V[je],te),ue!==null&&(T=d(ue,T,je),Ce===null?xe=ue:Ce.sibling=ue,Ce=ue);return Se&&ns(U,je),xe}for(ue=l(ue);je<V.length;je++)ke=X(ue,U,je,V[je],te),ke!==null&&(t&&ke.alternate!==null&&ue.delete(ke.key===null?je:ke.key),T=d(ke,T,je),Ce===null?xe=ke:Ce.sibling=ke,Ce=ke);return t&&ue.forEach(function($s){return s(U,$s)}),Se&&ns(U,je),xe}function fe(U,T,V,te){if(V==null)throw Error(o(151));for(var xe=null,Ce=null,ue=T,je=T=0,ke=null,Ae=V.next();ue!==null&&!Ae.done;je++,Ae=V.next()){ue.index>je?(ke=ue,ue=null):ke=ue.sibling;var $s=$(U,ue,Ae.value,te);if($s===null){ue===null&&(ue=ke);break}t&&ue&&$s.alternate===null&&s(U,ue),T=d($s,T,je),Ce===null?xe=$s:Ce.sibling=$s,Ce=$s,ue=ke}if(Ae.done)return a(U,ue),Se&&ns(U,je),xe;if(ue===null){for(;!Ae.done;je++,Ae=V.next())Ae=ae(U,Ae.value,te),Ae!==null&&(T=d(Ae,T,je),Ce===null?xe=Ae:Ce.sibling=Ae,Ce=Ae);return Se&&ns(U,je),xe}for(ue=l(ue);!Ae.done;je++,Ae=V.next())Ae=X(ue,U,je,Ae.value,te),Ae!==null&&(t&&Ae.alternate!==null&&ue.delete(Ae.key===null?je:Ae.key),T=d(Ae,T,je),Ce===null?xe=Ae:Ce.sibling=Ae,Ce=Ae);return t&&ue.forEach(function(ug){return s(U,ug)}),Se&&ns(U,je),xe}function De(U,T,V,te){if(typeof V=="object"&&V!==null&&V.type===k&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case _:e:{for(var xe=V.key;T!==null;){if(T.key===xe){if(xe=V.type,xe===k){if(T.tag===7){a(U,T.sibling),te=c(T,V.props.children),te.return=U,U=te;break e}}else if(T.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===J&&ra(xe)===T.type){a(U,T.sibling),te=c(T,V.props),Rn(te,V),te.return=U,U=te;break e}a(U,T);break}else s(U,T);T=T.sibling}V.type===k?(te=ta(V.props.children,U.mode,te,V.key),te.return=U,U=te):(te=Ol(V.type,V.key,V.props,null,U.mode,te),Rn(te,V),te.return=U,U=te)}return h(U);case w:e:{for(xe=V.key;T!==null;){if(T.key===xe)if(T.tag===4&&T.stateNode.containerInfo===V.containerInfo&&T.stateNode.implementation===V.implementation){a(U,T.sibling),te=c(T,V.children||[]),te.return=U,U=te;break e}else{a(U,T);break}else s(U,T);T=T.sibling}te=_i(V,U.mode,te),te.return=U,U=te}return h(U);case J:return V=ra(V),De(U,T,V,te)}if(B(V))return de(U,T,V,te);if(re(V)){if(xe=re(V),typeof xe!="function")throw Error(o(150));return V=xe.call(V),fe(U,T,V,te)}if(typeof V.then=="function")return De(U,T,Pl(V),te);if(V.$$typeof===O)return De(U,T,Bl(U,V),te);Fl(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint"?(V=""+V,T!==null&&T.tag===6?(a(U,T.sibling),te=c(T,V),te.return=U,U=te):(a(U,T),te=Di(V,U.mode,te),te.return=U,U=te),h(U)):a(U,T)}return function(U,T,V,te){try{Ln=0;var xe=De(U,T,V,te);return za=null,xe}catch(ue){if(ue===Oa||ue===Vl)throw ue;var Ce=kt(29,ue,null,U.mode);return Ce.lanes=te,Ce.return=U,Ce}}}var ca=xu(!0),hu=xu(!1),Es=!1;function Yi(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ki(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var c=l.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),l.pending=s,s=Ul(t),Zd(t,null,a),s}return _l(t,l,s,a),Ul(t)}function Tn(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,ld(t,a)}}function Ii(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var h={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=h:d=d.next=h,a=a.next}while(a!==null);d===null?c=d=s:d=d.next=s}else c=d=s;a={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Xi=!1;function Dn(){if(Xi){var t=Ua;if(t!==null)throw t}}function _n(t,s,a,l){Xi=!1;var c=t.updateQueue;Es=!1;var d=c.firstBaseUpdate,h=c.lastBaseUpdate,N=c.shared.pending;if(N!==null){c.shared.pending=null;var L=N,q=L.next;L.next=null,h===null?d=q:h.next=q,h=L;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,N=ee.lastBaseUpdate,N!==h&&(N===null?ee.firstBaseUpdate=q:N.next=q,ee.lastBaseUpdate=L))}if(d!==null){var ae=c.baseState;h=0,ee=q=L=null,N=d;do{var $=N.lane&-536870913,X=$!==N.lane;if(X?(we&$)===$:(l&$)===$){$!==0&&$===_a&&(Xi=!0),ee!==null&&(ee=ee.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var de=t,fe=N;$=s;var De=a;switch(fe.tag){case 1:if(de=fe.payload,typeof de=="function"){ae=de.call(De,ae,$);break e}ae=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=fe.payload,$=typeof de=="function"?de.call(De,ae,$):de,$==null)break e;ae=y({},ae,$);break e;case 2:Es=!0}}$=N.callback,$!==null&&(t.flags|=64,X&&(t.flags|=8192),X=c.callbacks,X===null?c.callbacks=[$]:X.push($))}else X={lane:$,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ee===null?(q=ee=X,L=ae):ee=ee.next=X,h|=$;if(N=N.next,N===null){if(N=c.shared.pending,N===null)break;X=N,N=X.next,X.next=null,c.lastBaseUpdate=X,c.shared.pending=null}}while(!0);ee===null&&(L=ae),c.baseState=L,c.firstBaseUpdate=q,c.lastBaseUpdate=ee,d===null&&(c.shared.lanes=0),Us|=h,t.lanes=h,t.memoizedState=ae}}function fu(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function pu(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fu(a[t],s)}var Ha=b(null),$l=b(0);function gu(t,s){t=fs,le($l,t),le(Ha,s),fs=t|s.baseLanes}function Qi(){le($l,fs),le(Ha,Ha.current)}function Zi(){fs=$l.current,Y(Ha),Y($l)}var St=b(null),Bt=null;function Rs(t){var s=t.alternate;le(Fe,Fe.current&1),le(St,t),Bt===null&&(s===null||Ha.current!==null||s.memoizedState!==null)&&(Bt=t)}function Wi(t){le(Fe,Fe.current),le(St,t),Bt===null&&(Bt=t)}function yu(t){t.tag===22?(le(Fe,Fe.current),le(St,t),Bt===null&&(Bt=t)):Ts()}function Ts(){le(Fe,Fe.current),le(St,St.current)}function Ct(t){Y(St),Bt===t&&(Bt=null),Y(Fe)}var Fe=b(0);function Yl(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||no(a)||lo(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var is=0,ge=null,Re=null,Ie=null,Kl=!1,Ba=!1,oa=!1,Il=0,Un=0,Ga=null,tp=0;function qe(){throw Error(o(321))}function Ji(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!wt(t[a],s[a]))return!1;return!0}function ec(t,s,a,l,c,d){return is=d,ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,A.H=t===null||t.memoizedState===null?tm:fc,oa=!1,d=a(l,c),oa=!1,Ba&&(d=ju(s,a,l,c)),vu(t),d}function vu(t){A.H=Hn;var s=Re!==null&&Re.next!==null;if(is=0,Ie=Re=ge=null,Kl=!1,Un=0,Ga=null,s)throw Error(o(300));t===null||Xe||(t=t.dependencies,t!==null&&Hl(t)&&(Xe=!0))}function ju(t,s,a,l){ge=t;var c=0;do{if(Ba&&(Ga=null),Un=0,Ba=!1,25<=c)throw Error(o(301));if(c+=1,Ie=Re=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=sm,d=s(a,l)}while(Ba);return d}function sp(){var t=A.H,s=t.useState()[0];return s=typeof s.then=="function"?On(s):s,t=t.useState()[0],(Re!==null?Re.memoizedState:null)!==t&&(ge.flags|=1024),s}function tc(){var t=Il!==0;return Il=0,t}function sc(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function ac(t){if(Kl){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Kl=!1}is=0,Ie=Re=ge=null,Ba=!1,Un=Il=0,Ga=null}function dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?ge.memoizedState=Ie=t:Ie=Ie.next=t,Ie}function $e(){if(Re===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var s=Ie===null?ge.memoizedState:Ie.next;if(s!==null)Ie=s,Re=t;else{if(t===null)throw ge.alternate===null?Error(o(467)):Error(o(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Ie===null?ge.memoizedState=Ie=t:Ie=Ie.next=t}return Ie}function Xl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function On(t){var s=Un;return Un+=1,Ga===null&&(Ga=[]),t=du(Ga,t,s),s=ge,(Ie===null?s.memoizedState:Ie.next)===null&&(s=s.alternate,A.H=s===null||s.memoizedState===null?tm:fc),t}function Ql(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return On(t);if(t.$$typeof===O)return nt(t)}throw Error(o(438,String(t)))}function nc(t){var s=null,a=ge.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=ge.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(c){return c.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Xl(),ge.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=H;return s.index++,a}function cs(t,s){return typeof s=="function"?s(t):s}function Zl(t){var s=$e();return lc(s,Re,t)}function lc(t,s,a){var l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=a;var c=t.baseQueue,d=l.pending;if(d!==null){if(c!==null){var h=c.next;c.next=d.next,d.next=h}s.baseQueue=c=d,l.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{s=c.next;var N=h=null,L=null,q=s,ee=!1;do{var ae=q.lane&-536870913;if(ae!==q.lane?(we&ae)===ae:(is&ae)===ae){var $=q.revertLane;if($===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ae===_a&&(ee=!0);else if((is&$)===$){q=q.next,$===_a&&(ee=!0);continue}else ae={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(N=L=ae,h=d):L=L.next=ae,ge.lanes|=$,Us|=$;ae=q.action,oa&&a(d,ae),d=q.hasEagerState?q.eagerState:a(d,ae)}else $={lane:ae,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(N=L=$,h=d):L=L.next=$,ge.lanes|=ae,Us|=ae;q=q.next}while(q!==null&&q!==s);if(L===null?h=d:L.next=N,!wt(d,t.memoizedState)&&(Xe=!0,ee&&(a=Ua,a!==null)))throw a;t.memoizedState=d,t.baseState=h,t.baseQueue=L,l.lastRenderedState=d}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function rc(t){var s=$e(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var l=a.dispatch,c=a.pending,d=s.memoizedState;if(c!==null){a.pending=null;var h=c=c.next;do d=t(d,h.action),h=h.next;while(h!==c);wt(d,s.memoizedState)||(Xe=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,l]}function bu(t,s,a){var l=ge,c=$e(),d=Se;if(d){if(a===void 0)throw Error(o(407));a=a()}else a=s();var h=!wt((Re||c).memoizedState,a);if(h&&(c.memoizedState=a,Xe=!0),c=c.queue,oc(ku.bind(null,l,c,t),[t]),c.getSnapshot!==s||h||Ie!==null&&Ie.memoizedState.tag&1){if(l.flags|=2048,Va(9,{destroy:void 0},wu.bind(null,l,c,a,s),null),_e===null)throw Error(o(349));d||(is&127)!==0||Nu(l,s,a)}return a}function Nu(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ge.updateQueue,s===null?(s=Xl(),ge.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function wu(t,s,a,l){s.value=a,s.getSnapshot=l,Su(s)&&Cu(t)}function ku(t,s,a){return a(function(){Su(s)&&Cu(t)})}function Su(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!wt(t,a)}catch{return!0}}function Cu(t){var s=ea(t,2);s!==null&&gt(s,t,2)}function ic(t){var s=dt();if(typeof t=="function"){var a=t;if(t=a(),oa){bs(!0);try{a()}finally{bs(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:t},s}function Au(t,s,a,l){return t.baseState=a,lc(t,Re,typeof l=="function"?l:cs)}function ap(t,s,a,l,c){if(er(t))throw Error(o(485));if(t=s.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){d.listeners.push(h)}};A.T!==null?a(!0):d.isTransition=!1,l(d),a=s.pending,a===null?(d.next=s.pending=d,Eu(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Eu(t,s){var a=s.action,l=s.payload,c=t.state;if(s.isTransition){var d=A.T,h={};A.T=h;try{var N=a(c,l),L=A.S;L!==null&&L(h,N),Mu(t,s,N)}catch(q){cc(t,s,q)}finally{d!==null&&h.types!==null&&(d.types=h.types),A.T=d}}else try{d=a(c,l),Mu(t,s,d)}catch(q){cc(t,s,q)}}function Mu(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Lu(t,s,l)},function(l){return cc(t,s,l)}):Lu(t,s,a)}function Lu(t,s,a){s.status="fulfilled",s.value=a,Ru(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Eu(t,a)))}function cc(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,Ru(s),s=s.next;while(s!==l)}t.action=null}function Ru(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Tu(t,s){return s}function Du(t,s){if(Se){var a=_e.formState;if(a!==null){e:{var l=ge;if(Se){if(Ue){t:{for(var c=Ue,d=Ht;c.nodeType!==8;){if(!d){c=null;break t}if(c=Gt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Ue=Gt(c.nextSibling),l=c.data==="F!";break e}}Cs(l)}l=!1}l&&(s=a[0])}}return a=dt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Tu,lastRenderedState:s},a.queue=l,a=Wu.bind(null,ge,l),l.dispatch=a,l=ic(!1),d=hc.bind(null,ge,!1,l.queue),l=dt(),c={state:s,dispatch:null,action:t,pending:null},l.queue=c,a=ap.bind(null,ge,c,d,a),c.dispatch=a,l.memoizedState=t,[s,a,!1]}function _u(t){var s=$e();return Uu(s,Re,t)}function Uu(t,s,a){if(s=lc(t,s,Tu)[0],t=Zl(cs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=On(s)}catch(h){throw h===Oa?Vl:h}else l=s;s=$e();var c=s.queue,d=c.dispatch;return a!==s.memoizedState&&(ge.flags|=2048,Va(9,{destroy:void 0},np.bind(null,c,a),null)),[l,d,t]}function np(t,s){t.action=s}function Ou(t){var s=$e(),a=Re;if(a!==null)return Uu(s,a,t);$e(),s=s.memoizedState,a=$e();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function Va(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=ge.updateQueue,s===null&&(s=Xl(),ge.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function zu(){return $e().memoizedState}function Wl(t,s,a,l){var c=dt();ge.flags|=t,c.memoizedState=Va(1|s,{destroy:void 0},a,l===void 0?null:l)}function Jl(t,s,a,l){var c=$e();l=l===void 0?null:l;var d=c.memoizedState.inst;Re!==null&&l!==null&&Ji(l,Re.memoizedState.deps)?c.memoizedState=Va(s,d,a,l):(ge.flags|=t,c.memoizedState=Va(1|s,d,a,l))}function Hu(t,s){Wl(8390656,8,t,s)}function oc(t,s){Jl(2048,8,t,s)}function lp(t){ge.flags|=4;var s=ge.updateQueue;if(s===null)s=Xl(),ge.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Bu(t){var s=$e().memoizedState;return lp({ref:s,nextImpl:t}),function(){if((Ee&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function Gu(t,s){return Jl(4,2,t,s)}function Vu(t,s){return Jl(4,4,t,s)}function qu(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Pu(t,s,a){a=a!=null?a.concat([t]):null,Jl(4,4,qu.bind(null,s,t),a)}function dc(){}function Fu(t,s){var a=$e();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&Ji(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function $u(t,s){var a=$e();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&Ji(s,l[1]))return l[0];if(l=t(),oa){bs(!0);try{t()}finally{bs(!1)}}return a.memoizedState=[l,s],l}function uc(t,s,a){return a===void 0||(is&1073741824)!==0&&(we&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Ym(),ge.lanes|=t,Us|=t,a)}function Yu(t,s,a,l){return wt(a,s)?a:Ha.current!==null?(t=uc(t,a,l),wt(t,s)||(Xe=!0),t):(is&42)===0||(is&1073741824)!==0&&(we&261930)===0?(Xe=!0,t.memoizedState=a):(t=Ym(),ge.lanes|=t,Us|=t,s)}function Ku(t,s,a,l,c){var d=se.p;se.p=d!==0&&8>d?d:8;var h=A.T,N={};A.T=N,hc(t,!1,s,a);try{var L=c(),q=A.S;if(q!==null&&q(N,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ee=ep(L,l);zn(t,s,ee,Mt(t))}else zn(t,s,l,Mt(t))}catch(ae){zn(t,s,{then:function(){},status:"rejected",reason:ae},Mt())}finally{se.p=d,h!==null&&N.types!==null&&(h.types=N.types),A.T=h}}function rp(){}function mc(t,s,a,l){if(t.tag!==5)throw Error(o(476));var c=Iu(t).queue;Ku(t,c,s,F,a===null?rp:function(){return Xu(t),a(l)})}function Iu(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:F},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Xu(t){var s=Iu(t);s.next===null&&(s=t.alternate.memoizedState),zn(t,s.next.queue,{},Mt())}function xc(){return nt(el)}function Qu(){return $e().memoizedState}function Zu(){return $e().memoizedState}function ip(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Mt();t=Ms(a);var l=Ls(s,t,a);l!==null&&(gt(l,s,a),Tn(l,s,a)),s={cache:qi()},t.payload=s;return}s=s.return}}function cp(t,s,a){var l=Mt();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},er(t)?Ju(s,a):(a=Ri(t,s,a,l),a!==null&&(gt(a,t,l),em(a,s,l)))}function Wu(t,s,a){var l=Mt();zn(t,s,a,l)}function zn(t,s,a,l){var c={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(er(t))Ju(s,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var h=s.lastRenderedState,N=d(h,a);if(c.hasEagerState=!0,c.eagerState=N,wt(N,h))return _l(t,s,c,0),_e===null&&Dl(),!1}catch{}if(a=Ri(t,s,c,l),a!==null)return gt(a,t,l),em(a,s,l),!0}return!1}function hc(t,s,a,l){if(l={lane:2,revertLane:Yc(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},er(t)){if(s)throw Error(o(479))}else s=Ri(t,a,l,2),s!==null&&gt(s,t,2)}function er(t){var s=t.alternate;return t===ge||s!==null&&s===ge}function Ju(t,s){Ba=Kl=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function em(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,ld(t,a)}}var Hn={readContext:nt,use:Ql,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};Hn.useEffectEvent=qe;var tm={readContext:nt,use:Ql,useCallback:function(t,s){return dt().memoizedState=[t,s===void 0?null:s],t},useContext:nt,useEffect:Hu,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Wl(4194308,4,qu.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Wl(4194308,4,t,s)},useInsertionEffect:function(t,s){Wl(4,2,t,s)},useMemo:function(t,s){var a=dt();s=s===void 0?null:s;var l=t();if(oa){bs(!0);try{t()}finally{bs(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=dt();if(a!==void 0){var c=a(s);if(oa){bs(!0);try{a(s)}finally{bs(!1)}}}else c=s;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=cp.bind(null,ge,t),[l.memoizedState,t]},useRef:function(t){var s=dt();return t={current:t},s.memoizedState=t},useState:function(t){t=ic(t);var s=t.queue,a=Wu.bind(null,ge,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:dc,useDeferredValue:function(t,s){var a=dt();return uc(a,t,s)},useTransition:function(){var t=ic(!1);return t=Ku.bind(null,ge,t.queue,!0,!1),dt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=ge,c=dt();if(Se){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),_e===null)throw Error(o(349));(we&127)!==0||Nu(l,s,a)}c.memoizedState=a;var d={value:a,getSnapshot:s};return c.queue=d,Hu(ku.bind(null,l,d,t),[t]),l.flags|=2048,Va(9,{destroy:void 0},wu.bind(null,l,d,a,s),null),a},useId:function(){var t=dt(),s=_e.identifierPrefix;if(Se){var a=Xt,l=It;a=(l&~(1<<32-Nt(l)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Il++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=tp++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:xc,useFormState:Du,useActionState:Du,useOptimistic:function(t){var s=dt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=hc.bind(null,ge,!0,a),a.dispatch=s,[t,s]},useMemoCache:nc,useCacheRefresh:function(){return dt().memoizedState=ip.bind(null,ge)},useEffectEvent:function(t){var s=dt(),a={impl:t};return s.memoizedState=a,function(){if((Ee&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},fc={readContext:nt,use:Ql,useCallback:Fu,useContext:nt,useEffect:oc,useImperativeHandle:Pu,useInsertionEffect:Gu,useLayoutEffect:Vu,useMemo:$u,useReducer:Zl,useRef:zu,useState:function(){return Zl(cs)},useDebugValue:dc,useDeferredValue:function(t,s){var a=$e();return Yu(a,Re.memoizedState,t,s)},useTransition:function(){var t=Zl(cs)[0],s=$e().memoizedState;return[typeof t=="boolean"?t:On(t),s]},useSyncExternalStore:bu,useId:Qu,useHostTransitionStatus:xc,useFormState:_u,useActionState:_u,useOptimistic:function(t,s){var a=$e();return Au(a,Re,t,s)},useMemoCache:nc,useCacheRefresh:Zu};fc.useEffectEvent=Bu;var sm={readContext:nt,use:Ql,useCallback:Fu,useContext:nt,useEffect:oc,useImperativeHandle:Pu,useInsertionEffect:Gu,useLayoutEffect:Vu,useMemo:$u,useReducer:rc,useRef:zu,useState:function(){return rc(cs)},useDebugValue:dc,useDeferredValue:function(t,s){var a=$e();return Re===null?uc(a,t,s):Yu(a,Re.memoizedState,t,s)},useTransition:function(){var t=rc(cs)[0],s=$e().memoizedState;return[typeof t=="boolean"?t:On(t),s]},useSyncExternalStore:bu,useId:Qu,useHostTransitionStatus:xc,useFormState:Ou,useActionState:Ou,useOptimistic:function(t,s){var a=$e();return Re!==null?Au(a,Re,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:nc,useCacheRefresh:Zu};sm.useEffectEvent=Bu;function pc(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:y({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gc={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=Mt(),c=Ms(l);c.payload=s,a!=null&&(c.callback=a),s=Ls(t,c,l),s!==null&&(gt(s,t,l),Tn(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=Mt(),c=Ms(l);c.tag=1,c.payload=s,a!=null&&(c.callback=a),s=Ls(t,c,l),s!==null&&(gt(s,t,l),Tn(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Mt(),l=Ms(a);l.tag=2,s!=null&&(l.callback=s),s=Ls(t,l,a),s!==null&&(gt(s,t,a),Tn(s,t,a))}};function am(t,s,a,l,c,d,h){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,h):s.prototype&&s.prototype.isPureReactComponent?!kn(a,l)||!kn(c,d):!0}function nm(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&gc.enqueueReplaceState(s,s.state,null)}function da(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=y({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function lm(t){Tl(t)}function rm(t){console.error(t)}function im(t){Tl(t)}function tr(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function cm(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function yc(t,s,a){return a=Ms(a),a.tag=3,a.payload={element:null},a.callback=function(){tr(t,s)},a}function om(t){return t=Ms(t),t.tag=3,t}function dm(t,s,a,l){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=l.value;t.payload=function(){return c(d)},t.callback=function(){cm(s,a,l)}}var h=a.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(t.callback=function(){cm(s,a,l),typeof c!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var N=l.stack;this.componentDidCatch(l.value,{componentStack:N!==null?N:""})})}function op(t,s,a,l,c){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&Da(s,a,c,!0),a=St.current,a!==null){switch(a.tag){case 31:case 13:return Bt===null?xr():a.alternate===null&&Pe===0&&(Pe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,l===ql?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Pc(t,l,c)),!1;case 22:return a.flags|=65536,l===ql?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Pc(t,l,c)),!1}throw Error(o(435,a.tag))}return Pc(t,l,c),xr(),!1}if(Se)return s=St.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=c,l!==zi&&(t=Error(o(422),{cause:l}),An(Ut(t,a)))):(l!==zi&&(s=Error(o(423),{cause:l}),An(Ut(s,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=Ut(l,a),c=yc(t.stateNode,l,c),Ii(t,c),Pe!==4&&(Pe=2)),!1;var d=Error(o(520),{cause:l});if(d=Ut(d,a),Yn===null?Yn=[d]:Yn.push(d),Pe!==4&&(Pe=2),s===null)return!0;l=Ut(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=yc(a.stateNode,l,t),Ii(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Os===null||!Os.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=om(c),dm(c,t,a,l),Ii(a,c),!1}a=a.return}while(a!==null);return!1}var vc=Error(o(461)),Xe=!1;function lt(t,s,a,l){s.child=t===null?hu(s,null,a,l):ca(s,t.child,a,l)}function um(t,s,a,l,c){a=a.render;var d=s.ref;if("ref"in l){var h={};for(var N in l)N!=="ref"&&(h[N]=l[N])}else h=l;return na(s),l=ec(t,s,a,h,d,c),N=tc(),t!==null&&!Xe?(sc(t,s,c),os(t,s,c)):(Se&&N&&Ui(s),s.flags|=1,lt(t,s,l,c),s.child)}function mm(t,s,a,l,c){if(t===null){var d=a.type;return typeof d=="function"&&!Ti(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,xm(t,s,d,l,c)):(t=Ol(a.type,null,l,s,s.mode,c),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!Ac(t,c)){var h=d.memoizedProps;if(a=a.compare,a=a!==null?a:kn,a(h,l)&&t.ref===s.ref)return os(t,s,c)}return s.flags|=1,t=as(d,l),t.ref=s.ref,t.return=s,s.child=t}function xm(t,s,a,l,c){if(t!==null){var d=t.memoizedProps;if(kn(d,l)&&t.ref===s.ref)if(Xe=!1,s.pendingProps=l=d,Ac(t,c))(t.flags&131072)!==0&&(Xe=!0);else return s.lanes=t.lanes,os(t,s,c)}return jc(t,s,a,l,c)}function hm(t,s,a,l){var c=l.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=s.child=t.child,c=0;l!==null;)c=c|l.lanes|l.childLanes,l=l.sibling;l=c&~d}else l=0,s.child=null;return fm(t,s,d,a,l)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gl(s,d!==null?d.cachePool:null),d!==null?gu(s,d):Qi(),yu(s);else return l=s.lanes=536870912,fm(t,s,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Gl(s,d.cachePool),gu(s,d),Ts(),s.memoizedState=null):(t!==null&&Gl(s,null),Qi(),Ts());return lt(t,s,c,a),s.child}function Bn(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function fm(t,s,a,l,c){var d=Fi();return d=d===null?null:{parent:Ke._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&Gl(s,null),Qi(),yu(s),t!==null&&Da(t,s,l,!0),s.childLanes=c,null}function sr(t,s){return s=nr({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function pm(t,s,a){return ca(s,t.child,null,a),t=sr(s,s.pendingProps),t.flags|=2,Ct(s),s.memoizedState=null,t}function dp(t,s,a){var l=s.pendingProps,c=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Se){if(l.mode==="hidden")return t=sr(s,l),s.lanes=536870912,Bn(null,t);if(Wi(s),(t=Ue)?(t=Ex(t,Ht),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ks!==null?{id:It,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},a=Jd(t),a.return=s,s.child=a,at=s,Ue=null)):t=null,t===null)throw Cs(s);return s.lanes=536870912,null}return sr(s,l)}var d=t.memoizedState;if(d!==null){var h=d.dehydrated;if(Wi(s),c)if(s.flags&256)s.flags&=-257,s=pm(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(o(558));else if(Xe||Da(t,s,a,!1),c=(a&t.childLanes)!==0,Xe||c){if(l=_e,l!==null&&(h=rd(l,a),h!==0&&h!==d.retryLane))throw d.retryLane=h,ea(t,h),gt(l,t,h),vc;xr(),s=pm(t,s,a)}else t=d.treeContext,Ue=Gt(h.nextSibling),at=s,Se=!0,Ss=null,Ht=!1,t!==null&&su(s,t),s=sr(s,l),s.flags|=4096;return s}return t=as(t.child,{mode:l.mode,children:l.children}),t.ref=s.ref,s.child=t,t.return=s,t}function ar(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function jc(t,s,a,l,c){return na(s),a=ec(t,s,a,l,void 0,c),l=tc(),t!==null&&!Xe?(sc(t,s,c),os(t,s,c)):(Se&&l&&Ui(s),s.flags|=1,lt(t,s,a,c),s.child)}function gm(t,s,a,l,c,d){return na(s),s.updateQueue=null,a=ju(s,l,a,c),vu(t),l=tc(),t!==null&&!Xe?(sc(t,s,d),os(t,s,d)):(Se&&l&&Ui(s),s.flags|=1,lt(t,s,a,d),s.child)}function ym(t,s,a,l,c){if(na(s),s.stateNode===null){var d=Ma,h=a.contextType;typeof h=="object"&&h!==null&&(d=nt(h)),d=new a(l,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gc,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=l,d.state=s.memoizedState,d.refs={},Yi(s),h=a.contextType,d.context=typeof h=="object"&&h!==null?nt(h):Ma,d.state=s.memoizedState,h=a.getDerivedStateFromProps,typeof h=="function"&&(pc(s,a,h,l),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(h=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),h!==d.state&&gc.enqueueReplaceState(d,d.state,null),_n(s,l,d,c),Dn(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){d=s.stateNode;var N=s.memoizedProps,L=da(a,N);d.props=L;var q=d.context,ee=a.contextType;h=Ma,typeof ee=="object"&&ee!==null&&(h=nt(ee));var ae=a.getDerivedStateFromProps;ee=typeof ae=="function"||typeof d.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(N||q!==h)&&nm(s,d,l,h),Es=!1;var $=s.memoizedState;d.state=$,_n(s,l,d,c),Dn(),q=s.memoizedState,N||$!==q||Es?(typeof ae=="function"&&(pc(s,a,ae,l),q=s.memoizedState),(L=Es||am(s,a,L,l,$,q,h))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=q),d.props=l,d.state=q,d.context=h,l=L):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{d=s.stateNode,Ki(t,s),h=s.memoizedProps,ee=da(a,h),d.props=ee,ae=s.pendingProps,$=d.context,q=a.contextType,L=Ma,typeof q=="object"&&q!==null&&(L=nt(q)),N=a.getDerivedStateFromProps,(q=typeof N=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(h!==ae||$!==L)&&nm(s,d,l,L),Es=!1,$=s.memoizedState,d.state=$,_n(s,l,d,c),Dn();var X=s.memoizedState;h!==ae||$!==X||Es||t!==null&&t.dependencies!==null&&Hl(t.dependencies)?(typeof N=="function"&&(pc(s,a,N,l),X=s.memoizedState),(ee=Es||am(s,a,ee,l,$,X,L)||t!==null&&t.dependencies!==null&&Hl(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,X,L),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,X,L)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||h===t.memoizedProps&&$===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&$===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=X),d.props=l,d.state=X,d.context=L,l=ee):(typeof d.componentDidUpdate!="function"||h===t.memoizedProps&&$===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&$===t.memoizedState||(s.flags|=1024),l=!1)}return d=l,ar(t,s),l=(s.flags&128)!==0,d||l?(d=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&l?(s.child=ca(s,t.child,null,c),s.child=ca(s,null,a,c)):lt(t,s,a,c),s.memoizedState=d.state,t=s.child):t=os(t,s,c),t}function vm(t,s,a,l){return sa(),s.flags|=256,lt(t,s,a,l),s.child}var bc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nc(t){return{baseLanes:t,cachePool:cu()}}function wc(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Et),t}function jm(t,s,a){var l=s.pendingProps,c=!1,d=(s.flags&128)!==0,h;if((h=d)||(h=t!==null&&t.memoizedState===null?!1:(Fe.current&2)!==0),h&&(c=!0,s.flags&=-129),h=(s.flags&32)!==0,s.flags&=-33,t===null){if(Se){if(c?Rs(s):Ts(),(t=Ue)?(t=Ex(t,Ht),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ks!==null?{id:It,overflow:Xt}:null,retryLane:536870912,hydrationErrors:null},a=Jd(t),a.return=s,s.child=a,at=s,Ue=null)):t=null,t===null)throw Cs(s);return lo(t)?s.lanes=32:s.lanes=536870912,null}var N=l.children;return l=l.fallback,c?(Ts(),c=s.mode,N=nr({mode:"hidden",children:N},c),l=ta(l,c,a,null),N.return=s,l.return=s,N.sibling=l,s.child=N,l=s.child,l.memoizedState=Nc(a),l.childLanes=wc(t,h,a),s.memoizedState=bc,Bn(null,l)):(Rs(s),kc(s,N))}var L=t.memoizedState;if(L!==null&&(N=L.dehydrated,N!==null)){if(d)s.flags&256?(Rs(s),s.flags&=-257,s=Sc(t,s,a)):s.memoizedState!==null?(Ts(),s.child=t.child,s.flags|=128,s=null):(Ts(),N=l.fallback,c=s.mode,l=nr({mode:"visible",children:l.children},c),N=ta(N,c,a,null),N.flags|=2,l.return=s,N.return=s,l.sibling=N,s.child=l,ca(s,t.child,null,a),l=s.child,l.memoizedState=Nc(a),l.childLanes=wc(t,h,a),s.memoizedState=bc,s=Bn(null,l));else if(Rs(s),lo(N)){if(h=N.nextSibling&&N.nextSibling.dataset,h)var q=h.dgst;h=q,l=Error(o(419)),l.stack="",l.digest=h,An({value:l,source:null,stack:null}),s=Sc(t,s,a)}else if(Xe||Da(t,s,a,!1),h=(a&t.childLanes)!==0,Xe||h){if(h=_e,h!==null&&(l=rd(h,a),l!==0&&l!==L.retryLane))throw L.retryLane=l,ea(t,l),gt(h,t,l),vc;no(N)||xr(),s=Sc(t,s,a)}else no(N)?(s.flags|=192,s.child=t.child,s=null):(t=L.treeContext,Ue=Gt(N.nextSibling),at=s,Se=!0,Ss=null,Ht=!1,t!==null&&su(s,t),s=kc(s,l.children),s.flags|=4096);return s}return c?(Ts(),N=l.fallback,c=s.mode,L=t.child,q=L.sibling,l=as(L,{mode:"hidden",children:l.children}),l.subtreeFlags=L.subtreeFlags&65011712,q!==null?N=as(q,N):(N=ta(N,c,a,null),N.flags|=2),N.return=s,l.return=s,l.sibling=N,s.child=l,Bn(null,l),l=s.child,N=t.child.memoizedState,N===null?N=Nc(a):(c=N.cachePool,c!==null?(L=Ke._currentValue,c=c.parent!==L?{parent:L,pool:L}:c):c=cu(),N={baseLanes:N.baseLanes|a,cachePool:c}),l.memoizedState=N,l.childLanes=wc(t,h,a),s.memoizedState=bc,Bn(t.child,l)):(Rs(s),a=t.child,t=a.sibling,a=as(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(h=s.deletions,h===null?(s.deletions=[t],s.flags|=16):h.push(t)),s.child=a,s.memoizedState=null,a)}function kc(t,s){return s=nr({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function nr(t,s){return t=kt(22,t,null,s),t.lanes=0,t}function Sc(t,s,a){return ca(s,t.child,null,a),t=kc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function bm(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Gi(t.return,s,a)}function Cc(t,s,a,l,c,d){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:c,treeForkCount:d}:(h.isBackwards=s,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=a,h.tailMode=c,h.treeForkCount=d)}function Nm(t,s,a){var l=s.pendingProps,c=l.revealOrder,d=l.tail;l=l.children;var h=Fe.current,N=(h&2)!==0;if(N?(h=h&1|2,s.flags|=128):h&=1,le(Fe,h),lt(t,s,l,a),l=Se?Cn:0,!N&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&bm(t,a,s);else if(t.tag===19)bm(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=s.child,c=null;a!==null;)t=a.alternate,t!==null&&Yl(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=s.child,s.child=null):(c=a.sibling,a.sibling=null),Cc(s,!1,c,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=s.child,s.child=null;c!==null;){if(t=c.alternate,t!==null&&Yl(t)===null){s.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Cc(s,!0,a,null,d,l);break;case"together":Cc(s,!1,null,null,void 0,l);break;default:s.memoizedState=null}return s.child}function os(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Us|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Da(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,a=as(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=as(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Ac(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Hl(t)))}function up(t,s,a){switch(s.tag){case 3:Ze(s,s.stateNode.containerInfo),As(s,Ke,t.memoizedState.cache),sa();break;case 27:case 5:js(s);break;case 4:Ze(s,s.stateNode.containerInfo);break;case 10:As(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Wi(s),null;break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(Rs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?jm(t,s,a):(Rs(s),t=os(t,s,a),t!==null?t.sibling:null);Rs(s);break;case 19:var c=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(Da(t,s,a,!1),l=(a&s.childLanes)!==0),c){if(l)return Nm(t,s,a);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),le(Fe,Fe.current),l)break;return null;case 22:return s.lanes=0,hm(t,s,a,s.pendingProps);case 24:As(s,Ke,t.memoizedState.cache)}return os(t,s,a)}function wm(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Xe=!0;else{if(!Ac(t,a)&&(s.flags&128)===0)return Xe=!1,up(t,s,a);Xe=(t.flags&131072)!==0}else Xe=!1,Se&&(s.flags&1048576)!==0&&tu(s,Cn,s.index);switch(s.lanes=0,s.tag){case 16:e:{var l=s.pendingProps;if(t=ra(s.elementType),s.type=t,typeof t=="function")Ti(t)?(l=da(t,l),s.tag=1,s=ym(null,s,t,l,a)):(s.tag=0,s=jc(null,s,t,l,a));else{if(t!=null){var c=t.$$typeof;if(c===z){s.tag=11,s=um(null,s,t,l,a);break e}else if(c===M){s.tag=14,s=mm(null,s,t,l,a);break e}}throw s=I(t)||t,Error(o(306,s,""))}}return s;case 0:return jc(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,c=da(l,s.pendingProps),ym(t,s,l,c,a);case 3:e:{if(Ze(s,s.stateNode.containerInfo),t===null)throw Error(o(387));l=s.pendingProps;var d=s.memoizedState;c=d.element,Ki(t,s),_n(s,l,null,a);var h=s.memoizedState;if(l=h.cache,As(s,Ke,l),l!==d.cache&&Vi(s,[Ke],a,!0),Dn(),l=h.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:h.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=vm(t,s,l,a);break e}else if(l!==c){c=Ut(Error(o(424)),s),An(c),s=vm(t,s,l,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Ue=Gt(t.firstChild),at=s,Se=!0,Ss=null,Ht=!0,a=hu(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(sa(),l===c){s=os(t,s,a);break e}lt(t,s,l,a)}s=s.child}return s;case 26:return ar(t,s),t===null?(a=_x(s.type,null,s.pendingProps,null))?s.memoizedState=a:Se||(a=s.type,t=s.pendingProps,l=jr(he.current).createElement(a),l[st]=s,l[ut]=t,rt(l,a,t),Je(l),s.stateNode=l):s.memoizedState=_x(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return js(s),t===null&&Se&&(l=s.stateNode=Rx(s.type,s.pendingProps,he.current),at=s,Ht=!0,c=Ue,Gs(s.type)?(ro=c,Ue=Gt(l.firstChild)):Ue=c),lt(t,s,s.pendingProps.children,a),ar(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Se&&((c=l=Ue)&&(l=Vp(l,s.type,s.pendingProps,Ht),l!==null?(s.stateNode=l,at=s,Ue=Gt(l.firstChild),Ht=!1,c=!0):c=!1),c||Cs(s)),js(s),c=s.type,d=s.pendingProps,h=t!==null?t.memoizedProps:null,l=d.children,to(c,d)?l=null:h!==null&&to(c,h)&&(s.flags|=32),s.memoizedState!==null&&(c=ec(t,s,sp,null,null,a),el._currentValue=c),ar(t,s),lt(t,s,l,a),s.child;case 6:return t===null&&Se&&((t=a=Ue)&&(a=qp(a,s.pendingProps,Ht),a!==null?(s.stateNode=a,at=s,Ue=null,t=!0):t=!1),t||Cs(s)),null;case 13:return jm(t,s,a);case 4:return Ze(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=ca(s,null,l,a):lt(t,s,l,a),s.child;case 11:return um(t,s,s.type,s.pendingProps,a);case 7:return lt(t,s,s.pendingProps,a),s.child;case 8:return lt(t,s,s.pendingProps.children,a),s.child;case 12:return lt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,As(s,s.type,l.value),lt(t,s,l.children,a),s.child;case 9:return c=s.type._context,l=s.pendingProps.children,na(s),c=nt(c),l=l(c),s.flags|=1,lt(t,s,l,a),s.child;case 14:return mm(t,s,s.type,s.pendingProps,a);case 15:return xm(t,s,s.type,s.pendingProps,a);case 19:return Nm(t,s,a);case 31:return dp(t,s,a);case 22:return hm(t,s,a,s.pendingProps);case 24:return na(s),l=nt(Ke),t===null?(c=Fi(),c===null&&(c=_e,d=qi(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),s.memoizedState={parent:l,cache:c},Yi(s),As(s,Ke,c)):((t.lanes&a)!==0&&(Ki(t,s),_n(s,null,null,a),Dn()),c=t.memoizedState,d=s.memoizedState,c.parent!==l?(c={parent:l,cache:l},s.memoizedState=c,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=c),As(s,Ke,l)):(l=d.cache,As(s,Ke,l),l!==c.cache&&Vi(s,[Ke],a,!0))),lt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function ds(t){t.flags|=4}function Ec(t,s,a,l,c){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Qm())t.flags|=8192;else throw ia=ql,$i}else t.flags&=-16777217}function km(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Bx(s))if(Qm())t.flags|=8192;else throw ia=ql,$i}function lr(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?ad():536870912,t.lanes|=s,$a|=s)}function Gn(t,s){if(!Se)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function Oe(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function mp(t,s,a){var l=s.pendingProps;switch(Oi(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(s),null;case 1:return Oe(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),rs(Ke),Be(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ta(s)?ds(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Hi())),Oe(s),null;case 26:var c=s.type,d=s.memoizedState;return t===null?(ds(s),d!==null?(Oe(s),km(s,d)):(Oe(s),Ec(s,c,null,l,a))):d?d!==t.memoizedState?(ds(s),Oe(s),km(s,d)):(Oe(s),s.flags&=-16777217):(t=t.memoizedProps,t!==l&&ds(s),Oe(s),Ec(s,c,t,l,a)),null;case 27:if(ce(s),a=he.current,c=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ds(s);else{if(!l){if(s.stateNode===null)throw Error(o(166));return Oe(s),null}t=oe.current,Ta(s)?au(s):(t=Rx(c,l,a),s.stateNode=t,ds(s))}return Oe(s),null;case 5:if(ce(s),c=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&ds(s);else{if(!l){if(s.stateNode===null)throw Error(o(166));return Oe(s),null}if(d=oe.current,Ta(s))au(s);else{var h=jr(he.current);switch(d){case 1:d=h.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=h.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=h.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=h.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=h.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?h.createElement(c,{is:l.is}):h.createElement(c)}}d[st]=s,d[ut]=l;e:for(h=s.child;h!==null;){if(h.tag===5||h.tag===6)d.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===s)break e;for(;h.sibling===null;){if(h.return===null||h.return===s)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}s.stateNode=d;e:switch(rt(d,c,l),c){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ds(s)}}return Oe(s),Ec(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&ds(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(o(166));if(t=he.current,Ta(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,c=at,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[st]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||jx(t.nodeValue,a)),t||Cs(s,!0)}else t=jr(t).createTextNode(l),t[st]=s,s.stateNode=t}return Oe(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(l=Ta(s),a!==null){if(t===null){if(!l)throw Error(o(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[st]=s}else sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Oe(s),t=!1}else a=Hi(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Ct(s),s):(Ct(s),null);if((s.flags&128)!==0)throw Error(o(558))}return Oe(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ta(s),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(o(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[st]=s}else sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Oe(s),c=!1}else c=Hi(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return s.flags&256?(Ct(s),s):(Ct(s),null)}return Ct(s),(s.flags&128)!==0?(s.lanes=a,s):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=s.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==c&&(l.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),lr(s,s.updateQueue),Oe(s),null);case 4:return Be(),t===null&&Qc(s.stateNode.containerInfo),Oe(s),null;case 10:return rs(s.type),Oe(s),null;case 19:if(Y(Fe),l=s.memoizedState,l===null)return Oe(s),null;if(c=(s.flags&128)!==0,d=l.rendering,d===null)if(c)Gn(l,!1);else{if(Pe!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=Yl(t),d!==null){for(s.flags|=128,Gn(l,!1),t=d.updateQueue,s.updateQueue=t,lr(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Wd(a,t),a=a.sibling;return le(Fe,Fe.current&1|2),Se&&ns(s,l.treeForkCount),s.child}t=t.sibling}l.tail!==null&&jt()>dr&&(s.flags|=128,c=!0,Gn(l,!1),s.lanes=4194304)}else{if(!c)if(t=Yl(d),t!==null){if(s.flags|=128,c=!0,t=t.updateQueue,s.updateQueue=t,lr(s,t),Gn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Se)return Oe(s),null}else 2*jt()-l.renderingStartTime>dr&&a!==536870912&&(s.flags|=128,c=!0,Gn(l,!1),s.lanes=4194304);l.isBackwards?(d.sibling=s.child,s.child=d):(t=l.last,t!==null?t.sibling=d:s.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=jt(),t.sibling=null,a=Fe.current,le(Fe,c?a&1|2:a&1),Se&&ns(s,l.treeForkCount),t):(Oe(s),null);case 22:case 23:return Ct(s),Zi(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(Oe(s),s.subtreeFlags&6&&(s.flags|=8192)):Oe(s),a=s.updateQueue,a!==null&&lr(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&Y(la),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),rs(Ke),Oe(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function xp(t,s){switch(Oi(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return rs(Ke),Be(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ce(s),null;case 31:if(s.memoizedState!==null){if(Ct(s),s.alternate===null)throw Error(o(340));sa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Ct(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));sa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return Y(Fe),null;case 4:return Be(),null;case 10:return rs(s.type),null;case 22:case 23:return Ct(s),Zi(),t!==null&&Y(la),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return rs(Ke),null;case 25:return null;default:return null}}function Sm(t,s){switch(Oi(s),s.tag){case 3:rs(Ke),Be();break;case 26:case 27:case 5:ce(s);break;case 4:Be();break;case 31:s.memoizedState!==null&&Ct(s);break;case 13:Ct(s);break;case 19:Y(Fe);break;case 10:rs(s.type);break;case 22:case 23:Ct(s),Zi(),t!==null&&Y(la);break;case 24:rs(Ke)}}function Vn(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var c=l.next;a=c;do{if((a.tag&t)===t){l=void 0;var d=a.create,h=a.inst;l=d(),h.destroy=l}a=a.next}while(a!==c)}}catch(N){Le(s,s.return,N)}}function Ds(t,s,a){try{var l=s.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var d=c.next;l=d;do{if((l.tag&t)===t){var h=l.inst,N=h.destroy;if(N!==void 0){h.destroy=void 0,c=s;var L=a,q=N;try{q()}catch(ee){Le(c,L,ee)}}}l=l.next}while(l!==d)}}catch(ee){Le(s,s.return,ee)}}function Cm(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{pu(s,a)}catch(l){Le(t,t.return,l)}}}function Am(t,s,a){a.props=da(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Le(t,s,l)}}function qn(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(c){Le(t,s,c)}}function Qt(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(c){Le(t,s,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Le(t,s,c)}else a.current=null}function Em(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(c){Le(t,t.return,c)}}function Mc(t,s,a){try{var l=t.stateNode;Up(l,t.type,a,s),l[ut]=s}catch(c){Le(t,t.return,c)}}function Mm(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gs(t.type)||t.tag===4}function Lc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rc(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ts));else if(l!==4&&(l===27&&Gs(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Rc(t,s,a),t=t.sibling;t!==null;)Rc(t,s,a),t=t.sibling}function rr(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&Gs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(rr(t,s,a),t=t.sibling;t!==null;)rr(t,s,a),t=t.sibling}function Lm(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,c=s.attributes;c.length;)s.removeAttributeNode(c[0]);rt(s,l,a),s[st]=t,s[ut]=a}catch(d){Le(t,t.return,d)}}var us=!1,Qe=!1,Tc=!1,Rm=typeof WeakSet=="function"?WeakSet:Set,et=null;function hp(t,s){if(t=t.containerInfo,Jc=Ar,t=Pd(t),Si(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var c=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var h=0,N=-1,L=-1,q=0,ee=0,ae=t,$=null;t:for(;;){for(var X;ae!==a||c!==0&&ae.nodeType!==3||(N=h+c),ae!==d||l!==0&&ae.nodeType!==3||(L=h+l),ae.nodeType===3&&(h+=ae.nodeValue.length),(X=ae.firstChild)!==null;)$=ae,ae=X;for(;;){if(ae===t)break t;if($===a&&++q===c&&(N=h),$===d&&++ee===l&&(L=h),(X=ae.nextSibling)!==null)break;ae=$,$=ae.parentNode}ae=X}a=N===-1||L===-1?null:{start:N,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(eo={focusedElem:t,selectionRange:a},Ar=!1,et=s;et!==null;)if(s=et,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,et=t;else for(;et!==null;){switch(s=et,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,c=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var de=da(a.type,c);t=l.getSnapshotBeforeUpdate(de,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(fe){Le(a,a.return,fe)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)ao(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":ao(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,et=t;break}et=s.return}}function Tm(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:xs(t,a),l&4&&Vn(5,a);break;case 1:if(xs(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(h){Le(a,a.return,h)}else{var c=da(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(c,s,t.__reactInternalSnapshotBeforeUpdate)}catch(h){Le(a,a.return,h)}}l&64&&Cm(a),l&512&&qn(a,a.return);break;case 3:if(xs(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{pu(t,s)}catch(h){Le(a,a.return,h)}}break;case 27:s===null&&l&4&&Lm(a);case 26:case 5:xs(t,a),s===null&&l&4&&Em(a),l&512&&qn(a,a.return);break;case 12:xs(t,a);break;case 31:xs(t,a),l&4&&Um(t,a);break;case 13:xs(t,a),l&4&&Om(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=wp.bind(null,a),Pp(t,a))));break;case 22:if(l=a.memoizedState!==null||us,!l){s=s!==null&&s.memoizedState!==null||Qe,c=us;var d=Qe;us=l,(Qe=s)&&!d?hs(t,a,(a.subtreeFlags&8772)!==0):xs(t,a),us=c,Qe=d}break;case 30:break;default:xs(t,a)}}function Dm(t){var s=t.alternate;s!==null&&(t.alternate=null,Dm(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&ci(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ze=null,xt=!1;function ms(t,s,a){for(a=a.child;a!==null;)_m(t,s,a),a=a.sibling}function _m(t,s,a){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(mn,a)}catch{}switch(a.tag){case 26:Qe||Qt(a,s),ms(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Qe||Qt(a,s);var l=ze,c=xt;Gs(a.type)&&(ze=a.stateNode,xt=!1),ms(t,s,a),Zn(a.stateNode),ze=l,xt=c;break;case 5:Qe||Qt(a,s);case 6:if(l=ze,c=xt,ze=null,ms(t,s,a),ze=l,xt=c,ze!==null)if(xt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(a.stateNode)}catch(d){Le(a,s,d)}else try{ze.removeChild(a.stateNode)}catch(d){Le(a,s,d)}break;case 18:ze!==null&&(xt?(t=ze,Cx(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ja(t)):Cx(ze,a.stateNode));break;case 4:l=ze,c=xt,ze=a.stateNode.containerInfo,xt=!0,ms(t,s,a),ze=l,xt=c;break;case 0:case 11:case 14:case 15:Ds(2,a,s),Qe||Ds(4,a,s),ms(t,s,a);break;case 1:Qe||(Qt(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Am(a,s,l)),ms(t,s,a);break;case 21:ms(t,s,a);break;case 22:Qe=(l=Qe)||a.memoizedState!==null,ms(t,s,a),Qe=l;break;default:ms(t,s,a)}}function Um(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ja(t)}catch(a){Le(s,s.return,a)}}}function Om(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ja(t)}catch(a){Le(s,s.return,a)}}function fp(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Rm),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Rm),s;default:throw Error(o(435,t.tag))}}function ir(t,s){var a=fp(t);s.forEach(function(l){if(!a.has(l)){a.add(l);var c=kp.bind(null,t,l);l.then(c,c)}})}function ht(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var c=a[l],d=t,h=s,N=h;e:for(;N!==null;){switch(N.tag){case 27:if(Gs(N.type)){ze=N.stateNode,xt=!1;break e}break;case 5:ze=N.stateNode,xt=!1;break e;case 3:case 4:ze=N.stateNode.containerInfo,xt=!0;break e}N=N.return}if(ze===null)throw Error(o(160));_m(d,h,c),ze=null,xt=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)zm(s,t),s=s.sibling}var Ft=null;function zm(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ht(s,t),ft(t),l&4&&(Ds(3,t,t.return),Vn(3,t),Ds(5,t,t.return));break;case 1:ht(s,t),ft(t),l&512&&(Qe||a===null||Qt(a,a.return)),l&64&&us&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var c=Ft;if(ht(s,t),ft(t),l&512&&(Qe||a===null||Qt(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(l){case"title":d=c.getElementsByTagName("title")[0],(!d||d[fn]||d[st]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(l),c.head.insertBefore(d,c.querySelector("head > title"))),rt(d,l,a),d[st]=t,Je(d),l=d;break e;case"link":var h=zx("link","href",c).get(l+(a.href||""));if(h){for(var N=0;N<h.length;N++)if(d=h[N],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){h.splice(N,1);break t}}d=c.createElement(l),rt(d,l,a),c.head.appendChild(d);break;case"meta":if(h=zx("meta","content",c).get(l+(a.content||""))){for(N=0;N<h.length;N++)if(d=h[N],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){h.splice(N,1);break t}}d=c.createElement(l),rt(d,l,a),c.head.appendChild(d);break;default:throw Error(o(468,l))}d[st]=t,Je(d),l=d}t.stateNode=l}else Hx(c,t.type,t.stateNode);else t.stateNode=Ox(c,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Hx(c,t.type,t.stateNode):Ox(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Mc(t,t.memoizedProps,a.memoizedProps)}break;case 27:ht(s,t),ft(t),l&512&&(Qe||a===null||Qt(a,a.return)),a!==null&&l&4&&Mc(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ht(s,t),ft(t),l&512&&(Qe||a===null||Qt(a,a.return)),t.flags&32){c=t.stateNode;try{Na(c,"")}catch(de){Le(t,t.return,de)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Mc(t,c,a!==null?a.memoizedProps:c)),l&1024&&(Tc=!0);break;case 6:if(ht(s,t),ft(t),l&4){if(t.stateNode===null)throw Error(o(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(de){Le(t,t.return,de)}}break;case 3:if(wr=null,c=Ft,Ft=br(s.containerInfo),ht(s,t),Ft=c,ft(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(s.containerInfo)}catch(de){Le(t,t.return,de)}Tc&&(Tc=!1,Hm(t));break;case 4:l=Ft,Ft=br(t.stateNode.containerInfo),ht(s,t),ft(t),Ft=l;break;case 12:ht(s,t),ft(t);break;case 31:ht(s,t),ft(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ir(t,l)));break;case 13:ht(s,t),ft(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(or=jt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ir(t,l)));break;case 22:c=t.memoizedState!==null;var L=a!==null&&a.memoizedState!==null,q=us,ee=Qe;if(us=q||c,Qe=ee||L,ht(s,t),Qe=ee,us=q,ft(t),l&8192)e:for(s=t.stateNode,s._visibility=c?s._visibility&-2:s._visibility|1,c&&(a===null||L||us||Qe||ua(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){L=a=s;try{if(d=L.stateNode,c)h=d.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{N=L.stateNode;var ae=L.memoizedProps.style,$=ae!=null&&ae.hasOwnProperty("display")?ae.display:null;N.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(de){Le(L,L.return,de)}}}else if(s.tag===6){if(a===null){L=s;try{L.stateNode.nodeValue=c?"":L.memoizedProps}catch(de){Le(L,L.return,de)}}}else if(s.tag===18){if(a===null){L=s;try{var X=L.stateNode;c?Ax(X,!0):Ax(L.stateNode,!1)}catch(de){Le(L,L.return,de)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ir(t,a))));break;case 19:ht(s,t),ft(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ir(t,l)));break;case 30:break;case 21:break;default:ht(s,t),ft(t)}}function ft(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(Mm(l)){a=l;break}l=l.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var c=a.stateNode,d=Lc(t);rr(t,d,c);break;case 5:var h=a.stateNode;a.flags&32&&(Na(h,""),a.flags&=-33);var N=Lc(t);rr(t,N,h);break;case 3:case 4:var L=a.stateNode.containerInfo,q=Lc(t);Rc(t,q,L);break;default:throw Error(o(161))}}catch(ee){Le(t,t.return,ee)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Hm(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Hm(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function xs(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Tm(t,s.alternate,s),s=s.sibling}function ua(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ds(4,s,s.return),ua(s);break;case 1:Qt(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Am(s,s.return,a),ua(s);break;case 27:Zn(s.stateNode);case 26:case 5:Qt(s,s.return),ua(s);break;case 22:s.memoizedState===null&&ua(s);break;case 30:ua(s);break;default:ua(s)}t=t.sibling}}function hs(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,c=t,d=s,h=d.flags;switch(d.tag){case 0:case 11:case 15:hs(c,d,a),Vn(4,d);break;case 1:if(hs(c,d,a),l=d,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(q){Le(l,l.return,q)}if(l=d,c=l.updateQueue,c!==null){var N=l.stateNode;try{var L=c.shared.hiddenCallbacks;if(L!==null)for(c.shared.hiddenCallbacks=null,c=0;c<L.length;c++)fu(L[c],N)}catch(q){Le(l,l.return,q)}}a&&h&64&&Cm(d),qn(d,d.return);break;case 27:Lm(d);case 26:case 5:hs(c,d,a),a&&l===null&&h&4&&Em(d),qn(d,d.return);break;case 12:hs(c,d,a);break;case 31:hs(c,d,a),a&&h&4&&Um(c,d);break;case 13:hs(c,d,a),a&&h&4&&Om(c,d);break;case 22:d.memoizedState===null&&hs(c,d,a),qn(d,d.return);break;case 30:break;default:hs(c,d,a)}s=s.sibling}}function Dc(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&En(a))}function _c(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&En(t))}function $t(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Bm(t,s,a,l),s=s.sibling}function Bm(t,s,a,l){var c=s.flags;switch(s.tag){case 0:case 11:case 15:$t(t,s,a,l),c&2048&&Vn(9,s);break;case 1:$t(t,s,a,l);break;case 3:$t(t,s,a,l),c&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&En(t)));break;case 12:if(c&2048){$t(t,s,a,l),t=s.stateNode;try{var d=s.memoizedProps,h=d.id,N=d.onPostCommit;typeof N=="function"&&N(h,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(L){Le(s,s.return,L)}}else $t(t,s,a,l);break;case 31:$t(t,s,a,l);break;case 13:$t(t,s,a,l);break;case 23:break;case 22:d=s.stateNode,h=s.alternate,s.memoizedState!==null?d._visibility&2?$t(t,s,a,l):Pn(t,s):d._visibility&2?$t(t,s,a,l):(d._visibility|=2,qa(t,s,a,l,(s.subtreeFlags&10256)!==0||!1)),c&2048&&Dc(h,s);break;case 24:$t(t,s,a,l),c&2048&&_c(s.alternate,s);break;default:$t(t,s,a,l)}}function qa(t,s,a,l,c){for(c=c&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,h=s,N=a,L=l,q=h.flags;switch(h.tag){case 0:case 11:case 15:qa(d,h,N,L,c),Vn(8,h);break;case 23:break;case 22:var ee=h.stateNode;h.memoizedState!==null?ee._visibility&2?qa(d,h,N,L,c):Pn(d,h):(ee._visibility|=2,qa(d,h,N,L,c)),c&&q&2048&&Dc(h.alternate,h);break;case 24:qa(d,h,N,L,c),c&&q&2048&&_c(h.alternate,h);break;default:qa(d,h,N,L,c)}s=s.sibling}}function Pn(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,c=l.flags;switch(l.tag){case 22:Pn(a,l),c&2048&&Dc(l.alternate,l);break;case 24:Pn(a,l),c&2048&&_c(l.alternate,l);break;default:Pn(a,l)}s=s.sibling}}var Fn=8192;function Pa(t,s,a){if(t.subtreeFlags&Fn)for(t=t.child;t!==null;)Gm(t,s,a),t=t.sibling}function Gm(t,s,a){switch(t.tag){case 26:Pa(t,s,a),t.flags&Fn&&t.memoizedState!==null&&tg(a,Ft,t.memoizedState,t.memoizedProps);break;case 5:Pa(t,s,a);break;case 3:case 4:var l=Ft;Ft=br(t.stateNode.containerInfo),Pa(t,s,a),Ft=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Fn,Fn=16777216,Pa(t,s,a),Fn=l):Pa(t,s,a));break;default:Pa(t,s,a)}}function Vm(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function $n(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];et=l,Pm(l,t)}Vm(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qm(t),t=t.sibling}function qm(t){switch(t.tag){case 0:case 11:case 15:$n(t),t.flags&2048&&Ds(9,t,t.return);break;case 3:$n(t);break;case 12:$n(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,cr(t)):$n(t);break;default:$n(t)}}function cr(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];et=l,Pm(l,t)}Vm(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ds(8,s,s.return),cr(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,cr(s));break;default:cr(s)}t=t.sibling}}function Pm(t,s){for(;et!==null;){var a=et;switch(a.tag){case 0:case 11:case 15:Ds(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:En(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,et=l;else e:for(a=t;et!==null;){l=et;var c=l.sibling,d=l.return;if(Dm(l),l===a){et=null;break e}if(c!==null){c.return=d,et=c;break e}et=d}}}var pp={getCacheForType:function(t){var s=nt(Ke),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return nt(Ke).controller.signal}},gp=typeof WeakMap=="function"?WeakMap:Map,Ee=0,_e=null,be=null,we=0,Me=0,At=null,_s=!1,Fa=!1,Uc=!1,fs=0,Pe=0,Us=0,ma=0,Oc=0,Et=0,$a=0,Yn=null,pt=null,zc=!1,or=0,Fm=0,dr=1/0,ur=null,Os=null,We=0,zs=null,Ya=null,ps=0,Hc=0,Bc=null,$m=null,Kn=0,Gc=null;function Mt(){return(Ee&2)!==0&&we!==0?we&-we:A.T!==null?Yc():id()}function Ym(){if(Et===0)if((we&536870912)===0||Se){var t=vl;vl<<=1,(vl&3932160)===0&&(vl=262144),Et=t}else Et=536870912;return t=St.current,t!==null&&(t.flags|=32),Et}function gt(t,s,a){(t===_e&&(Me===2||Me===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Hs(t,we,Et,!1)),hn(t,a),((Ee&2)===0||t!==_e)&&(t===_e&&((Ee&2)===0&&(ma|=a),Pe===4&&Hs(t,we,Et,!1)),Zt(t))}function Km(t,s,a){if((Ee&6)!==0)throw Error(o(327));var l=!a&&(s&127)===0&&(s&t.expiredLanes)===0||xn(t,s),c=l?jp(t,s):qc(t,s,!0),d=l;do{if(c===0){Fa&&!l&&Hs(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!yp(a)){c=qc(t,s,!1),d=!1;continue}if(c===2){if(d=s,t.errorRecoveryDisabledLanes&d)var h=0;else h=t.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){s=h;e:{var N=t;c=Yn;var L=N.current.memoizedState.isDehydrated;if(L&&(Ka(N,h).flags|=256),h=qc(N,h,!1),h!==2){if(Uc&&!L){N.errorRecoveryDisabledLanes|=d,ma|=d,c=4;break e}d=pt,pt=c,d!==null&&(pt===null?pt=d:pt.push.apply(pt,d))}c=h}if(d=!1,c!==2)continue}}if(c===1){Ka(t,0),Hs(t,s,0,!0);break}e:{switch(l=t,d=c,d){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Hs(l,s,Et,!_s);break e;case 2:pt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(c=or+300-jt(),10<c)){if(Hs(l,s,Et,!_s),bl(l,0,!0)!==0)break e;ps=s,l.timeoutHandle=kx(Im.bind(null,l,a,pt,ur,zc,s,Et,ma,$a,_s,d,"Throttled",-0,0),c);break e}Im(l,a,pt,ur,zc,s,Et,ma,$a,_s,d,null,-0,0)}}break}while(!0);Zt(t)}function Im(t,s,a,l,c,d,h,N,L,q,ee,ae,$,X){if(t.timeoutHandle=-1,ae=s.subtreeFlags,ae&8192||(ae&16785408)===16785408){ae={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ts},Gm(s,d,ae);var de=(d&62914560)===d?or-jt():(d&4194048)===d?Fm-jt():0;if(de=sg(ae,de),de!==null){ps=d,t.cancelPendingCommit=de(sx.bind(null,t,s,d,a,l,c,h,N,L,ee,ae,null,$,X)),Hs(t,d,h,!q);return}}sx(t,s,d,a,l,c,h,N,L)}function yp(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var c=a[l],d=c.getSnapshot;c=c.value;try{if(!wt(d(),c))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hs(t,s,a,l){s&=~Oc,s&=~ma,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var c=s;0<c;){var d=31-Nt(c),h=1<<d;l[d]=-1,c&=~h}a!==0&&nd(t,a,s)}function mr(){return(Ee&6)===0?(In(0),!1):!0}function Vc(){if(be!==null){if(Me===0)var t=be.return;else t=be,ls=aa=null,ac(t),za=null,Ln=0,t=be;for(;t!==null;)Sm(t.alternate,t),t=t.return;be=null}}function Ka(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Hp(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ps=0,Vc(),_e=t,be=a=as(t.current,null),we=s,Me=0,At=null,_s=!1,Fa=xn(t,s),Uc=!1,$a=Et=Oc=ma=Us=Pe=0,pt=Yn=null,zc=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var c=31-Nt(l),d=1<<c;s|=t[c],l&=~d}return fs=s,Dl(),a}function Xm(t,s){ge=null,A.H=Hn,s===Oa||s===Vl?(s=uu(),Me=3):s===$i?(s=uu(),Me=4):Me=s===vc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,At=s,be===null&&(Pe=1,tr(t,Ut(s,t.current)))}function Qm(){var t=St.current;return t===null?!0:(we&4194048)===we?Bt===null:(we&62914560)===we||(we&536870912)!==0?t===Bt:!1}function Zm(){var t=A.H;return A.H=Hn,t===null?Hn:t}function Wm(){var t=A.A;return A.A=pp,t}function xr(){Pe=4,_s||(we&4194048)!==we&&St.current!==null||(Fa=!0),(Us&134217727)===0&&(ma&134217727)===0||_e===null||Hs(_e,we,Et,!1)}function qc(t,s,a){var l=Ee;Ee|=2;var c=Zm(),d=Wm();(_e!==t||we!==s)&&(ur=null,Ka(t,s)),s=!1;var h=Pe;e:do try{if(Me!==0&&be!==null){var N=be,L=At;switch(Me){case 8:Vc(),h=6;break e;case 3:case 2:case 9:case 6:St.current===null&&(s=!0);var q=Me;if(Me=0,At=null,Ia(t,N,L,q),a&&Fa){h=0;break e}break;default:q=Me,Me=0,At=null,Ia(t,N,L,q)}}vp(),h=Pe;break}catch(ee){Xm(t,ee)}while(!0);return s&&t.shellSuspendCounter++,ls=aa=null,Ee=l,A.H=c,A.A=d,be===null&&(_e=null,we=0,Dl()),h}function vp(){for(;be!==null;)Jm(be)}function jp(t,s){var a=Ee;Ee|=2;var l=Zm(),c=Wm();_e!==t||we!==s?(ur=null,dr=jt()+500,Ka(t,s)):Fa=xn(t,s);e:do try{if(Me!==0&&be!==null){s=be;var d=At;t:switch(Me){case 1:Me=0,At=null,Ia(t,s,d,1);break;case 2:case 9:if(ou(d)){Me=0,At=null,ex(s);break}s=function(){Me!==2&&Me!==9||_e!==t||(Me=7),Zt(t)},d.then(s,s);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:ou(d)?(Me=0,At=null,ex(s)):(Me=0,At=null,Ia(t,s,d,7));break;case 5:var h=null;switch(be.tag){case 26:h=be.memoizedState;case 5:case 27:var N=be;if(h?Bx(h):N.stateNode.complete){Me=0,At=null;var L=N.sibling;if(L!==null)be=L;else{var q=N.return;q!==null?(be=q,hr(q)):be=null}break t}}Me=0,At=null,Ia(t,s,d,5);break;case 6:Me=0,At=null,Ia(t,s,d,6);break;case 8:Vc(),Pe=6;break e;default:throw Error(o(462))}}bp();break}catch(ee){Xm(t,ee)}while(!0);return ls=aa=null,A.H=l,A.A=c,Ee=a,be!==null?0:(_e=null,we=0,Dl(),Pe)}function bp(){for(;be!==null&&!Ph();)Jm(be)}function Jm(t){var s=wm(t.alternate,t,fs);t.memoizedProps=t.pendingProps,s===null?hr(t):be=s}function ex(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=gm(a,s,s.pendingProps,s.type,void 0,we);break;case 11:s=gm(a,s,s.pendingProps,s.type.render,s.ref,we);break;case 5:ac(s);default:Sm(a,s),s=be=Wd(s,fs),s=wm(a,s,fs)}t.memoizedProps=t.pendingProps,s===null?hr(t):be=s}function Ia(t,s,a,l){ls=aa=null,ac(s),za=null,Ln=0;var c=s.return;try{if(op(t,c,s,a,we)){Pe=1,tr(t,Ut(a,t.current)),be=null;return}}catch(d){if(c!==null)throw be=c,d;Pe=1,tr(t,Ut(a,t.current)),be=null;return}s.flags&32768?(Se||l===1?t=!0:Fa||(we&536870912)!==0?t=!1:(_s=t=!0,(l===2||l===9||l===3||l===6)&&(l=St.current,l!==null&&l.tag===13&&(l.flags|=16384))),tx(s,t)):hr(s)}function hr(t){var s=t;do{if((s.flags&32768)!==0){tx(s,_s);return}t=s.return;var a=mp(s.alternate,s,fs);if(a!==null){be=a;return}if(s=s.sibling,s!==null){be=s;return}be=s=t}while(s!==null);Pe===0&&(Pe=5)}function tx(t,s){do{var a=xp(t.alternate,t);if(a!==null){a.flags&=32767,be=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){be=t;return}be=t=a}while(t!==null);Pe=6,be=null}function sx(t,s,a,l,c,d,h,N,L){t.cancelPendingCommit=null;do fr();while(We!==0);if((Ee&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(d=s.lanes|s.childLanes,d|=Li,Jh(t,a,d,h,N,L),t===_e&&(be=_e=null,we=0),Ya=s,zs=t,ps=a,Hc=d,Bc=c,$m=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Sp(gl,function(){return ix(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=A.T,A.T=null,c=se.p,se.p=2,h=Ee,Ee|=4;try{hp(t,s,a)}finally{Ee=h,se.p=c,A.T=l}}We=1,ax(),nx(),lx()}}function ax(){if(We===1){We=0;var t=zs,s=Ya,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=A.T,A.T=null;var l=se.p;se.p=2;var c=Ee;Ee|=4;try{zm(s,t);var d=eo,h=Pd(t.containerInfo),N=d.focusedElem,L=d.selectionRange;if(h!==N&&N&&N.ownerDocument&&qd(N.ownerDocument.documentElement,N)){if(L!==null&&Si(N)){var q=L.start,ee=L.end;if(ee===void 0&&(ee=q),"selectionStart"in N)N.selectionStart=q,N.selectionEnd=Math.min(ee,N.value.length);else{var ae=N.ownerDocument||document,$=ae&&ae.defaultView||window;if($.getSelection){var X=$.getSelection(),de=N.textContent.length,fe=Math.min(L.start,de),De=L.end===void 0?fe:Math.min(L.end,de);!X.extend&&fe>De&&(h=De,De=fe,fe=h);var U=Vd(N,fe),T=Vd(N,De);if(U&&T&&(X.rangeCount!==1||X.anchorNode!==U.node||X.anchorOffset!==U.offset||X.focusNode!==T.node||X.focusOffset!==T.offset)){var V=ae.createRange();V.setStart(U.node,U.offset),X.removeAllRanges(),fe>De?(X.addRange(V),X.extend(T.node,T.offset)):(V.setEnd(T.node,T.offset),X.addRange(V))}}}}for(ae=[],X=N;X=X.parentNode;)X.nodeType===1&&ae.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ae.length;N++){var te=ae[N];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Ar=!!Jc,eo=Jc=null}finally{Ee=c,se.p=l,A.T=a}}t.current=s,We=2}}function nx(){if(We===2){We=0;var t=zs,s=Ya,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=A.T,A.T=null;var l=se.p;se.p=2;var c=Ee;Ee|=4;try{Tm(t,s.alternate,s)}finally{Ee=c,se.p=l,A.T=a}}We=3}}function lx(){if(We===4||We===3){We=0,Fh();var t=zs,s=Ya,a=ps,l=$m;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?We=5:(We=0,Ya=zs=null,rx(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Os=null),ri(a),s=s.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(mn,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=A.T,c=se.p,se.p=2,A.T=null;try{for(var d=t.onRecoverableError,h=0;h<l.length;h++){var N=l[h];d(N.value,{componentStack:N.stack})}}finally{A.T=s,se.p=c}}(ps&3)!==0&&fr(),Zt(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Gc?Kn++:(Kn=0,Gc=t):Kn=0,In(0)}}function rx(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,En(s)))}function fr(){return ax(),nx(),lx(),ix()}function ix(){if(We!==5)return!1;var t=zs,s=Hc;Hc=0;var a=ri(ps),l=A.T,c=se.p;try{se.p=32>a?32:a,A.T=null,a=Bc,Bc=null;var d=zs,h=ps;if(We=0,Ya=zs=null,ps=0,(Ee&6)!==0)throw Error(o(331));var N=Ee;if(Ee|=4,qm(d.current),Bm(d,d.current,h,a),Ee=N,In(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(mn,d)}catch{}return!0}finally{se.p=c,A.T=l,rx(t,s)}}function cx(t,s,a){s=Ut(a,s),s=yc(t.stateNode,s,2),t=Ls(t,s,2),t!==null&&(hn(t,2),Zt(t))}function Le(t,s,a){if(t.tag===3)cx(t,t,a);else for(;s!==null;){if(s.tag===3){cx(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Os===null||!Os.has(l))){t=Ut(a,t),a=om(2),l=Ls(s,a,2),l!==null&&(dm(a,l,s,t),hn(l,2),Zt(l));break}}s=s.return}}function Pc(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new gp;var c=new Set;l.set(s,c)}else c=l.get(s),c===void 0&&(c=new Set,l.set(s,c));c.has(a)||(Uc=!0,c.add(a),t=Np.bind(null,t,s,a),s.then(t,t))}function Np(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,_e===t&&(we&a)===a&&(Pe===4||Pe===3&&(we&62914560)===we&&300>jt()-or?(Ee&2)===0&&Ka(t,0):Oc|=a,$a===we&&($a=0)),Zt(t)}function ox(t,s){s===0&&(s=ad()),t=ea(t,s),t!==null&&(hn(t,s),Zt(t))}function wp(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),ox(t,a)}function kp(t,s){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(s),ox(t,a)}function Sp(t,s){return si(t,s)}var pr=null,Xa=null,Fc=!1,gr=!1,$c=!1,Bs=0;function Zt(t){t!==Xa&&t.next===null&&(Xa===null?pr=Xa=t:Xa=Xa.next=t),gr=!0,Fc||(Fc=!0,Ap())}function In(t,s){if(!$c&&gr){$c=!0;do for(var a=!1,l=pr;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var d=0;else{var h=l.suspendedLanes,N=l.pingedLanes;d=(1<<31-Nt(42|t)+1)-1,d&=c&~(h&~N),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,xx(l,d))}else d=we,d=bl(l,l===_e?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||xn(l,d)||(a=!0,xx(l,d));l=l.next}while(a);$c=!1}}function Cp(){dx()}function dx(){gr=Fc=!1;var t=0;Bs!==0&&zp()&&(t=Bs);for(var s=jt(),a=null,l=pr;l!==null;){var c=l.next,d=ux(l,s);d===0?(l.next=null,a===null?pr=c:a.next=c,c===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(gr=!0)),l=c}We!==0&&We!==5||In(t),Bs!==0&&(Bs=0)}function ux(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var h=31-Nt(d),N=1<<h,L=c[h];L===-1?((N&a)===0||(N&l)!==0)&&(c[h]=Wh(N,s)):L<=s&&(t.expiredLanes|=N),d&=~N}if(s=_e,a=we,a=bl(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Me===2||Me===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ai(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||xn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&ai(l),ri(a)){case 2:case 8:a=td;break;case 32:a=gl;break;case 268435456:a=sd;break;default:a=gl}return l=mx.bind(null,t),a=si(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&ai(l),t.callbackPriority=2,t.callbackNode=null,2}function mx(t,s){if(We!==0&&We!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(fr()&&t.callbackNode!==a)return null;var l=we;return l=bl(t,t===_e?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Km(t,l,s),ux(t,jt()),t.callbackNode!=null&&t.callbackNode===a?mx.bind(null,t):null)}function xx(t,s){if(fr())return null;Km(t,s,!0)}function Ap(){Bp(function(){(Ee&6)!==0?si(ed,Cp):dx()})}function Yc(){if(Bs===0){var t=_a;t===0&&(t=yl,yl<<=1,(yl&261888)===0&&(yl=256)),Bs=t}return Bs}function hx(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sl(""+t)}function fx(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function Ep(t,s,a,l,c){if(s==="submit"&&a&&a.stateNode===c){var d=hx((c[ut]||null).action),h=l.submitter;h&&(s=(s=h[ut]||null)?hx(s.formAction):h.getAttribute("formAction"),s!==null&&(d=s,h=null));var N=new Ml("action","action",null,l,c);t.push({event:N,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Bs!==0){var L=h?fx(c,h):new FormData(c);mc(a,{pending:!0,data:L,method:c.method,action:d},null,L)}}else typeof d=="function"&&(N.preventDefault(),L=h?fx(c,h):new FormData(c),mc(a,{pending:!0,data:L,method:c.method,action:d},d,L))},currentTarget:c}]})}}for(var Kc=0;Kc<Mi.length;Kc++){var Ic=Mi[Kc],Mp=Ic.toLowerCase(),Lp=Ic[0].toUpperCase()+Ic.slice(1);Pt(Mp,"on"+Lp)}Pt(Yd,"onAnimationEnd"),Pt(Kd,"onAnimationIteration"),Pt(Id,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(Yf,"onTransitionRun"),Pt(Kf,"onTransitionStart"),Pt(If,"onTransitionCancel"),Pt(Xd,"onTransitionEnd"),ja("onMouseEnter",["mouseout","mouseover"]),ja("onMouseLeave",["mouseout","mouseover"]),ja("onPointerEnter",["pointerout","pointerover"]),ja("onPointerLeave",["pointerout","pointerover"]),Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xn));function px(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],c=l.event;l=l.listeners;e:{var d=void 0;if(s)for(var h=l.length-1;0<=h;h--){var N=l[h],L=N.instance,q=N.currentTarget;if(N=N.listener,L!==d&&c.isPropagationStopped())break e;d=N,c.currentTarget=q;try{d(c)}catch(ee){Tl(ee)}c.currentTarget=null,d=L}else for(h=0;h<l.length;h++){if(N=l[h],L=N.instance,q=N.currentTarget,N=N.listener,L!==d&&c.isPropagationStopped())break e;d=N,c.currentTarget=q;try{d(c)}catch(ee){Tl(ee)}c.currentTarget=null,d=L}}}}function Ne(t,s){var a=s[ii];a===void 0&&(a=s[ii]=new Set);var l=t+"__bubble";a.has(l)||(gx(s,t,2,!1),a.add(l))}function Xc(t,s,a){var l=0;s&&(l|=4),gx(a,t,l,s)}var yr="_reactListening"+Math.random().toString(36).slice(2);function Qc(t){if(!t[yr]){t[yr]=!0,dd.forEach(function(a){a!=="selectionchange"&&(Rp.has(a)||Xc(a,!1,t),Xc(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[yr]||(s[yr]=!0,Xc("selectionchange",!1,s))}}function gx(t,s,a,l){switch(Yx(s)){case 2:var c=lg;break;case 8:c=rg;break;default:c=mo}a=c.bind(null,s,a,t),c=void 0,!pi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(s,a,{capture:!0,passive:c}):t.addEventListener(s,a,!0):c!==void 0?t.addEventListener(s,a,{passive:c}):t.addEventListener(s,a,!1)}function Zc(t,s,a,l,c){var d=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var N=l.stateNode.containerInfo;if(N===c)break;if(h===4)for(h=l.return;h!==null;){var L=h.tag;if((L===3||L===4)&&h.stateNode.containerInfo===c)return;h=h.return}for(;N!==null;){if(h=ga(N),h===null)return;if(L=h.tag,L===5||L===6||L===26||L===27){l=d=h;continue e}N=N.parentNode}}l=l.return}Nd(function(){var q=d,ee=hi(a),ae=[];e:{var $=Qd.get(t);if($!==void 0){var X=Ml,de=t;switch(t){case"keypress":if(Al(a)===0)break e;case"keydown":case"keyup":X=kf;break;case"focusin":de="focus",X=ji;break;case"focusout":de="blur",X=ji;break;case"beforeblur":case"afterblur":X=ji;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Sd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=Af;break;case Yd:case Kd:case Id:X=ff;break;case Xd:X=Mf;break;case"scroll":case"scrollend":X=df;break;case"wheel":X=Rf;break;case"copy":case"cut":case"paste":X=gf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=Ad;break;case"toggle":case"beforetoggle":X=Df}var fe=(s&4)!==0,De=!fe&&(t==="scroll"||t==="scrollend"),U=fe?$!==null?$+"Capture":null:$;fe=[];for(var T=q,V;T!==null;){var te=T;if(V=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||V===null||U===null||(te=gn(T,U),te!=null&&fe.push(Qn(T,te,V))),De)break;T=T.return}0<fe.length&&($=new X($,de,null,a,ee),ae.push({event:$,listeners:fe}))}}if((s&7)===0){e:{if($=t==="mouseover"||t==="pointerover",X=t==="mouseout"||t==="pointerout",$&&a!==xi&&(de=a.relatedTarget||a.fromElement)&&(ga(de)||de[pa]))break e;if((X||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,X?(de=a.relatedTarget||a.toElement,X=q,de=de?ga(de):null,de!==null&&(De=x(de),fe=de.tag,de!==De||fe!==5&&fe!==27&&fe!==6)&&(de=null)):(X=null,de=q),X!==de)){if(fe=Sd,te="onMouseLeave",U="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(fe=Ad,te="onPointerLeave",U="onPointerEnter",T="pointer"),De=X==null?$:pn(X),V=de==null?$:pn(de),$=new fe(te,T+"leave",X,a,ee),$.target=De,$.relatedTarget=V,te=null,ga(ee)===q&&(fe=new fe(U,T+"enter",de,a,ee),fe.target=V,fe.relatedTarget=De,te=fe),De=te,X&&de)t:{for(fe=Tp,U=X,T=de,V=0,te=U;te;te=fe(te))V++;te=0;for(var xe=T;xe;xe=fe(xe))te++;for(;0<V-te;)U=fe(U),V--;for(;0<te-V;)T=fe(T),te--;for(;V--;){if(U===T||T!==null&&U===T.alternate){fe=U;break t}U=fe(U),T=fe(T)}fe=null}else fe=null;X!==null&&yx(ae,$,X,fe,!1),de!==null&&De!==null&&yx(ae,De,de,fe,!0)}}e:{if($=q?pn(q):window,X=$.nodeName&&$.nodeName.toLowerCase(),X==="select"||X==="input"&&$.type==="file")var Ce=Ud;else if(Dd($))if(Od)Ce=Pf;else{Ce=Vf;var ue=Gf}else X=$.nodeName,!X||X.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?q&&mi(q.elementType)&&(Ce=Ud):Ce=qf;if(Ce&&(Ce=Ce(t,q))){_d(ae,Ce,a,ee);break e}ue&&ue(t,$,q),t==="focusout"&&q&&$.type==="number"&&q.memoizedProps.value!=null&&ui($,"number",$.value)}switch(ue=q?pn(q):window,t){case"focusin":(Dd(ue)||ue.contentEditable==="true")&&(Ca=ue,Ci=q,Sn=null);break;case"focusout":Sn=Ci=Ca=null;break;case"mousedown":Ai=!0;break;case"contextmenu":case"mouseup":case"dragend":Ai=!1,Fd(ae,a,ee);break;case"selectionchange":if($f)break;case"keydown":case"keyup":Fd(ae,a,ee)}var je;if(Ni)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Sa?Rd(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Ed&&a.locale!=="ko"&&(Sa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Sa&&(je=wd()):(ws=ee,gi="value"in ws?ws.value:ws.textContent,Sa=!0)),ue=vr(q,ke),0<ue.length&&(ke=new Cd(ke,t,null,a,ee),ae.push({event:ke,listeners:ue}),je?ke.data=je:(je=Td(a),je!==null&&(ke.data=je)))),(je=Uf?Of(t,a):zf(t,a))&&(ke=vr(q,"onBeforeInput"),0<ke.length&&(ue=new Cd("onBeforeInput","beforeinput",null,a,ee),ae.push({event:ue,listeners:ke}),ue.data=je)),Ep(ae,t,q,a,ee)}px(ae,s)})}function Qn(t,s,a){return{instance:t,listener:s,currentTarget:a}}function vr(t,s){for(var a=s+"Capture",l=[];t!==null;){var c=t,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=gn(t,a),c!=null&&l.unshift(Qn(t,c,d)),c=gn(t,s),c!=null&&l.push(Qn(t,c,d))),t.tag===3)return l;t=t.return}return[]}function Tp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yx(t,s,a,l,c){for(var d=s._reactName,h=[];a!==null&&a!==l;){var N=a,L=N.alternate,q=N.stateNode;if(N=N.tag,L!==null&&L===l)break;N!==5&&N!==26&&N!==27||q===null||(L=q,c?(q=gn(a,d),q!=null&&h.unshift(Qn(a,q,L))):c||(q=gn(a,d),q!=null&&h.push(Qn(a,q,L)))),a=a.return}h.length!==0&&t.push({event:s,listeners:h})}var Dp=/\r\n?/g,_p=/\u0000|\uFFFD/g;function vx(t){return(typeof t=="string"?t:""+t).replace(Dp,`
`).replace(_p,"")}function jx(t,s){return s=vx(s),vx(t)===s}function Te(t,s,a,l,c,d){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Na(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Na(t,""+l);break;case"className":wl(t,"class",l);break;case"tabIndex":wl(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":wl(t,a,l);break;case"style":jd(t,l,d);break;case"data":if(s!=="object"){wl(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sl(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Te(t,s,"name",c.name,c,null),Te(t,s,"formEncType",c.formEncType,c,null),Te(t,s,"formMethod",c.formMethod,c,null),Te(t,s,"formTarget",c.formTarget,c,null)):(Te(t,s,"encType",c.encType,c,null),Te(t,s,"method",c.method,c,null),Te(t,s,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Sl(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ts);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Sl(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Nl(t,"popover",l);break;case"xlinkActuate":es(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":es(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":es(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":es(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":es(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":es(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":es(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":es(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":es(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Nl(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cf.get(a)||a,Nl(t,a,l))}}function Wc(t,s,a,l,c,d){switch(a){case"style":jd(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(a=l.__html,a!=null){if(c.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Na(t,l):(typeof l=="number"||typeof l=="bigint")&&Na(t,""+l);break;case"onScroll":l!=null&&Ne("scroll",t);break;case"onScrollEnd":l!=null&&Ne("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ts);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ud.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),s=a.slice(2,c?a.length-7:void 0),d=t[ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,c),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,c);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Nl(t,a,l)}}}function rt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var l=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var h=a[d];if(h!=null)switch(d){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Te(t,s,d,h,a,null)}}c&&Te(t,s,"srcSet",a.srcSet,a,null),l&&Te(t,s,"src",a.src,a,null);return;case"input":Ne("invalid",t);var N=d=h=c=null,L=null,q=null;for(l in a)if(a.hasOwnProperty(l)){var ee=a[l];if(ee!=null)switch(l){case"name":c=ee;break;case"type":h=ee;break;case"checked":L=ee;break;case"defaultChecked":q=ee;break;case"value":d=ee;break;case"defaultValue":N=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(o(137,s));break;default:Te(t,s,l,ee,a,null)}}pd(t,d,N,L,q,h,c,!1);return;case"select":Ne("invalid",t),l=h=d=null;for(c in a)if(a.hasOwnProperty(c)&&(N=a[c],N!=null))switch(c){case"value":d=N;break;case"defaultValue":h=N;break;case"multiple":l=N;default:Te(t,s,c,N,a,null)}s=d,a=h,t.multiple=!!l,s!=null?ba(t,!!l,s,!1):a!=null&&ba(t,!!l,a,!0);return;case"textarea":Ne("invalid",t),d=c=l=null;for(h in a)if(a.hasOwnProperty(h)&&(N=a[h],N!=null))switch(h){case"value":l=N;break;case"defaultValue":c=N;break;case"children":d=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(91));break;default:Te(t,s,h,N,a,null)}yd(t,l,c,d);return;case"option":for(L in a)a.hasOwnProperty(L)&&(l=a[L],l!=null)&&(L==="selected"?t.selected=l&&typeof l!="function"&&typeof l!="symbol":Te(t,s,L,l,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(l=0;l<Xn.length;l++)Ne(Xn[l],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(l=a[q],l!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Te(t,s,q,l,a,null)}return;default:if(mi(s)){for(ee in a)a.hasOwnProperty(ee)&&(l=a[ee],l!==void 0&&Wc(t,s,ee,l,a,void 0));return}}for(N in a)a.hasOwnProperty(N)&&(l=a[N],l!=null&&Te(t,s,N,l,a,null))}function Up(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,h=null,N=null,L=null,q=null,ee=null;for(X in a){var ae=a[X];if(a.hasOwnProperty(X)&&ae!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":L=ae;default:l.hasOwnProperty(X)||Te(t,s,X,null,l,ae)}}for(var $ in l){var X=l[$];if(ae=a[$],l.hasOwnProperty($)&&(X!=null||ae!=null))switch($){case"type":d=X;break;case"name":c=X;break;case"checked":q=X;break;case"defaultChecked":ee=X;break;case"value":h=X;break;case"defaultValue":N=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(o(137,s));break;default:X!==ae&&Te(t,s,$,X,l,ae)}}di(t,h,N,L,q,ee,d,c);return;case"select":X=h=N=$=null;for(d in a)if(L=a[d],a.hasOwnProperty(d)&&L!=null)switch(d){case"value":break;case"multiple":X=L;default:l.hasOwnProperty(d)||Te(t,s,d,null,l,L)}for(c in l)if(d=l[c],L=a[c],l.hasOwnProperty(c)&&(d!=null||L!=null))switch(c){case"value":$=d;break;case"defaultValue":N=d;break;case"multiple":h=d;default:d!==L&&Te(t,s,c,d,l,L)}s=N,a=h,l=X,$!=null?ba(t,!!a,$,!1):!!l!=!!a&&(s!=null?ba(t,!!a,s,!0):ba(t,!!a,a?[]:"",!1));return;case"textarea":X=$=null;for(N in a)if(c=a[N],a.hasOwnProperty(N)&&c!=null&&!l.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Te(t,s,N,null,l,c)}for(h in l)if(c=l[h],d=a[h],l.hasOwnProperty(h)&&(c!=null||d!=null))switch(h){case"value":$=c;break;case"defaultValue":X=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==d&&Te(t,s,h,c,l,d)}gd(t,$,X);return;case"option":for(var de in a)$=a[de],a.hasOwnProperty(de)&&$!=null&&!l.hasOwnProperty(de)&&(de==="selected"?t.selected=!1:Te(t,s,de,null,l,$));for(L in l)$=l[L],X=a[L],l.hasOwnProperty(L)&&$!==X&&($!=null||X!=null)&&(L==="selected"?t.selected=$&&typeof $!="function"&&typeof $!="symbol":Te(t,s,L,$,l,X));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var fe in a)$=a[fe],a.hasOwnProperty(fe)&&$!=null&&!l.hasOwnProperty(fe)&&Te(t,s,fe,null,l,$);for(q in l)if($=l[q],X=a[q],l.hasOwnProperty(q)&&$!==X&&($!=null||X!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(o(137,s));break;default:Te(t,s,q,$,l,X)}return;default:if(mi(s)){for(var De in a)$=a[De],a.hasOwnProperty(De)&&$!==void 0&&!l.hasOwnProperty(De)&&Wc(t,s,De,void 0,l,$);for(ee in l)$=l[ee],X=a[ee],!l.hasOwnProperty(ee)||$===X||$===void 0&&X===void 0||Wc(t,s,ee,$,l,X);return}}for(var U in a)$=a[U],a.hasOwnProperty(U)&&$!=null&&!l.hasOwnProperty(U)&&Te(t,s,U,null,l,$);for(ae in l)$=l[ae],X=a[ae],!l.hasOwnProperty(ae)||$===X||$==null&&X==null||Te(t,s,ae,$,l,X)}function bx(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Op(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var c=a[l],d=c.transferSize,h=c.initiatorType,N=c.duration;if(d&&N&&bx(h)){for(h=0,N=c.responseEnd,l+=1;l<a.length;l++){var L=a[l],q=L.startTime;if(q>N)break;var ee=L.transferSize,ae=L.initiatorType;ee&&bx(ae)&&(L=L.responseEnd,h+=ee*(L<N?1:(N-q)/(L-q)))}if(--l,s+=8*(d+h)/(c.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Jc=null,eo=null;function jr(t){return t.nodeType===9?t:t.ownerDocument}function Nx(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wx(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function to(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var so=null;function zp(){var t=window.event;return t&&t.type==="popstate"?t===so?!1:(so=t,!0):(so=null,!1)}var kx=typeof setTimeout=="function"?setTimeout:void 0,Hp=typeof clearTimeout=="function"?clearTimeout:void 0,Sx=typeof Promise=="function"?Promise:void 0,Bp=typeof queueMicrotask=="function"?queueMicrotask:typeof Sx<"u"?function(t){return Sx.resolve(null).then(t).catch(Gp)}:kx;function Gp(t){setTimeout(function(){throw t})}function Gs(t){return t==="head"}function Cx(t,s){var a=s,l=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(c),Ja(s);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Zn(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Zn(a);for(var d=a.firstChild;d;){var h=d.nextSibling,N=d.nodeName;d[fn]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=h}}else a==="body"&&Zn(t.ownerDocument.body);a=c}while(a);Ja(s)}function Ax(t,s){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function ao(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ao(a),ci(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Vp(t,s,a,l){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[fn])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gt(t.nextSibling),t===null)break}return null}function qp(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gt(t.nextSibling),t===null))return null;return t}function Ex(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Gt(t.nextSibling),t===null))return null;return t}function no(t){return t.data==="$?"||t.data==="$~"}function lo(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function Pp(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gt(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var ro=null;function Mx(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Gt(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Lx(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Rx(t,s,a){switch(s=jr(a),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Zn(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ci(t)}var Vt=new Map,Tx=new Set;function br(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=se.d;se.d={f:Fp,r:$p,D:Yp,C:Kp,L:Ip,m:Xp,X:Zp,S:Qp,M:Wp};function Fp(){var t=gs.f(),s=mr();return t||s}function $p(t){var s=ya(t);s!==null&&s.tag===5&&s.type==="form"?Xu(s):gs.r(t)}var Qa=typeof document>"u"?null:document;function Dx(t,s,a){var l=Qa;if(l&&typeof s=="string"&&s){var c=Dt(s);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Tx.has(c)||(Tx.add(c),t={rel:t,crossOrigin:a,href:s},l.querySelector(c)===null&&(s=l.createElement("link"),rt(s,"link",t),Je(s),l.head.appendChild(s)))}}function Yp(t){gs.D(t),Dx("dns-prefetch",t,null)}function Kp(t,s){gs.C(t,s),Dx("preconnect",t,s)}function Ip(t,s,a){gs.L(t,s,a);var l=Qa;if(l&&t&&s){var c='link[rel="preload"][as="'+Dt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Dt(a.imageSizes)+'"]')):c+='[href="'+Dt(t)+'"]';var d=c;switch(s){case"style":d=Za(t);break;case"script":d=Wa(t)}Vt.has(d)||(t=y({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Vt.set(d,t),l.querySelector(c)!==null||s==="style"&&l.querySelector(Wn(d))||s==="script"&&l.querySelector(Jn(d))||(s=l.createElement("link"),rt(s,"link",t),Je(s),l.head.appendChild(s)))}}function Xp(t,s){gs.m(t,s);var a=Qa;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",c='link[rel="modulepreload"][as="'+Dt(l)+'"][href="'+Dt(t)+'"]',d=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!Vt.has(d)&&(t=y({rel:"modulepreload",href:t},s),Vt.set(d,t),a.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jn(d)))return}l=a.createElement("link"),rt(l,"link",t),Je(l),a.head.appendChild(l)}}}function Qp(t,s,a){gs.S(t,s,a);var l=Qa;if(l&&t){var c=va(l).hoistableStyles,d=Za(t);s=s||"default";var h=c.get(d);if(!h){var N={loading:0,preload:null};if(h=l.querySelector(Wn(d)))N.loading=5;else{t=y({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Vt.get(d))&&io(t,a);var L=h=l.createElement("link");Je(L),rt(L,"link",t),L._p=new Promise(function(q,ee){L.onload=q,L.onerror=ee}),L.addEventListener("load",function(){N.loading|=1}),L.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Nr(h,s,l)}h={type:"stylesheet",instance:h,count:1,state:N},c.set(d,h)}}}function Zp(t,s){gs.X(t,s);var a=Qa;if(a&&t){var l=va(a).hoistableScripts,c=Wa(t),d=l.get(c);d||(d=a.querySelector(Jn(c)),d||(t=y({src:t,async:!0},s),(s=Vt.get(c))&&co(t,s),d=a.createElement("script"),Je(d),rt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function Wp(t,s){gs.M(t,s);var a=Qa;if(a&&t){var l=va(a).hoistableScripts,c=Wa(t),d=l.get(c);d||(d=a.querySelector(Jn(c)),d||(t=y({src:t,async:!0,type:"module"},s),(s=Vt.get(c))&&co(t,s),d=a.createElement("script"),Je(d),rt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(c,d))}}function _x(t,s,a,l){var c=(c=he.current)?br(c):null;if(!c)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Za(a.href),a=va(c).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var d=va(c).hoistableStyles,h=d.get(t);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,h),(d=c.querySelector(Wn(t)))&&!d._p&&(h.instance=d,h.state.loading=5),Vt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vt.set(t,a),d||Jp(c,t,a,h.state))),s&&l===null)throw Error(o(528,""));return h}if(s&&l!==null)throw Error(o(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wa(a),a=va(c).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Za(t){return'href="'+Dt(t)+'"'}function Wn(t){return'link[rel="stylesheet"]['+t+"]"}function Ux(t){return y({},t,{"data-precedence":t.precedence,precedence:null})}function Jp(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),rt(s,"link",a),Je(s),t.head.appendChild(s))}function Wa(t){return'[src="'+Dt(t)+'"]'}function Jn(t){return"script[async]"+t}function Ox(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(l)return s.instance=l,Je(l),l;var c=y({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),Je(l),rt(l,"style",c),Nr(l,a.precedence,t),s.instance=l;case"stylesheet":c=Za(a.href);var d=t.querySelector(Wn(c));if(d)return s.state.loading|=4,s.instance=d,Je(d),d;l=Ux(a),(c=Vt.get(c))&&io(l,c),d=(t.ownerDocument||t).createElement("link"),Je(d);var h=d;return h._p=new Promise(function(N,L){h.onload=N,h.onerror=L}),rt(d,"link",l),s.state.loading|=4,Nr(d,a.precedence,t),s.instance=d;case"script":return d=Wa(a.src),(c=t.querySelector(Jn(d)))?(s.instance=c,Je(c),c):(l=a,(c=Vt.get(d))&&(l=y({},a),co(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),Je(c),rt(c,"link",l),t.head.appendChild(c),s.instance=c);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Nr(l,a.precedence,t));return s.instance}function Nr(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,d=c,h=0;h<l.length;h++){var N=l[h];if(N.dataset.precedence===s)d=N;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function io(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function co(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var wr=null;function zx(t,s,a){if(wr===null){var l=new Map,c=wr=new Map;c.set(a,l)}else c=wr,l=c.get(a),l||(l=new Map,c.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var d=a[c];if(!(d[fn]||d[st]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var h=d.getAttribute(s)||"";h=t+h;var N=l.get(h);N?N.push(d):l.set(h,[d])}}return l}function Hx(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function eg(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Bx(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function tg(t,s,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Za(l.href),d=s.querySelector(Wn(c));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=kr.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,Je(d);return}d=s.ownerDocument||s,l=Ux(l),(c=Vt.get(c))&&io(l,c),d=d.createElement("link"),Je(d);var h=d;h._p=new Promise(function(N,L){h.onload=N,h.onerror=L}),rt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=kr.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var oo=0;function sg(t,s){return t.stylesheets&&t.count===0&&Cr(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&Cr(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&oo===0&&(oo=62500*Op());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cr(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>oo?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(c)}}:null}function kr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cr(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sr=null;function Cr(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sr=new Map,s.forEach(ag,t),Sr=null,kr.call(t))}function ag(t,s){if(!(s.state.loading&4)){var a=Sr.get(t);if(a)var l=a.get(null);else{a=new Map,Sr.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var h=c[d];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(a.set(h.dataset.precedence,h),l=h)}l&&a.set(null,l)}c=s.instance,h=c.getAttribute("data-precedence"),d=a.get(h)||l,d===l&&a.set(null,c),a.set(h,c),this.count++,l=kr.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),s.state.loading|=4}}var el={$$typeof:O,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function ng(t,s,a,l,c,d,h,N,L){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Gx(t,s,a,l,c,d,h,N,L,q,ee,ae){return t=new ng(t,s,a,h,L,q,ee,ae,N),s=1,d===!0&&(s|=24),d=kt(3,null,null,s),t.current=d,d.stateNode=t,s=qi(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:s},Yi(d),t}function Vx(t){return t?(t=Ma,t):Ma}function qx(t,s,a,l,c,d){c=Vx(c),l.context===null?l.context=c:l.pendingContext=c,l=Ms(s),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ls(t,l,s),a!==null&&(gt(a,t,s),Tn(a,t,s))}function Px(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function uo(t,s){Px(t,s),(t=t.alternate)&&Px(t,s)}function Fx(t){if(t.tag===13||t.tag===31){var s=ea(t,67108864);s!==null&&gt(s,t,67108864),uo(t,67108864)}}function $x(t){if(t.tag===13||t.tag===31){var s=Mt();s=li(s);var a=ea(t,s);a!==null&&gt(a,t,s),uo(t,s)}}var Ar=!0;function lg(t,s,a,l){var c=A.T;A.T=null;var d=se.p;try{se.p=2,mo(t,s,a,l)}finally{se.p=d,A.T=c}}function rg(t,s,a,l){var c=A.T;A.T=null;var d=se.p;try{se.p=8,mo(t,s,a,l)}finally{se.p=d,A.T=c}}function mo(t,s,a,l){if(Ar){var c=xo(l);if(c===null)Zc(t,s,l,Er,a),Kx(t,l);else if(cg(c,t,s,a,l))l.stopPropagation();else if(Kx(t,l),s&4&&-1<ig.indexOf(t)){for(;c!==null;){var d=ya(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var h=Xs(d.pendingLanes);if(h!==0){var N=d;for(N.pendingLanes|=2,N.entangledLanes|=2;h;){var L=1<<31-Nt(h);N.entanglements[1]|=L,h&=~L}Zt(d),(Ee&6)===0&&(dr=jt()+500,In(0))}}break;case 31:case 13:N=ea(d,2),N!==null&&gt(N,d,2),mr(),uo(d,2)}if(d=xo(l),d===null&&Zc(t,s,l,Er,a),d===c)break;c=d}c!==null&&l.stopPropagation()}else Zc(t,s,l,null,a)}}function xo(t){return t=hi(t),ho(t)}var Er=null;function ho(t){if(Er=null,t=ga(t),t!==null){var s=x(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=f(s),t!==null)return t;t=null}else if(a===31){if(t=v(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Er=t,null}function Yx(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch($h()){case ed:return 2;case td:return 8;case gl:case Yh:return 32;case sd:return 268435456;default:return 32}default:return 32}}var fo=!1,Vs=null,qs=null,Ps=null,tl=new Map,sl=new Map,Fs=[],ig="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kx(t,s){switch(t){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":tl.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":sl.delete(s.pointerId)}}function al(t,s,a,l,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[c]},s!==null&&(s=ya(s),s!==null&&Fx(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),t)}function cg(t,s,a,l,c){switch(s){case"focusin":return Vs=al(Vs,t,s,a,l,c),!0;case"dragenter":return qs=al(qs,t,s,a,l,c),!0;case"mouseover":return Ps=al(Ps,t,s,a,l,c),!0;case"pointerover":var d=c.pointerId;return tl.set(d,al(tl.get(d)||null,t,s,a,l,c)),!0;case"gotpointercapture":return d=c.pointerId,sl.set(d,al(sl.get(d)||null,t,s,a,l,c)),!0}return!1}function Ix(t){var s=ga(t.target);if(s!==null){var a=x(s);if(a!==null){if(s=a.tag,s===13){if(s=f(a),s!==null){t.blockedOn=s,cd(t.priority,function(){$x(a)});return}}else if(s===31){if(s=v(a),s!==null){t.blockedOn=s,cd(t.priority,function(){$x(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mr(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=xo(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);xi=l,a.target.dispatchEvent(l),xi=null}else return s=ya(a),s!==null&&Fx(s),t.blockedOn=a,!1;s.shift()}return!0}function Xx(t,s,a){Mr(t)&&a.delete(s)}function og(){fo=!1,Vs!==null&&Mr(Vs)&&(Vs=null),qs!==null&&Mr(qs)&&(qs=null),Ps!==null&&Mr(Ps)&&(Ps=null),tl.forEach(Xx),sl.forEach(Xx)}function Lr(t,s){t.blockedOn===s&&(t.blockedOn=null,fo||(fo=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,og)))}var Rr=null;function Qx(t){Rr!==t&&(Rr=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rr===t&&(Rr=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],c=t[s+2];if(typeof l!="function"){if(ho(l||a)===null)continue;break}var d=ya(a);d!==null&&(t.splice(s,3),s-=3,mc(d,{pending:!0,data:c,method:a.method,action:l},l,c))}}))}function Ja(t){function s(L){return Lr(L,t)}Vs!==null&&Lr(Vs,t),qs!==null&&Lr(qs,t),Ps!==null&&Lr(Ps,t),tl.forEach(s),sl.forEach(s);for(var a=0;a<Fs.length;a++){var l=Fs[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fs.length&&(a=Fs[0],a.blockedOn===null);)Ix(a),a.blockedOn===null&&Fs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var c=a[l],d=a[l+1],h=c[ut]||null;if(typeof d=="function")h||Qx(a);else if(h){var N=null;if(d&&d.hasAttribute("formAction")){if(c=d,h=d[ut]||null)N=h.formAction;else if(ho(c)!==null)continue}else N=h.action;typeof N=="function"?a[l+1]=N:(a.splice(l,3),l-=3),Qx(a)}}}function Zx(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(h){return c=h})},focusReset:"manual",scroll:"manual"})}function s(){c!==null&&(c(),c=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),c!==null&&(c(),c=null)}}}function po(t){this._internalRoot=t}Tr.prototype.render=po.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var a=s.current,l=Mt();qx(a,l,t,s,null,null)},Tr.prototype.unmount=po.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;qx(t.current,2,null,t,null,null),mr(),s[pa]=null}};function Tr(t){this._internalRoot=t}Tr.prototype.unstable_scheduleHydration=function(t){if(t){var s=id();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Fs.length&&s!==0&&s<Fs[a].priority;a++);Fs.splice(a,0,t),a===0&&Ix(t)}};var Wx=r.version;if(Wx!=="19.2.3")throw Error(o(527,Wx,"19.2.3"));se.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=p(s),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var dg={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dr.isDisabled&&Dr.supportsFiber)try{mn=Dr.inject(dg),bt=Dr}catch{}}return ll.createRoot=function(t,s){if(!u(t))throw Error(o(299));var a=!1,l="",c=lm,d=rm,h=im;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),s=Gx(t,1,!1,null,null,a,l,null,c,d,h,Zx),t[pa]=s.current,Qc(t),new po(s)},ll.hydrateRoot=function(t,s,a){if(!u(t))throw Error(o(299));var l=!1,c="",d=lm,h=rm,N=im,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(h=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.formState!==void 0&&(L=a.formState)),s=Gx(t,1,!0,s,a??null,l,c,L,d,h,N,Zx),s.context=Vx(null),a=s.current,l=Mt(),l=li(l),c=Ms(l),c.callback=null,Ls(a,c,l),a=l,s.current.lanes=a,hn(s,a),Zt(s),t[pa]=s.current,Qc(t),new Tr(s)},ll.version="19.2.3",ll}var c0;function bg(){if(c0)return vo.exports;c0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(r){console.error(r)}}return n(),vo.exports=jg(),vo.exports}var Ng=bg();const wg=G0(Ng);var o0="popstate";function kg(n={}){function r(o,u){let{pathname:x,search:f,hash:v}=o.location;return Do("",{pathname:x,search:f,hash:v},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function i(o,u){return typeof u=="string"?u:cl(u)}return Cg(r,i,null,n)}function He(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function Lt(n,r){if(!n){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Sg(){return Math.random().toString(36).substring(2,10)}function d0(n,r){return{usr:n.state,key:n.key,idx:r}}function Do(n,r,i=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof r=="string"?nn(r):r,state:i,key:r&&r.key||o||Sg()}}function cl({pathname:n="/",search:r="",hash:i=""}){return r&&r!=="?"&&(n+=r.charAt(0)==="?"?r:"?"+r),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function nn(n){let r={};if(n){let i=n.indexOf("#");i>=0&&(r.hash=n.substring(i),n=n.substring(0,i));let o=n.indexOf("?");o>=0&&(r.search=n.substring(o),n=n.substring(0,o)),n&&(r.pathname=n)}return r}function Cg(n,r,i,o={}){let{window:u=document.defaultView,v5Compat:x=!1}=o,f=u.history,v="POP",j=null,p=g();p==null&&(p=0,f.replaceState({...f.state,idx:p},""));function g(){return(f.state||{idx:null}).idx}function y(){v="POP";let C=g(),E=C==null?null:C-p;p=C,j&&j({action:v,location:k.location,delta:E})}function S(C,E){v="PUSH";let D=Do(k.location,C,E);p=g()+1;let O=d0(D,p),z=k.createHref(D);try{f.pushState(O,"",z)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;u.location.assign(z)}x&&j&&j({action:v,location:k.location,delta:1})}function _(C,E){v="REPLACE";let D=Do(k.location,C,E);p=g();let O=d0(D,p),z=k.createHref(D);f.replaceState(O,"",z),x&&j&&j({action:v,location:k.location,delta:0})}function w(C){return Ag(C)}let k={get action(){return v},get location(){return n(u,f)},listen(C){if(j)throw new Error("A history only accepts one active listener");return u.addEventListener(o0,y),j=C,()=>{u.removeEventListener(o0,y),j=null}},createHref(C){return r(u,C)},createURL:w,encodeLocation(C){let E=w(C);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:S,replace:_,go(C){return f.go(C)}};return k}function Ag(n,r=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),He(i,"No window.location.(origin|href) available to create URL");let o=typeof n=="string"?n:cl(n);return o=o.replace(/ $/,"%20"),!r&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function V0(n,r,i="/"){return Eg(n,r,i,!1)}function Eg(n,r,i,o){let u=typeof r=="string"?nn(r):r,x=vs(u.pathname||"/",i);if(x==null)return null;let f=q0(n);Mg(f);let v=null;for(let j=0;v==null&&j<f.length;++j){let p=Gg(x);v=Hg(f[j],p,o)}return v}function q0(n,r=[],i=[],o="",u=!1){let x=(f,v,j=u,p)=>{let g={relativePath:p===void 0?f.path||"":p,caseSensitive:f.caseSensitive===!0,childrenIndex:v,route:f};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(o)&&j)return;He(g.relativePath.startsWith(o),`Absolute route path "${g.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(o.length)}let y=ys([o,g.relativePath]),S=i.concat(g);f.children&&f.children.length>0&&(He(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),q0(f.children,r,S,y,j)),!(f.path==null&&!f.index)&&r.push({path:y,score:Og(y,f.index),routesMeta:S})};return n.forEach((f,v)=>{if(f.path===""||!f.path?.includes("?"))x(f,v);else for(let j of P0(f.path))x(f,v,!0,j)}),r}function P0(n){let r=n.split("/");if(r.length===0)return[];let[i,...o]=r,u=i.endsWith("?"),x=i.replace(/\?$/,"");if(o.length===0)return u?[x,""]:[x];let f=P0(o.join("/")),v=[];return v.push(...f.map(j=>j===""?x:[x,j].join("/"))),u&&v.push(...f),v.map(j=>n.startsWith("/")&&j===""?"/":j)}function Mg(n){n.sort((r,i)=>r.score!==i.score?i.score-r.score:zg(r.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var Lg=/^:[\w-]+$/,Rg=3,Tg=2,Dg=1,_g=10,Ug=-2,u0=n=>n==="*";function Og(n,r){let i=n.split("/"),o=i.length;return i.some(u0)&&(o+=Ug),r&&(o+=Tg),i.filter(u=>!u0(u)).reduce((u,x)=>u+(Lg.test(x)?Rg:x===""?Dg:_g),o)}function zg(n,r){return n.length===r.length&&n.slice(0,-1).every((o,u)=>o===r[u])?n[n.length-1]-r[r.length-1]:0}function Hg(n,r,i=!1){let{routesMeta:o}=n,u={},x="/",f=[];for(let v=0;v<o.length;++v){let j=o[v],p=v===o.length-1,g=x==="/"?r:r.slice(x.length)||"/",y=qr({path:j.relativePath,caseSensitive:j.caseSensitive,end:p},g),S=j.route;if(!y&&p&&i&&!o[o.length-1].route.index&&(y=qr({path:j.relativePath,caseSensitive:j.caseSensitive,end:!1},g)),!y)return null;Object.assign(u,y.params),f.push({params:u,pathname:ys([x,y.pathname]),pathnameBase:Fg(ys([x,y.pathnameBase])),route:S}),y.pathnameBase!=="/"&&(x=ys([x,y.pathnameBase]))}return f}function qr(n,r){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,o]=Bg(n.path,n.caseSensitive,n.end),u=r.match(i);if(!u)return null;let x=u[0],f=x.replace(/(.)\/+$/,"$1"),v=u.slice(1);return{params:o.reduce((p,{paramName:g,isOptional:y},S)=>{if(g==="*"){let w=v[S]||"";f=x.slice(0,x.length-w.length).replace(/(.)\/+$/,"$1")}const _=v[S];return y&&!_?p[g]=void 0:p[g]=(_||"").replace(/%2F/g,"/"),p},{}),pathname:x,pathnameBase:f,pattern:n}}function Bg(n,r=!1,i=!0){Lt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,v,j)=>(o.push({paramName:v,isOptional:j!=null}),j?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(o.push({paramName:"*"}),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),o]}function Gg(n){try{return n.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return Lt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${r}).`),n}}function vs(n,r){if(r==="/")return n;if(!n.toLowerCase().startsWith(r.toLowerCase()))return null;let i=r.endsWith("/")?r.length-1:r.length,o=n.charAt(i);return o&&o!=="/"?null:n.slice(i)||"/"}var F0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vg=n=>F0.test(n);function qg(n,r="/"){let{pathname:i,search:o="",hash:u=""}=typeof n=="string"?nn(n):n,x;if(i)if(Vg(i))x=i;else{if(i.includes("//")){let f=i;i=i.replace(/\/\/+/g,"/"),Lt(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${i}`)}i.startsWith("/")?x=m0(i.substring(1),"/"):x=m0(i,r)}else x=r;return{pathname:x,search:$g(o),hash:Yg(u)}}function m0(n,r){let i=r.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?i.length>1&&i.pop():u!=="."&&i.push(u)}),i.length>1?i.join("/"):"/"}function wo(n,r,i,o){return`Cannot include a '${n}' character in a manually specified \`to.${r}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Pg(n){return n.filter((r,i)=>i===0||r.route.path&&r.route.path.length>0)}function qo(n){let r=Pg(n);return r.map((i,o)=>o===r.length-1?i.pathname:i.pathnameBase)}function Po(n,r,i,o=!1){let u;typeof n=="string"?u=nn(n):(u={...n},He(!u.pathname||!u.pathname.includes("?"),wo("?","pathname","search",u)),He(!u.pathname||!u.pathname.includes("#"),wo("#","pathname","hash",u)),He(!u.search||!u.search.includes("#"),wo("#","search","hash",u)));let x=n===""||u.pathname==="",f=x?"/":u.pathname,v;if(f==null)v=i;else{let y=r.length-1;if(!o&&f.startsWith("..")){let S=f.split("/");for(;S[0]==="..";)S.shift(),y-=1;u.pathname=S.join("/")}v=y>=0?r[y]:"/"}let j=qg(u,v),p=f&&f!=="/"&&f.endsWith("/"),g=(x||f===".")&&i.endsWith("/");return!j.pathname.endsWith("/")&&(p||g)&&(j.pathname+="/"),j}var ys=n=>n.join("/").replace(/\/\/+/g,"/"),Fg=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$g=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Yg=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Kg=class{constructor(n,r,i,o=!1){this.status=n,this.statusText=r||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Ig(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function Xg(n){return n.map(r=>r.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var $0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Y0(n,r){let i=n;if(typeof i!="string"||!F0.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let o=i,u=!1;if($0)try{let x=new URL(window.location.href),f=i.startsWith("//")?new URL(x.protocol+i):new URL(i),v=vs(f.pathname,r);f.origin===x.origin&&v!=null?i=v+f.search+f.hash:u=!0}catch{Lt(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:u,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var K0=["POST","PUT","PATCH","DELETE"];new Set(K0);var Qg=["GET",...K0];new Set(Qg);var ln=m.createContext(null);ln.displayName="DataRouter";var Fr=m.createContext(null);Fr.displayName="DataRouterState";var Zg=m.createContext(!1),I0=m.createContext({isTransitioning:!1});I0.displayName="ViewTransition";var Wg=m.createContext(new Map);Wg.displayName="Fetchers";var Jg=m.createContext(null);Jg.displayName="Await";var Rt=m.createContext(null);Rt.displayName="Navigation";var ol=m.createContext(null);ol.displayName="Location";var Yt=m.createContext({outlet:null,matches:[],isDataRoute:!1});Yt.displayName="Route";var Fo=m.createContext(null);Fo.displayName="RouteError";var X0="REACT_ROUTER_ERROR",ey="REDIRECT",ty="ROUTE_ERROR_RESPONSE";function sy(n){if(n.startsWith(`${X0}:${ey}:{`))try{let r=JSON.parse(n.slice(28));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.location=="string"&&typeof r.reloadDocument=="boolean"&&typeof r.replace=="boolean")return r}catch{}}function ay(n){if(n.startsWith(`${X0}:${ty}:{`))try{let r=JSON.parse(n.slice(40));if(typeof r=="object"&&r&&typeof r.status=="number"&&typeof r.statusText=="string")return new Kg(r.status,r.statusText,r.data)}catch{}}function ny(n,{relative:r}={}){He(rn(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=m.useContext(Rt),{hash:u,pathname:x,search:f}=dl(n,{relative:r}),v=x;return i!=="/"&&(v=x==="/"?i:ys([i,x])),o.createHref({pathname:v,search:f,hash:u})}function rn(){return m.useContext(ol)!=null}function Jt(){return He(rn(),"useLocation() may be used only in the context of a <Router> component."),m.useContext(ol).location}var Q0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z0(n){m.useContext(Rt).static||m.useLayoutEffect(n)}function $r(){let{isDataRoute:n}=m.useContext(Yt);return n?yy():ly()}function ly(){He(rn(),"useNavigate() may be used only in the context of a <Router> component.");let n=m.useContext(ln),{basename:r,navigator:i}=m.useContext(Rt),{matches:o}=m.useContext(Yt),{pathname:u}=Jt(),x=JSON.stringify(qo(o)),f=m.useRef(!1);return Z0(()=>{f.current=!0}),m.useCallback((j,p={})=>{if(Lt(f.current,Q0),!f.current)return;if(typeof j=="number"){i.go(j);return}let g=Po(j,JSON.parse(x),u,p.relative==="path");n==null&&r!=="/"&&(g.pathname=g.pathname==="/"?r:ys([r,g.pathname])),(p.replace?i.replace:i.push)(g,p.state,p)},[r,i,x,u,n])}m.createContext(null);function ry(){let{matches:n}=m.useContext(Yt),r=n[n.length-1];return r?r.params:{}}function dl(n,{relative:r}={}){let{matches:i}=m.useContext(Yt),{pathname:o}=Jt(),u=JSON.stringify(qo(i));return m.useMemo(()=>Po(n,JSON.parse(u),o,r==="path"),[n,u,o,r])}function iy(n,r){return W0(n,r)}function W0(n,r,i,o,u){He(rn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:x}=m.useContext(Rt),{matches:f}=m.useContext(Yt),v=f[f.length-1],j=v?v.params:{},p=v?v.pathname:"/",g=v?v.pathnameBase:"/",y=v&&v.route;{let D=y&&y.path||"";eh(p,!y||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let S=Jt(),_;if(r){let D=typeof r=="string"?nn(r):r;He(g==="/"||D.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${D.pathname}" was given in the \`location\` prop.`),_=D}else _=S;let w=_.pathname||"/",k=w;if(g!=="/"){let D=g.replace(/^\//,"").split("/");k="/"+w.replace(/^\//,"").split("/").slice(D.length).join("/")}let C=V0(n,{pathname:k});Lt(y||C!=null,`No routes matched location "${_.pathname}${_.search}${_.hash}" `),Lt(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${_.pathname}${_.search}${_.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let E=my(C&&C.map(D=>Object.assign({},D,{params:Object.assign({},j,D.params),pathname:ys([g,x.encodeLocation?x.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?g:ys([g,x.encodeLocation?x.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),f,i,o,u);return r&&E?m.createElement(ol.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",..._},navigationType:"POP"}},E):E}function cy(){let n=gy(),r=Ig(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",u={padding:"0.5rem",backgroundColor:o},x={padding:"2px 4px",backgroundColor:o},f=null;return console.error("Error handled by React Router default ErrorBoundary:",n),f=m.createElement(m.Fragment,null,m.createElement("p",null," Hey developer "),m.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",m.createElement("code",{style:x},"ErrorBoundary")," or"," ",m.createElement("code",{style:x},"errorElement")," prop on your route.")),m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},r),i?m.createElement("pre",{style:u},i):null,f)}var oy=m.createElement(cy,null),J0=class extends m.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,r){return r.location!==n.location||r.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:r.error,location:r.location,revalidation:n.revalidation||r.revalidation}}componentDidCatch(n,r){this.props.onError?this.props.onError(n,r):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const i=ay(n.digest);i&&(n=i)}let r=n!==void 0?m.createElement(Yt.Provider,{value:this.props.routeContext},m.createElement(Fo.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?m.createElement(dy,{error:n},r):r}};J0.contextType=Zg;var ko=new WeakMap;function dy({children:n,error:r}){let{basename:i}=m.useContext(Rt);if(typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){let o=sy(r.digest);if(o){let u=ko.get(r);if(u)throw u;let x=Y0(o.location,i);if($0&&!ko.get(r))if(x.isExternal||o.reloadDocument)window.location.href=x.absoluteURL||x.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(x.to,{replace:o.replace}));throw ko.set(r,f),f}return m.createElement("meta",{httpEquiv:"refresh",content:`0;url=${x.absoluteURL||x.to}`})}}return n}function uy({routeContext:n,match:r,children:i}){let o=m.useContext(ln);return o&&o.static&&o.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=r.route.id),m.createElement(Yt.Provider,{value:n},i)}function my(n,r=[],i=null,o=null,u=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(r.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let x=n,f=i?.errors;if(f!=null){let g=x.findIndex(y=>y.route.id&&f?.[y.route.id]!==void 0);He(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),x=x.slice(0,Math.min(x.length,g+1))}let v=!1,j=-1;if(i)for(let g=0;g<x.length;g++){let y=x[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(j=g),y.route.id){let{loaderData:S,errors:_}=i,w=y.route.loader&&!S.hasOwnProperty(y.route.id)&&(!_||_[y.route.id]===void 0);if(y.route.lazy||w){v=!0,j>=0?x=x.slice(0,j+1):x=[x[0]];break}}}let p=i&&o?(g,y)=>{o(g,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:Xg(i.matches),errorInfo:y})}:void 0;return x.reduceRight((g,y,S)=>{let _,w=!1,k=null,C=null;i&&(_=f&&y.route.id?f[y.route.id]:void 0,k=y.route.errorElement||oy,v&&(j<0&&S===0?(eh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):j===S&&(w=!0,C=y.route.hydrateFallbackElement||null)));let E=r.concat(x.slice(0,S+1)),D=()=>{let O;return _?O=k:w?O=C:y.route.Component?O=m.createElement(y.route.Component,null):y.route.element?O=y.route.element:O=g,m.createElement(uy,{match:y,routeContext:{outlet:g,matches:E,isDataRoute:i!=null},children:O})};return i&&(y.route.ErrorBoundary||y.route.errorElement||S===0)?m.createElement(J0,{location:i.location,revalidation:i.revalidation,component:k,error:_,children:D(),routeContext:{outlet:null,matches:E,isDataRoute:!0},onError:p}):D()},null)}function $o(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xy(n){let r=m.useContext(ln);return He(r,$o(n)),r}function hy(n){let r=m.useContext(Fr);return He(r,$o(n)),r}function fy(n){let r=m.useContext(Yt);return He(r,$o(n)),r}function Yo(n){let r=fy(n),i=r.matches[r.matches.length-1];return He(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function py(){return Yo("useRouteId")}function gy(){let n=m.useContext(Fo),r=hy("useRouteError"),i=Yo("useRouteError");return n!==void 0?n:r.errors?.[i]}function yy(){let{router:n}=xy("useNavigate"),r=Yo("useNavigate"),i=m.useRef(!1);return Z0(()=>{i.current=!0}),m.useCallback(async(u,x={})=>{Lt(i.current,Q0),i.current&&(typeof u=="number"?await n.navigate(u):await n.navigate(u,{fromRouteId:r,...x}))},[n,r])}var x0={};function eh(n,r,i){!r&&!x0[n]&&(x0[n]=!0,Lt(!1,i))}m.memo(vy);function vy({routes:n,future:r,state:i,onError:o}){return W0(n,void 0,i,o,r)}function tn({to:n,replace:r,state:i,relative:o}){He(rn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:u}=m.useContext(Rt);Lt(!u,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:x}=m.useContext(Yt),{pathname:f}=Jt(),v=$r(),j=Po(n,qo(x),f,o==="path"),p=JSON.stringify(j);return m.useEffect(()=>{v(JSON.parse(p),{replace:r,state:i,relative:o})},[v,p,o,r,i]),null}function Ge(n){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jy({basename:n="/",children:r=null,location:i,navigationType:o="POP",navigator:u,static:x=!1,unstable_useTransitions:f}){He(!rn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=n.replace(/^\/*/,"/"),j=m.useMemo(()=>({basename:v,navigator:u,static:x,unstable_useTransitions:f,future:{}}),[v,u,x,f]);typeof i=="string"&&(i=nn(i));let{pathname:p="/",search:g="",hash:y="",state:S=null,key:_="default"}=i,w=m.useMemo(()=>{let k=vs(p,v);return k==null?null:{location:{pathname:k,search:g,hash:y,state:S,key:_},navigationType:o}},[v,p,g,y,S,_,o]);return Lt(w!=null,`<Router basename="${v}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:m.createElement(Rt.Provider,{value:j},m.createElement(ol.Provider,{children:r,value:w}))}function by({children:n,location:r}){return iy(_o(n),r)}function _o(n,r=[]){let i=[];return m.Children.forEach(n,(o,u)=>{if(!m.isValidElement(o))return;let x=[...r,u];if(o.type===m.Fragment){i.push.apply(i,_o(o.props.children,x));return}He(o.type===Ge,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!o.props.index||!o.props.children,"An index route cannot have child routes.");let f={id:o.props.id||x.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=_o(o.props.children,x)),i.push(f)}),i}var zr="get",Hr="application/x-www-form-urlencoded";function Yr(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Ny(n){return Yr(n)&&n.tagName.toLowerCase()==="button"}function wy(n){return Yr(n)&&n.tagName.toLowerCase()==="form"}function ky(n){return Yr(n)&&n.tagName.toLowerCase()==="input"}function Sy(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Cy(n,r){return n.button===0&&(!r||r==="_self")&&!Sy(n)}function Uo(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((r,i)=>{let o=n[i];return r.concat(Array.isArray(o)?o.map(u=>[i,u]):[[i,o]])},[]))}function Ay(n,r){let i=Uo(n);return r&&r.forEach((o,u)=>{i.has(u)||r.getAll(u).forEach(x=>{i.append(u,x)})}),i}var _r=null;function Ey(){if(_r===null)try{new FormData(document.createElement("form"),0),_r=!1}catch{_r=!0}return _r}var My=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function So(n){return n!=null&&!My.has(n)?(Lt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hr}"`),null):n}function Ly(n,r){let i,o,u,x,f;if(wy(n)){let v=n.getAttribute("action");o=v?vs(v,r):null,i=n.getAttribute("method")||zr,u=So(n.getAttribute("enctype"))||Hr,x=new FormData(n)}else if(Ny(n)||ky(n)&&(n.type==="submit"||n.type==="image")){let v=n.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let j=n.getAttribute("formaction")||v.getAttribute("action");if(o=j?vs(j,r):null,i=n.getAttribute("formmethod")||v.getAttribute("method")||zr,u=So(n.getAttribute("formenctype"))||So(v.getAttribute("enctype"))||Hr,x=new FormData(v,n),!Ey()){let{name:p,type:g,value:y}=n;if(g==="image"){let S=p?`${p}.`:"";x.append(`${S}x`,"0"),x.append(`${S}y`,"0")}else p&&x.append(p,y)}}else{if(Yr(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=zr,o=null,u=Hr,f=n}return x&&u==="text/plain"&&(f=x,x=void 0),{action:o,method:i.toLowerCase(),encType:u,formData:x,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ko(n,r){if(n===!1||n===null||typeof n>"u")throw new Error(r)}function Ry(n,r,i){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return o.pathname==="/"?o.pathname=`_root.${i}`:r&&vs(o.pathname,r)==="/"?o.pathname=`${r.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function Ty(n,r){if(n.id in r)return r[n.id];try{let i=await import(n.module);return r[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Dy(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function _y(n,r,i){let o=await Promise.all(n.map(async u=>{let x=r.routes[u.route.id];if(x){let f=await Ty(x,i);return f.links?f.links():[]}return[]}));return Hy(o.flat(1).filter(Dy).filter(u=>u.rel==="stylesheet"||u.rel==="preload").map(u=>u.rel==="stylesheet"?{...u,rel:"prefetch",as:"style"}:{...u,rel:"prefetch"}))}function h0(n,r,i,o,u,x){let f=(j,p)=>i[p]?j.route.id!==i[p].route.id:!0,v=(j,p)=>i[p].pathname!==j.pathname||i[p].route.path?.endsWith("*")&&i[p].params["*"]!==j.params["*"];return x==="assets"?r.filter((j,p)=>f(j,p)||v(j,p)):x==="data"?r.filter((j,p)=>{let g=o.routes[j.route.id];if(!g||!g.hasLoader)return!1;if(f(j,p)||v(j,p))return!0;if(j.route.shouldRevalidate){let y=j.route.shouldRevalidate({currentUrl:new URL(u.pathname+u.search+u.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:j.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function Uy(n,r,{includeHydrateFallback:i}={}){return Oy(n.map(o=>{let u=r.routes[o.route.id];if(!u)return[];let x=[u.module];return u.clientActionModule&&(x=x.concat(u.clientActionModule)),u.clientLoaderModule&&(x=x.concat(u.clientLoaderModule)),i&&u.hydrateFallbackModule&&(x=x.concat(u.hydrateFallbackModule)),u.imports&&(x=x.concat(u.imports)),x}).flat(1))}function Oy(n){return[...new Set(n)]}function zy(n){let r={},i=Object.keys(n).sort();for(let o of i)r[o]=n[o];return r}function Hy(n,r){let i=new Set;return new Set(r),n.reduce((o,u)=>{let x=JSON.stringify(zy(u));return i.has(x)||(i.add(x),o.push({key:x,link:u})),o},[])}function th(){let n=m.useContext(ln);return Ko(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function By(){let n=m.useContext(Fr);return Ko(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Io=m.createContext(void 0);Io.displayName="FrameworkContext";function sh(){let n=m.useContext(Io);return Ko(n,"You must render this element inside a <HydratedRouter> element"),n}function Gy(n,r){let i=m.useContext(Io),[o,u]=m.useState(!1),[x,f]=m.useState(!1),{onFocus:v,onBlur:j,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=r,S=m.useRef(null);m.useEffect(()=>{if(n==="render"&&f(!0),n==="viewport"){let k=E=>{E.forEach(D=>{f(D.isIntersecting)})},C=new IntersectionObserver(k,{threshold:.5});return S.current&&C.observe(S.current),()=>{C.disconnect()}}},[n]),m.useEffect(()=>{if(o){let k=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(k)}}},[o]);let _=()=>{u(!0)},w=()=>{u(!1),f(!1)};return i?n!=="intent"?[x,S,{}]:[x,S,{onFocus:rl(v,_),onBlur:rl(j,w),onMouseEnter:rl(p,_),onMouseLeave:rl(g,w),onTouchStart:rl(y,_)}]:[!1,S,{}]}function rl(n,r){return i=>{n&&n(i),i.defaultPrevented||r(i)}}function Vy({page:n,...r}){let{router:i}=th(),o=m.useMemo(()=>V0(i.routes,n,i.basename),[i.routes,n,i.basename]);return o?m.createElement(Py,{page:n,matches:o,...r}):null}function qy(n){let{manifest:r,routeModules:i}=sh(),[o,u]=m.useState([]);return m.useEffect(()=>{let x=!1;return _y(n,r,i).then(f=>{x||u(f)}),()=>{x=!0}},[n,r,i]),o}function Py({page:n,matches:r,...i}){let o=Jt(),{manifest:u,routeModules:x}=sh(),{basename:f}=th(),{loaderData:v,matches:j}=By(),p=m.useMemo(()=>h0(n,r,j,u,o,"data"),[n,r,j,u,o]),g=m.useMemo(()=>h0(n,r,j,u,o,"assets"),[n,r,j,u,o]),y=m.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let w=new Set,k=!1;if(r.forEach(E=>{let D=u.routes[E.route.id];!D||!D.hasLoader||(!p.some(O=>O.route.id===E.route.id)&&E.route.id in v&&x[E.route.id]?.shouldRevalidate||D.hasClientLoader?k=!0:w.add(E.route.id))}),w.size===0)return[];let C=Ry(n,f,"data");return k&&w.size>0&&C.searchParams.set("_routes",r.filter(E=>w.has(E.route.id)).map(E=>E.route.id).join(",")),[C.pathname+C.search]},[f,v,o,u,p,r,n,x]),S=m.useMemo(()=>Uy(g,u),[g,u]),_=qy(g);return m.createElement(m.Fragment,null,y.map(w=>m.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...i})),S.map(w=>m.createElement("link",{key:w,rel:"modulepreload",href:w,...i})),_.map(({key:w,link:k})=>m.createElement("link",{key:w,nonce:i.nonce,...k})))}function Fy(...n){return r=>{n.forEach(i=>{typeof i=="function"?i(r):i!=null&&(i.current=r)})}}var $y=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$y&&(window.__reactRouterVersion="7.11.0")}catch{}function Yy({basename:n,children:r,unstable_useTransitions:i,window:o}){let u=m.useRef();u.current==null&&(u.current=kg({window:o,v5Compat:!0}));let x=u.current,[f,v]=m.useState({action:x.action,location:x.location}),j=m.useCallback(p=>{i===!1?v(p):m.startTransition(()=>v(p))},[i]);return m.useLayoutEffect(()=>x.listen(j),[x,j]),m.createElement(jy,{basename:n,children:r,location:f.location,navigationType:f.action,navigator:x,unstable_useTransitions:i})}var ah=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=m.forwardRef(function({onClick:r,discover:i="render",prefetch:o="none",relative:u,reloadDocument:x,replace:f,state:v,target:j,to:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:S,..._},w){let{basename:k,unstable_useTransitions:C}=m.useContext(Rt),E=typeof p=="string"&&ah.test(p),D=Y0(p,k);p=D.to;let O=ny(p,{relative:u}),[z,P,R]=Gy(o,_),M=Qy(p,{replace:f,state:v,target:j,preventScrollReset:g,relative:u,viewTransition:y,unstable_defaultShouldRevalidate:S,unstable_useTransitions:C});function J(H){r&&r(H),H.defaultPrevented||M(H)}let Z=m.createElement("a",{..._,...R,href:D.absoluteURL||O,onClick:D.isExternal||x?r:J,ref:Fy(w,P),target:j,"data-discover":!E&&i==="render"?"true":void 0});return z&&!E?m.createElement(m.Fragment,null,Z,m.createElement(Vy,{page:O})):Z});it.displayName="Link";var Ky=m.forwardRef(function({"aria-current":r="page",caseSensitive:i=!1,className:o="",end:u=!1,style:x,to:f,viewTransition:v,children:j,...p},g){let y=dl(f,{relative:p.relative}),S=Jt(),_=m.useContext(Fr),{navigator:w,basename:k}=m.useContext(Rt),C=_!=null&&t2(y)&&v===!0,E=w.encodeLocation?w.encodeLocation(y).pathname:y.pathname,D=S.pathname,O=_&&_.navigation&&_.navigation.location?_.navigation.location.pathname:null;i||(D=D.toLowerCase(),O=O?O.toLowerCase():null,E=E.toLowerCase()),O&&k&&(O=vs(O,k)||O);const z=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let P=D===E||!u&&D.startsWith(E)&&D.charAt(z)==="/",R=O!=null&&(O===E||!u&&O.startsWith(E)&&O.charAt(E.length)==="/"),M={isActive:P,isPending:R,isTransitioning:C},J=P?r:void 0,Z;typeof o=="function"?Z=o(M):Z=[o,P?"active":null,R?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let H=typeof x=="function"?x(M):x;return m.createElement(it,{...p,"aria-current":J,className:Z,ref:g,style:H,to:f,viewTransition:v},typeof j=="function"?j(M):j)});Ky.displayName="NavLink";var Iy=m.forwardRef(({discover:n="render",fetcherKey:r,navigate:i,reloadDocument:o,replace:u,state:x,method:f=zr,action:v,onSubmit:j,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:S,..._},w)=>{let{unstable_useTransitions:k}=m.useContext(Rt),C=Jy(),E=e2(v,{relative:p}),D=f.toLowerCase()==="get"?"get":"post",O=typeof v=="string"&&ah.test(v),z=P=>{if(j&&j(P),P.defaultPrevented)return;P.preventDefault();let R=P.nativeEvent.submitter,M=R?.getAttribute("formmethod")||f,J=()=>C(R||P.currentTarget,{fetcherKey:r,method:M,navigate:i,replace:u,state:x,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:S});k&&i!==!1?m.startTransition(()=>J()):J()};return m.createElement("form",{ref:w,method:D,action:E,onSubmit:o?j:z,..._,"data-discover":!O&&n==="render"?"true":void 0})});Iy.displayName="Form";function Xy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nh(n){let r=m.useContext(ln);return He(r,Xy(n)),r}function Qy(n,{target:r,replace:i,state:o,preventScrollReset:u,relative:x,viewTransition:f,unstable_defaultShouldRevalidate:v,unstable_useTransitions:j}={}){let p=$r(),g=Jt(),y=dl(n,{relative:x});return m.useCallback(S=>{if(Cy(S,r)){S.preventDefault();let _=i!==void 0?i:cl(g)===cl(y),w=()=>p(n,{replace:_,state:o,preventScrollReset:u,relative:x,viewTransition:f,unstable_defaultShouldRevalidate:v});j?m.startTransition(()=>w()):w()}},[g,p,y,i,o,r,n,u,x,f,v,j])}function lh(n){Lt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let r=m.useRef(Uo(n)),i=m.useRef(!1),o=Jt(),u=m.useMemo(()=>Ay(o.search,i.current?null:r.current),[o.search]),x=$r(),f=m.useCallback((v,j)=>{const p=Uo(typeof v=="function"?v(new URLSearchParams(u)):v);i.current=!0,x("?"+p,j)},[x,u]);return[u,f]}var Zy=0,Wy=()=>`__${String(++Zy)}__`;function Jy(){let{router:n}=nh("useSubmit"),{basename:r}=m.useContext(Rt),i=py(),o=n.fetch,u=n.navigate;return m.useCallback(async(x,f={})=>{let{action:v,method:j,encType:p,formData:g,body:y}=Ly(x,r);if(f.navigate===!1){let S=f.fetcherKey||Wy();await o(S,i,f.action||v,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:g,body:y,formMethod:f.method||j,formEncType:f.encType||p,flushSync:f.flushSync})}else await u(f.action||v,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:g,body:y,formMethod:f.method||j,formEncType:f.encType||p,replace:f.replace,state:f.state,fromRouteId:i,flushSync:f.flushSync,viewTransition:f.viewTransition})},[o,u,r,i])}function e2(n,{relative:r}={}){let{basename:i}=m.useContext(Rt),o=m.useContext(Yt);He(o,"useFormAction must be used inside a RouteContext");let[u]=o.matches.slice(-1),x={...dl(n||".",{relative:r})},f=Jt();if(n==null){x.search=f.search;let v=new URLSearchParams(x.search),j=v.getAll("index");if(j.some(g=>g==="")){v.delete("index"),j.filter(y=>y).forEach(y=>v.append("index",y));let g=v.toString();x.search=g?`?${g}`:""}}return(!n||n===".")&&u.route.index&&(x.search=x.search?x.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(x.pathname=x.pathname==="/"?i:ys([i,x.pathname])),cl(x)}function t2(n,{relative:r}={}){let i=m.useContext(I0);He(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=nh("useViewTransitionState"),u=dl(n,{relative:r});if(!i.isTransitioning)return!1;let x=vs(i.currentLocation.pathname,o)||i.currentLocation.pathname,f=vs(i.nextLocation.pathname,o)||i.nextLocation.pathname;return qr(u.pathname,f)!=null||qr(u.pathname,x)!=null}function rh(n,r){return function(){return n.apply(r,arguments)}}const{toString:s2}=Object.prototype,{getPrototypeOf:Xo}=Object,{iterator:Kr,toStringTag:ih}=Symbol,Ir=(n=>r=>{const i=s2.call(r);return n[i]||(n[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Kt=n=>(n=n.toLowerCase(),r=>Ir(r)===n),Xr=n=>r=>typeof r===n,{isArray:cn}=Array,an=Xr("undefined");function ul(n){return n!==null&&!an(n)&&n.constructor!==null&&!an(n.constructor)&&yt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const ch=Kt("ArrayBuffer");function a2(n){let r;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?r=ArrayBuffer.isView(n):r=n&&n.buffer&&ch(n.buffer),r}const n2=Xr("string"),yt=Xr("function"),oh=Xr("number"),ml=n=>n!==null&&typeof n=="object",l2=n=>n===!0||n===!1,Br=n=>{if(Ir(n)!=="object")return!1;const r=Xo(n);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(ih in n)&&!(Kr in n)},r2=n=>{if(!ml(n)||ul(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},i2=Kt("Date"),c2=Kt("File"),o2=Kt("Blob"),d2=Kt("FileList"),u2=n=>ml(n)&&yt(n.pipe),m2=n=>{let r;return n&&(typeof FormData=="function"&&n instanceof FormData||yt(n.append)&&((r=Ir(n))==="formdata"||r==="object"&&yt(n.toString)&&n.toString()==="[object FormData]"))},x2=Kt("URLSearchParams"),[h2,f2,p2,g2]=["ReadableStream","Request","Response","Headers"].map(Kt),y2=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xl(n,r,{allOwnKeys:i=!1}={}){if(n===null||typeof n>"u")return;let o,u;if(typeof n!="object"&&(n=[n]),cn(n))for(o=0,u=n.length;o<u;o++)r.call(null,n[o],o,n);else{if(ul(n))return;const x=i?Object.getOwnPropertyNames(n):Object.keys(n),f=x.length;let v;for(o=0;o<f;o++)v=x[o],r.call(null,n[v],v,n)}}function dh(n,r){if(ul(n))return null;r=r.toLowerCase();const i=Object.keys(n);let o=i.length,u;for(;o-- >0;)if(u=i[o],r===u.toLowerCase())return u;return null}const xa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,uh=n=>!an(n)&&n!==xa;function Oo(){const{caseless:n,skipUndefined:r}=uh(this)&&this||{},i={},o=(u,x)=>{const f=n&&dh(i,x)||x;Br(i[f])&&Br(u)?i[f]=Oo(i[f],u):Br(u)?i[f]=Oo({},u):cn(u)?i[f]=u.slice():(!r||!an(u))&&(i[f]=u)};for(let u=0,x=arguments.length;u<x;u++)arguments[u]&&xl(arguments[u],o);return i}const v2=(n,r,i,{allOwnKeys:o}={})=>(xl(r,(u,x)=>{i&&yt(u)?n[x]=rh(u,i):n[x]=u},{allOwnKeys:o}),n),j2=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),b2=(n,r,i,o)=>{n.prototype=Object.create(r.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:r.prototype}),i&&Object.assign(n.prototype,i)},N2=(n,r,i,o)=>{let u,x,f;const v={};if(r=r||{},n==null)return r;do{for(u=Object.getOwnPropertyNames(n),x=u.length;x-- >0;)f=u[x],(!o||o(f,n,r))&&!v[f]&&(r[f]=n[f],v[f]=!0);n=i!==!1&&Xo(n)}while(n&&(!i||i(n,r))&&n!==Object.prototype);return r},w2=(n,r,i)=>{n=String(n),(i===void 0||i>n.length)&&(i=n.length),i-=r.length;const o=n.indexOf(r,i);return o!==-1&&o===i},k2=n=>{if(!n)return null;if(cn(n))return n;let r=n.length;if(!oh(r))return null;const i=new Array(r);for(;r-- >0;)i[r]=n[r];return i},S2=(n=>r=>n&&r instanceof n)(typeof Uint8Array<"u"&&Xo(Uint8Array)),C2=(n,r)=>{const o=(n&&n[Kr]).call(n);let u;for(;(u=o.next())&&!u.done;){const x=u.value;r.call(n,x[0],x[1])}},A2=(n,r)=>{let i;const o=[];for(;(i=n.exec(r))!==null;)o.push(i);return o},E2=Kt("HTMLFormElement"),M2=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,u){return o.toUpperCase()+u}),f0=(({hasOwnProperty:n})=>(r,i)=>n.call(r,i))(Object.prototype),L2=Kt("RegExp"),mh=(n,r)=>{const i=Object.getOwnPropertyDescriptors(n),o={};xl(i,(u,x)=>{let f;(f=r(u,x,n))!==!1&&(o[x]=f||u)}),Object.defineProperties(n,o)},R2=n=>{mh(n,(r,i)=>{if(yt(n)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=n[i];if(yt(o)){if(r.enumerable=!1,"writable"in r){r.writable=!1;return}r.set||(r.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},T2=(n,r)=>{const i={},o=u=>{u.forEach(x=>{i[x]=!0})};return cn(n)?o(n):o(String(n).split(r)),i},D2=()=>{},_2=(n,r)=>n!=null&&Number.isFinite(n=+n)?n:r;function U2(n){return!!(n&&yt(n.append)&&n[ih]==="FormData"&&n[Kr])}const O2=n=>{const r=new Array(10),i=(o,u)=>{if(ml(o)){if(r.indexOf(o)>=0)return;if(ul(o))return o;if(!("toJSON"in o)){r[u]=o;const x=cn(o)?[]:{};return xl(o,(f,v)=>{const j=i(f,u+1);!an(j)&&(x[v]=j)}),r[u]=void 0,x}}return o};return i(n,0)},z2=Kt("AsyncFunction"),H2=n=>n&&(ml(n)||yt(n))&&yt(n.then)&&yt(n.catch),xh=((n,r)=>n?setImmediate:r?((i,o)=>(xa.addEventListener("message",({source:u,data:x})=>{u===xa&&x===i&&o.length&&o.shift()()},!1),u=>{o.push(u),xa.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",yt(xa.postMessage)),B2=typeof queueMicrotask<"u"?queueMicrotask.bind(xa):typeof process<"u"&&process.nextTick||xh,G2=n=>n!=null&&yt(n[Kr]),K={isArray:cn,isArrayBuffer:ch,isBuffer:ul,isFormData:m2,isArrayBufferView:a2,isString:n2,isNumber:oh,isBoolean:l2,isObject:ml,isPlainObject:Br,isEmptyObject:r2,isReadableStream:h2,isRequest:f2,isResponse:p2,isHeaders:g2,isUndefined:an,isDate:i2,isFile:c2,isBlob:o2,isRegExp:L2,isFunction:yt,isStream:u2,isURLSearchParams:x2,isTypedArray:S2,isFileList:d2,forEach:xl,merge:Oo,extend:v2,trim:y2,stripBOM:j2,inherits:b2,toFlatObject:N2,kindOf:Ir,kindOfTest:Kt,endsWith:w2,toArray:k2,forEachEntry:C2,matchAll:A2,isHTMLForm:E2,hasOwnProperty:f0,hasOwnProp:f0,reduceDescriptors:mh,freezeMethods:R2,toObjectSet:T2,toCamelCase:M2,noop:D2,toFiniteNumber:_2,findKey:dh,global:xa,isContextDefined:uh,isSpecCompliantForm:U2,toJSONObject:O2,isAsyncFn:z2,isThenable:H2,setImmediate:xh,asap:B2,isIterable:G2};function ye(n,r,i,o,u){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",r&&(this.code=r),i&&(this.config=i),o&&(this.request=o),u&&(this.response=u,this.status=u.status?u.status:null)}K.inherits(ye,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:K.toJSONObject(this.config),code:this.code,status:this.status}}});const hh=ye.prototype,fh={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{fh[n]={value:n}});Object.defineProperties(ye,fh);Object.defineProperty(hh,"isAxiosError",{value:!0});ye.from=(n,r,i,o,u,x)=>{const f=Object.create(hh);K.toFlatObject(n,f,function(g){return g!==Error.prototype},p=>p!=="isAxiosError");const v=n&&n.message?n.message:"Error",j=r==null&&n?n.code:r;return ye.call(f,v,j,i,o,u),n&&f.cause==null&&Object.defineProperty(f,"cause",{value:n,configurable:!0}),f.name=n&&n.name||"Error",x&&Object.assign(f,x),f};const V2=null;function zo(n){return K.isPlainObject(n)||K.isArray(n)}function ph(n){return K.endsWith(n,"[]")?n.slice(0,-2):n}function p0(n,r,i){return n?n.concat(r).map(function(u,x){return u=ph(u),!i&&x?"["+u+"]":u}).join(i?".":""):r}function q2(n){return K.isArray(n)&&!n.some(zo)}const P2=K.toFlatObject(K,{},null,function(r){return/^is[A-Z]/.test(r)});function Qr(n,r,i){if(!K.isObject(n))throw new TypeError("target must be an object");r=r||new FormData,i=K.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,C){return!K.isUndefined(C[k])});const o=i.metaTokens,u=i.visitor||g,x=i.dots,f=i.indexes,j=(i.Blob||typeof Blob<"u"&&Blob)&&K.isSpecCompliantForm(r);if(!K.isFunction(u))throw new TypeError("visitor must be a function");function p(w){if(w===null)return"";if(K.isDate(w))return w.toISOString();if(K.isBoolean(w))return w.toString();if(!j&&K.isBlob(w))throw new ye("Blob is not supported. Use a Buffer instead.");return K.isArrayBuffer(w)||K.isTypedArray(w)?j&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,k,C){let E=w;if(w&&!C&&typeof w=="object"){if(K.endsWith(k,"{}"))k=o?k:k.slice(0,-2),w=JSON.stringify(w);else if(K.isArray(w)&&q2(w)||(K.isFileList(w)||K.endsWith(k,"[]"))&&(E=K.toArray(w)))return k=ph(k),E.forEach(function(O,z){!(K.isUndefined(O)||O===null)&&r.append(f===!0?p0([k],z,x):f===null?k:k+"[]",p(O))}),!1}return zo(w)?!0:(r.append(p0(C,k,x),p(w)),!1)}const y=[],S=Object.assign(P2,{defaultVisitor:g,convertValue:p,isVisitable:zo});function _(w,k){if(!K.isUndefined(w)){if(y.indexOf(w)!==-1)throw Error("Circular reference detected in "+k.join("."));y.push(w),K.forEach(w,function(E,D){(!(K.isUndefined(E)||E===null)&&u.call(r,E,K.isString(D)?D.trim():D,k,S))===!0&&_(E,k?k.concat(D):[D])}),y.pop()}}if(!K.isObject(n))throw new TypeError("data must be an object");return _(n),r}function g0(n){const r={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return r[o]})}function Qo(n,r){this._pairs=[],n&&Qr(n,this,r)}const gh=Qo.prototype;gh.append=function(r,i){this._pairs.push([r,i])};gh.toString=function(r){const i=r?function(o){return r.call(this,o,g0)}:g0;return this._pairs.map(function(u){return i(u[0])+"="+i(u[1])},"").join("&")};function F2(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function yh(n,r,i){if(!r)return n;const o=i&&i.encode||F2;K.isFunction(i)&&(i={serialize:i});const u=i&&i.serialize;let x;if(u?x=u(r,i):x=K.isURLSearchParams(r)?r.toString():new Qo(r,i).toString(o),x){const f=n.indexOf("#");f!==-1&&(n=n.slice(0,f)),n+=(n.indexOf("?")===-1?"?":"&")+x}return n}class y0{constructor(){this.handlers=[]}use(r,i,o){return this.handlers.push({fulfilled:r,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(r){this.handlers[r]&&(this.handlers[r]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(r){K.forEach(this.handlers,function(o){o!==null&&r(o)})}}const vh={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$2=typeof URLSearchParams<"u"?URLSearchParams:Qo,Y2=typeof FormData<"u"?FormData:null,K2=typeof Blob<"u"?Blob:null,I2={isBrowser:!0,classes:{URLSearchParams:$2,FormData:Y2,Blob:K2},protocols:["http","https","file","blob","url","data"]},Zo=typeof window<"u"&&typeof document<"u",Ho=typeof navigator=="object"&&navigator||void 0,X2=Zo&&(!Ho||["ReactNative","NativeScript","NS"].indexOf(Ho.product)<0),Q2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Z2=Zo&&window.location.href||"http://localhost",W2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zo,hasStandardBrowserEnv:X2,hasStandardBrowserWebWorkerEnv:Q2,navigator:Ho,origin:Z2},Symbol.toStringTag,{value:"Module"})),ot={...W2,...I2};function J2(n,r){return Qr(n,new ot.classes.URLSearchParams,{visitor:function(i,o,u,x){return ot.isNode&&K.isBuffer(i)?(this.append(o,i.toString("base64")),!1):x.defaultVisitor.apply(this,arguments)},...r})}function ev(n){return K.matchAll(/\w+|\[(\w*)]/g,n).map(r=>r[0]==="[]"?"":r[1]||r[0])}function tv(n){const r={},i=Object.keys(n);let o;const u=i.length;let x;for(o=0;o<u;o++)x=i[o],r[x]=n[x];return r}function jh(n){function r(i,o,u,x){let f=i[x++];if(f==="__proto__")return!0;const v=Number.isFinite(+f),j=x>=i.length;return f=!f&&K.isArray(u)?u.length:f,j?(K.hasOwnProp(u,f)?u[f]=[u[f],o]:u[f]=o,!v):((!u[f]||!K.isObject(u[f]))&&(u[f]=[]),r(i,o,u[f],x)&&K.isArray(u[f])&&(u[f]=tv(u[f])),!v)}if(K.isFormData(n)&&K.isFunction(n.entries)){const i={};return K.forEachEntry(n,(o,u)=>{r(ev(o),u,i,0)}),i}return null}function sv(n,r,i){if(K.isString(n))try{return(r||JSON.parse)(n),K.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(n)}const hl={transitional:vh,adapter:["xhr","http","fetch"],transformRequest:[function(r,i){const o=i.getContentType()||"",u=o.indexOf("application/json")>-1,x=K.isObject(r);if(x&&K.isHTMLForm(r)&&(r=new FormData(r)),K.isFormData(r))return u?JSON.stringify(jh(r)):r;if(K.isArrayBuffer(r)||K.isBuffer(r)||K.isStream(r)||K.isFile(r)||K.isBlob(r)||K.isReadableStream(r))return r;if(K.isArrayBufferView(r))return r.buffer;if(K.isURLSearchParams(r))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),r.toString();let v;if(x){if(o.indexOf("application/x-www-form-urlencoded")>-1)return J2(r,this.formSerializer).toString();if((v=K.isFileList(r))||o.indexOf("multipart/form-data")>-1){const j=this.env&&this.env.FormData;return Qr(v?{"files[]":r}:r,j&&new j,this.formSerializer)}}return x||u?(i.setContentType("application/json",!1),sv(r)):r}],transformResponse:[function(r){const i=this.transitional||hl.transitional,o=i&&i.forcedJSONParsing,u=this.responseType==="json";if(K.isResponse(r)||K.isReadableStream(r))return r;if(r&&K.isString(r)&&(o&&!this.responseType||u)){const f=!(i&&i.silentJSONParsing)&&u;try{return JSON.parse(r,this.parseReviver)}catch(v){if(f)throw v.name==="SyntaxError"?ye.from(v,ye.ERR_BAD_RESPONSE,this,null,this.response):v}}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};K.forEach(["delete","get","head","post","put","patch"],n=>{hl.headers[n]={}});const av=K.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nv=n=>{const r={};let i,o,u;return n&&n.split(`
`).forEach(function(f){u=f.indexOf(":"),i=f.substring(0,u).trim().toLowerCase(),o=f.substring(u+1).trim(),!(!i||r[i]&&av[i])&&(i==="set-cookie"?r[i]?r[i].push(o):r[i]=[o]:r[i]=r[i]?r[i]+", "+o:o)}),r},v0=Symbol("internals");function il(n){return n&&String(n).trim().toLowerCase()}function Gr(n){return n===!1||n==null?n:K.isArray(n)?n.map(Gr):String(n)}function lv(n){const r=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(n);)r[o[1]]=o[2];return r}const rv=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Co(n,r,i,o,u){if(K.isFunction(o))return o.call(this,r,i);if(u&&(r=i),!!K.isString(r)){if(K.isString(o))return r.indexOf(o)!==-1;if(K.isRegExp(o))return o.test(r)}}function iv(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(r,i,o)=>i.toUpperCase()+o)}function cv(n,r){const i=K.toCamelCase(" "+r);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+i,{value:function(u,x,f){return this[o].call(this,r,u,x,f)},configurable:!0})})}let vt=class{constructor(r){r&&this.set(r)}set(r,i,o){const u=this;function x(v,j,p){const g=il(j);if(!g)throw new Error("header name must be a non-empty string");const y=K.findKey(u,g);(!y||u[y]===void 0||p===!0||p===void 0&&u[y]!==!1)&&(u[y||j]=Gr(v))}const f=(v,j)=>K.forEach(v,(p,g)=>x(p,g,j));if(K.isPlainObject(r)||r instanceof this.constructor)f(r,i);else if(K.isString(r)&&(r=r.trim())&&!rv(r))f(nv(r),i);else if(K.isObject(r)&&K.isIterable(r)){let v={},j,p;for(const g of r){if(!K.isArray(g))throw TypeError("Object iterator must return a key-value pair");v[p=g[0]]=(j=v[p])?K.isArray(j)?[...j,g[1]]:[j,g[1]]:g[1]}f(v,i)}else r!=null&&x(i,r,o);return this}get(r,i){if(r=il(r),r){const o=K.findKey(this,r);if(o){const u=this[o];if(!i)return u;if(i===!0)return lv(u);if(K.isFunction(i))return i.call(this,u,o);if(K.isRegExp(i))return i.exec(u);throw new TypeError("parser must be boolean|regexp|function")}}}has(r,i){if(r=il(r),r){const o=K.findKey(this,r);return!!(o&&this[o]!==void 0&&(!i||Co(this,this[o],o,i)))}return!1}delete(r,i){const o=this;let u=!1;function x(f){if(f=il(f),f){const v=K.findKey(o,f);v&&(!i||Co(o,o[v],v,i))&&(delete o[v],u=!0)}}return K.isArray(r)?r.forEach(x):x(r),u}clear(r){const i=Object.keys(this);let o=i.length,u=!1;for(;o--;){const x=i[o];(!r||Co(this,this[x],x,r,!0))&&(delete this[x],u=!0)}return u}normalize(r){const i=this,o={};return K.forEach(this,(u,x)=>{const f=K.findKey(o,x);if(f){i[f]=Gr(u),delete i[x];return}const v=r?iv(x):String(x).trim();v!==x&&delete i[x],i[v]=Gr(u),o[v]=!0}),this}concat(...r){return this.constructor.concat(this,...r)}toJSON(r){const i=Object.create(null);return K.forEach(this,(o,u)=>{o!=null&&o!==!1&&(i[u]=r&&K.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([r,i])=>r+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(r){return r instanceof this?r:new this(r)}static concat(r,...i){const o=new this(r);return i.forEach(u=>o.set(u)),o}static accessor(r){const o=(this[v0]=this[v0]={accessors:{}}).accessors,u=this.prototype;function x(f){const v=il(f);o[v]||(cv(u,f),o[v]=!0)}return K.isArray(r)?r.forEach(x):x(r),this}};vt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);K.reduceDescriptors(vt.prototype,({value:n},r)=>{let i=r[0].toUpperCase()+r.slice(1);return{get:()=>n,set(o){this[i]=o}}});K.freezeMethods(vt);function Ao(n,r){const i=this||hl,o=r||i,u=vt.from(o.headers);let x=o.data;return K.forEach(n,function(v){x=v.call(i,x,u.normalize(),r?r.status:void 0)}),u.normalize(),x}function bh(n){return!!(n&&n.__CANCEL__)}function on(n,r,i){ye.call(this,n??"canceled",ye.ERR_CANCELED,r,i),this.name="CanceledError"}K.inherits(on,ye,{__CANCEL__:!0});function Nh(n,r,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?n(i):r(new ye("Request failed with status code "+i.status,[ye.ERR_BAD_REQUEST,ye.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function ov(n){const r=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return r&&r[1]||""}function dv(n,r){n=n||10;const i=new Array(n),o=new Array(n);let u=0,x=0,f;return r=r!==void 0?r:1e3,function(j){const p=Date.now(),g=o[x];f||(f=p),i[u]=j,o[u]=p;let y=x,S=0;for(;y!==u;)S+=i[y++],y=y%n;if(u=(u+1)%n,u===x&&(x=(x+1)%n),p-f<r)return;const _=g&&p-g;return _?Math.round(S*1e3/_):void 0}}function uv(n,r){let i=0,o=1e3/r,u,x;const f=(p,g=Date.now())=>{i=g,u=null,x&&(clearTimeout(x),x=null),n(...p)};return[(...p)=>{const g=Date.now(),y=g-i;y>=o?f(p,g):(u=p,x||(x=setTimeout(()=>{x=null,f(u)},o-y)))},()=>u&&f(u)]}const Pr=(n,r,i=3)=>{let o=0;const u=dv(50,250);return uv(x=>{const f=x.loaded,v=x.lengthComputable?x.total:void 0,j=f-o,p=u(j),g=f<=v;o=f;const y={loaded:f,total:v,progress:v?f/v:void 0,bytes:j,rate:p||void 0,estimated:p&&v&&g?(v-f)/p:void 0,event:x,lengthComputable:v!=null,[r?"download":"upload"]:!0};n(y)},i)},j0=(n,r)=>{const i=n!=null;return[o=>r[0]({lengthComputable:i,total:n,loaded:o}),r[1]]},b0=n=>(...r)=>K.asap(()=>n(...r)),mv=ot.hasStandardBrowserEnv?((n,r)=>i=>(i=new URL(i,ot.origin),n.protocol===i.protocol&&n.host===i.host&&(r||n.port===i.port)))(new URL(ot.origin),ot.navigator&&/(msie|trident)/i.test(ot.navigator.userAgent)):()=>!0,xv=ot.hasStandardBrowserEnv?{write(n,r,i,o,u,x,f){if(typeof document>"u")return;const v=[`${n}=${encodeURIComponent(r)}`];K.isNumber(i)&&v.push(`expires=${new Date(i).toUTCString()}`),K.isString(o)&&v.push(`path=${o}`),K.isString(u)&&v.push(`domain=${u}`),x===!0&&v.push("secure"),K.isString(f)&&v.push(`SameSite=${f}`),document.cookie=v.join("; ")},read(n){if(typeof document>"u")return null;const r=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return r?decodeURIComponent(r[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function hv(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function fv(n,r){return r?n.replace(/\/?\/$/,"")+"/"+r.replace(/^\/+/,""):n}function wh(n,r,i){let o=!hv(r);return n&&(o||i==!1)?fv(n,r):r}const N0=n=>n instanceof vt?{...n}:n;function fa(n,r){r=r||{};const i={};function o(p,g,y,S){return K.isPlainObject(p)&&K.isPlainObject(g)?K.merge.call({caseless:S},p,g):K.isPlainObject(g)?K.merge({},g):K.isArray(g)?g.slice():g}function u(p,g,y,S){if(K.isUndefined(g)){if(!K.isUndefined(p))return o(void 0,p,y,S)}else return o(p,g,y,S)}function x(p,g){if(!K.isUndefined(g))return o(void 0,g)}function f(p,g){if(K.isUndefined(g)){if(!K.isUndefined(p))return o(void 0,p)}else return o(void 0,g)}function v(p,g,y){if(y in r)return o(p,g);if(y in n)return o(void 0,p)}const j={url:x,method:x,data:x,baseURL:f,transformRequest:f,transformResponse:f,paramsSerializer:f,timeout:f,timeoutMessage:f,withCredentials:f,withXSRFToken:f,adapter:f,responseType:f,xsrfCookieName:f,xsrfHeaderName:f,onUploadProgress:f,onDownloadProgress:f,decompress:f,maxContentLength:f,maxBodyLength:f,beforeRedirect:f,transport:f,httpAgent:f,httpsAgent:f,cancelToken:f,socketPath:f,responseEncoding:f,validateStatus:v,headers:(p,g,y)=>u(N0(p),N0(g),y,!0)};return K.forEach(Object.keys({...n,...r}),function(g){const y=j[g]||u,S=y(n[g],r[g],g);K.isUndefined(S)&&y!==v||(i[g]=S)}),i}const kh=n=>{const r=fa({},n);let{data:i,withXSRFToken:o,xsrfHeaderName:u,xsrfCookieName:x,headers:f,auth:v}=r;if(r.headers=f=vt.from(f),r.url=yh(wh(r.baseURL,r.url,r.allowAbsoluteUrls),n.params,n.paramsSerializer),v&&f.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):""))),K.isFormData(i)){if(ot.hasStandardBrowserEnv||ot.hasStandardBrowserWebWorkerEnv)f.setContentType(void 0);else if(K.isFunction(i.getHeaders)){const j=i.getHeaders(),p=["content-type","content-length"];Object.entries(j).forEach(([g,y])=>{p.includes(g.toLowerCase())&&f.set(g,y)})}}if(ot.hasStandardBrowserEnv&&(o&&K.isFunction(o)&&(o=o(r)),o||o!==!1&&mv(r.url))){const j=u&&x&&xv.read(x);j&&f.set(u,j)}return r},pv=typeof XMLHttpRequest<"u",gv=pv&&function(n){return new Promise(function(i,o){const u=kh(n);let x=u.data;const f=vt.from(u.headers).normalize();let{responseType:v,onUploadProgress:j,onDownloadProgress:p}=u,g,y,S,_,w;function k(){_&&_(),w&&w(),u.cancelToken&&u.cancelToken.unsubscribe(g),u.signal&&u.signal.removeEventListener("abort",g)}let C=new XMLHttpRequest;C.open(u.method.toUpperCase(),u.url,!0),C.timeout=u.timeout;function E(){if(!C)return;const O=vt.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),P={data:!v||v==="text"||v==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:O,config:n,request:C};Nh(function(M){i(M),k()},function(M){o(M),k()},P),C=null}"onloadend"in C?C.onloadend=E:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(E)},C.onabort=function(){C&&(o(new ye("Request aborted",ye.ECONNABORTED,n,C)),C=null)},C.onerror=function(z){const P=z&&z.message?z.message:"Network Error",R=new ye(P,ye.ERR_NETWORK,n,C);R.event=z||null,o(R),C=null},C.ontimeout=function(){let z=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded";const P=u.transitional||vh;u.timeoutErrorMessage&&(z=u.timeoutErrorMessage),o(new ye(z,P.clarifyTimeoutError?ye.ETIMEDOUT:ye.ECONNABORTED,n,C)),C=null},x===void 0&&f.setContentType(null),"setRequestHeader"in C&&K.forEach(f.toJSON(),function(z,P){C.setRequestHeader(P,z)}),K.isUndefined(u.withCredentials)||(C.withCredentials=!!u.withCredentials),v&&v!=="json"&&(C.responseType=u.responseType),p&&([S,w]=Pr(p,!0),C.addEventListener("progress",S)),j&&C.upload&&([y,_]=Pr(j),C.upload.addEventListener("progress",y),C.upload.addEventListener("loadend",_)),(u.cancelToken||u.signal)&&(g=O=>{C&&(o(!O||O.type?new on(null,n,C):O),C.abort(),C=null)},u.cancelToken&&u.cancelToken.subscribe(g),u.signal&&(u.signal.aborted?g():u.signal.addEventListener("abort",g)));const D=ov(u.url);if(D&&ot.protocols.indexOf(D)===-1){o(new ye("Unsupported protocol "+D+":",ye.ERR_BAD_REQUEST,n));return}C.send(x||null)})},yv=(n,r)=>{const{length:i}=n=n?n.filter(Boolean):[];if(r||i){let o=new AbortController,u;const x=function(p){if(!u){u=!0,v();const g=p instanceof Error?p:this.reason;o.abort(g instanceof ye?g:new on(g instanceof Error?g.message:g))}};let f=r&&setTimeout(()=>{f=null,x(new ye(`timeout ${r} of ms exceeded`,ye.ETIMEDOUT))},r);const v=()=>{n&&(f&&clearTimeout(f),f=null,n.forEach(p=>{p.unsubscribe?p.unsubscribe(x):p.removeEventListener("abort",x)}),n=null)};n.forEach(p=>p.addEventListener("abort",x));const{signal:j}=o;return j.unsubscribe=()=>K.asap(v),j}},vv=function*(n,r){let i=n.byteLength;if(i<r){yield n;return}let o=0,u;for(;o<i;)u=o+r,yield n.slice(o,u),o=u},jv=async function*(n,r){for await(const i of bv(n))yield*vv(i,r)},bv=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const r=n.getReader();try{for(;;){const{done:i,value:o}=await r.read();if(i)break;yield o}}finally{await r.cancel()}},w0=(n,r,i,o)=>{const u=jv(n,r);let x=0,f,v=j=>{f||(f=!0,o&&o(j))};return new ReadableStream({async pull(j){try{const{done:p,value:g}=await u.next();if(p){v(),j.close();return}let y=g.byteLength;if(i){let S=x+=y;i(S)}j.enqueue(new Uint8Array(g))}catch(p){throw v(p),p}},cancel(j){return v(j),u.return()}},{highWaterMark:2})},k0=64*1024,{isFunction:Ur}=K,Nv=(({Request:n,Response:r})=>({Request:n,Response:r}))(K.global),{ReadableStream:S0,TextEncoder:C0}=K.global,A0=(n,...r)=>{try{return!!n(...r)}catch{return!1}},wv=n=>{n=K.merge.call({skipUndefined:!0},Nv,n);const{fetch:r,Request:i,Response:o}=n,u=r?Ur(r):typeof fetch=="function",x=Ur(i),f=Ur(o);if(!u)return!1;const v=u&&Ur(S0),j=u&&(typeof C0=="function"?(w=>k=>w.encode(k))(new C0):async w=>new Uint8Array(await new i(w).arrayBuffer())),p=x&&v&&A0(()=>{let w=!1;const k=new i(ot.origin,{body:new S0,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!k}),g=f&&v&&A0(()=>K.isReadableStream(new o("").body)),y={stream:g&&(w=>w.body)};u&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!y[w]&&(y[w]=(k,C)=>{let E=k&&k[w];if(E)return E.call(k);throw new ye(`Response type '${w}' is not supported`,ye.ERR_NOT_SUPPORT,C)})});const S=async w=>{if(w==null)return 0;if(K.isBlob(w))return w.size;if(K.isSpecCompliantForm(w))return(await new i(ot.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(K.isArrayBufferView(w)||K.isArrayBuffer(w))return w.byteLength;if(K.isURLSearchParams(w)&&(w=w+""),K.isString(w))return(await j(w)).byteLength},_=async(w,k)=>{const C=K.toFiniteNumber(w.getContentLength());return C??S(k)};return async w=>{let{url:k,method:C,data:E,signal:D,cancelToken:O,timeout:z,onDownloadProgress:P,onUploadProgress:R,responseType:M,headers:J,withCredentials:Z="same-origin",fetchOptions:H}=kh(w),G=r||fetch;M=M?(M+"").toLowerCase():"text";let re=yv([D,O&&O.toAbortSignal()],z),W=null;const I=re&&re.unsubscribe&&(()=>{re.unsubscribe()});let B;try{if(R&&p&&C!=="get"&&C!=="head"&&(B=await _(J,E))!==0){let b=new i(k,{method:"POST",body:E,duplex:"half"}),Y;if(K.isFormData(E)&&(Y=b.headers.get("content-type"))&&J.setContentType(Y),b.body){const[le,oe]=j0(B,Pr(b0(R)));E=w0(b.body,k0,le,oe)}}K.isString(Z)||(Z=Z?"include":"omit");const A=x&&"credentials"in i.prototype,se={...H,signal:re,method:C.toUpperCase(),headers:J.normalize().toJSON(),body:E,duplex:"half",credentials:A?Z:void 0};W=x&&new i(k,se);let F=await(x?G(W,H):G(k,se));const me=g&&(M==="stream"||M==="response");if(g&&(P||me&&I)){const b={};["status","statusText","headers"].forEach(ie=>{b[ie]=F[ie]});const Y=K.toFiniteNumber(F.headers.get("content-length")),[le,oe]=P&&j0(Y,Pr(b0(P),!0))||[];F=new o(w0(F.body,k0,le,()=>{oe&&oe(),I&&I()}),b)}M=M||"text";let ne=await y[K.findKey(y,M)||"text"](F,w);return!me&&I&&I(),await new Promise((b,Y)=>{Nh(b,Y,{data:ne,headers:vt.from(F.headers),status:F.status,statusText:F.statusText,config:w,request:W})})}catch(A){throw I&&I(),A&&A.name==="TypeError"&&/Load failed|fetch/i.test(A.message)?Object.assign(new ye("Network Error",ye.ERR_NETWORK,w,W),{cause:A.cause||A}):ye.from(A,A&&A.code,w,W)}}},kv=new Map,Sh=n=>{let r=n&&n.env||{};const{fetch:i,Request:o,Response:u}=r,x=[o,u,i];let f=x.length,v=f,j,p,g=kv;for(;v--;)j=x[v],p=g.get(j),p===void 0&&g.set(j,p=v?new Map:wv(r)),g=p;return p};Sh();const Wo={http:V2,xhr:gv,fetch:{get:Sh}};K.forEach(Wo,(n,r)=>{if(n){try{Object.defineProperty(n,"name",{value:r})}catch{}Object.defineProperty(n,"adapterName",{value:r})}});const E0=n=>`- ${n}`,Sv=n=>K.isFunction(n)||n===null||n===!1;function Cv(n,r){n=K.isArray(n)?n:[n];const{length:i}=n;let o,u;const x={};for(let f=0;f<i;f++){o=n[f];let v;if(u=o,!Sv(o)&&(u=Wo[(v=String(o)).toLowerCase()],u===void 0))throw new ye(`Unknown adapter '${v}'`);if(u&&(K.isFunction(u)||(u=u.get(r))))break;x[v||"#"+f]=u}if(!u){const f=Object.entries(x).map(([j,p])=>`adapter ${j} `+(p===!1?"is not supported by the environment":"is not available in the build"));let v=i?f.length>1?`since :
`+f.map(E0).join(`
`):" "+E0(f[0]):"as no adapter specified";throw new ye("There is no suitable adapter to dispatch the request "+v,"ERR_NOT_SUPPORT")}return u}const Ch={getAdapter:Cv,adapters:Wo};function Eo(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new on(null,n)}function M0(n){return Eo(n),n.headers=vt.from(n.headers),n.data=Ao.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Ch.getAdapter(n.adapter||hl.adapter,n)(n).then(function(o){return Eo(n),o.data=Ao.call(n,n.transformResponse,o),o.headers=vt.from(o.headers),o},function(o){return bh(o)||(Eo(n),o&&o.response&&(o.response.data=Ao.call(n,n.transformResponse,o.response),o.response.headers=vt.from(o.response.headers))),Promise.reject(o)})}const Ah="1.13.2",Zr={};["object","boolean","number","function","string","symbol"].forEach((n,r)=>{Zr[n]=function(o){return typeof o===n||"a"+(r<1?"n ":" ")+n}});const L0={};Zr.transitional=function(r,i,o){function u(x,f){return"[Axios v"+Ah+"] Transitional option '"+x+"'"+f+(o?". "+o:"")}return(x,f,v)=>{if(r===!1)throw new ye(u(f," has been removed"+(i?" in "+i:"")),ye.ERR_DEPRECATED);return i&&!L0[f]&&(L0[f]=!0,console.warn(u(f," has been deprecated since v"+i+" and will be removed in the near future"))),r?r(x,f,v):!0}};Zr.spelling=function(r){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${r}`),!0)};function Av(n,r,i){if(typeof n!="object")throw new ye("options must be an object",ye.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let u=o.length;for(;u-- >0;){const x=o[u],f=r[x];if(f){const v=n[x],j=v===void 0||f(v,x,n);if(j!==!0)throw new ye("option "+x+" must be "+j,ye.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ye("Unknown option "+x,ye.ERR_BAD_OPTION)}}const Vr={assertOptions:Av,validators:Zr},Wt=Vr.validators;let ha=class{constructor(r){this.defaults=r||{},this.interceptors={request:new y0,response:new y0}}async request(r,i){try{return await this._request(r,i)}catch(o){if(o instanceof Error){let u={};Error.captureStackTrace?Error.captureStackTrace(u):u=new Error;const x=u.stack?u.stack.replace(/^.+\n/,""):"";try{o.stack?x&&!String(o.stack).endsWith(x.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+x):o.stack=x}catch{}}throw o}}_request(r,i){typeof r=="string"?(i=i||{},i.url=r):i=r||{},i=fa(this.defaults,i);const{transitional:o,paramsSerializer:u,headers:x}=i;o!==void 0&&Vr.assertOptions(o,{silentJSONParsing:Wt.transitional(Wt.boolean),forcedJSONParsing:Wt.transitional(Wt.boolean),clarifyTimeoutError:Wt.transitional(Wt.boolean)},!1),u!=null&&(K.isFunction(u)?i.paramsSerializer={serialize:u}:Vr.assertOptions(u,{encode:Wt.function,serialize:Wt.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Vr.assertOptions(i,{baseUrl:Wt.spelling("baseURL"),withXsrfToken:Wt.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let f=x&&K.merge(x.common,x[i.method]);x&&K.forEach(["delete","get","head","post","put","patch","common"],w=>{delete x[w]}),i.headers=vt.concat(f,x);const v=[];let j=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(i)===!1||(j=j&&k.synchronous,v.unshift(k.fulfilled,k.rejected))});const p=[];this.interceptors.response.forEach(function(k){p.push(k.fulfilled,k.rejected)});let g,y=0,S;if(!j){const w=[M0.bind(this),void 0];for(w.unshift(...v),w.push(...p),S=w.length,g=Promise.resolve(i);y<S;)g=g.then(w[y++],w[y++]);return g}S=v.length;let _=i;for(;y<S;){const w=v[y++],k=v[y++];try{_=w(_)}catch(C){k.call(this,C);break}}try{g=M0.call(this,_)}catch(w){return Promise.reject(w)}for(y=0,S=p.length;y<S;)g=g.then(p[y++],p[y++]);return g}getUri(r){r=fa(this.defaults,r);const i=wh(r.baseURL,r.url,r.allowAbsoluteUrls);return yh(i,r.params,r.paramsSerializer)}};K.forEach(["delete","get","head","options"],function(r){ha.prototype[r]=function(i,o){return this.request(fa(o||{},{method:r,url:i,data:(o||{}).data}))}});K.forEach(["post","put","patch"],function(r){function i(o){return function(x,f,v){return this.request(fa(v||{},{method:r,headers:o?{"Content-Type":"multipart/form-data"}:{},url:x,data:f}))}}ha.prototype[r]=i(),ha.prototype[r+"Form"]=i(!0)});let Ev=class Eh{constructor(r){if(typeof r!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(x){i=x});const o=this;this.promise.then(u=>{if(!o._listeners)return;let x=o._listeners.length;for(;x-- >0;)o._listeners[x](u);o._listeners=null}),this.promise.then=u=>{let x;const f=new Promise(v=>{o.subscribe(v),x=v}).then(u);return f.cancel=function(){o.unsubscribe(x)},f},r(function(x,f,v){o.reason||(o.reason=new on(x,f,v),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]}unsubscribe(r){if(!this._listeners)return;const i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const r=new AbortController,i=o=>{r.abort(o)};return this.subscribe(i),r.signal.unsubscribe=()=>this.unsubscribe(i),r.signal}static source(){let r;return{token:new Eh(function(u){r=u}),cancel:r}}};function Mv(n){return function(i){return n.apply(null,i)}}function Lv(n){return K.isObject(n)&&n.isAxiosError===!0}const Bo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Bo).forEach(([n,r])=>{Bo[r]=n});function Mh(n){const r=new ha(n),i=rh(ha.prototype.request,r);return K.extend(i,ha.prototype,r,{allOwnKeys:!0}),K.extend(i,r,null,{allOwnKeys:!0}),i.create=function(u){return Mh(fa(n,u))},i}const Ye=Mh(hl);Ye.Axios=ha;Ye.CanceledError=on;Ye.CancelToken=Ev;Ye.isCancel=bh;Ye.VERSION=Ah;Ye.toFormData=Qr;Ye.AxiosError=ye;Ye.Cancel=Ye.CanceledError;Ye.all=function(r){return Promise.all(r)};Ye.spread=Mv;Ye.isAxiosError=Lv;Ye.mergeConfig=fa;Ye.AxiosHeaders=vt;Ye.formToJSON=n=>jh(K.isHTMLForm(n)?new FormData(n):n);Ye.getAdapter=Ch.getAdapter;Ye.HttpStatusCode=Bo;Ye.default=Ye;const{Axios:B1,AxiosError:G1,CanceledError:V1,isCancel:q1,CancelToken:P1,VERSION:F1,all:$1,Cancel:Y1,isAxiosError:K1,spread:I1,toFormData:X1,AxiosHeaders:Q1,HttpStatusCode:Z1,formToJSON:W1,getAdapter:J1,mergeConfig:eN}=Ye,Q=Ye.create({baseURL:"",withCredentials:!0,headers:{"Content-Type":"application/json"}});Q.interceptors.response.use(n=>n,n=>(n.response?.status===401&&window.location.pathname!=="/login"&&(window.location.href="/login"),Promise.reject(n)));async function Rv(){return((await Q.get("/api/v1/auth/providers")).data.providers||[]).map(r=>({type:r.type,name:r.name,displayName:r.display_name,loginUrl:r.login_url}))}async function Tv(n,r){return(await Q.post("/api/v1/auth/local/login",{username:n,password:r})).data}async function Lh(){return(await Q.get("/api/v1/gateways")).data.gateways||[]}async function Dv(n,r){return(await Q.post("/api/v1/configs/generate",{gateway_id:n,cli_callback_url:r})).data}async function Wr(){return(await Q.get("/api/v1/admin/gateways")).data.gateways||[]}async function _v(n){return(await Q.post("/api/v1/admin/gateways",n)).data}async function Uv(n){await Q.delete(`/api/v1/admin/gateways/${n}`)}async function Ov(n){return(await Q.post(`/api/v1/admin/gateways/${n}/reprovision`)).data}async function zv(n,r){await Q.put(`/api/v1/admin/gateways/${n}`,r)}async function Hv(n){return(await Q.get(`/api/v1/admin/gateways/${n}/users`)).data.users||[]}async function Bv(n,r){await Q.post(`/api/v1/admin/gateways/${n}/users`,{user_id:r})}async function Gv(n,r){await Q.delete(`/api/v1/admin/gateways/${n}/users/${r}`)}async function Vv(n){return(await Q.get(`/api/v1/admin/gateways/${n}/groups`)).data.groups||[]}async function qv(n,r){await Q.post(`/api/v1/admin/gateways/${n}/groups`,{group_name:r})}async function Pv(n,r){await Q.delete(`/api/v1/admin/gateways/${n}/groups/${r}`)}async function dn(){return(await Q.get("/api/v1/admin/networks")).data.networks||[]}async function Fv(n){return(await Q.post("/api/v1/admin/networks",n)).data}async function $v(n,r){await Q.put(`/api/v1/admin/networks/${n}`,r)}async function Yv(n){await Q.delete(`/api/v1/admin/networks/${n}`)}async function Kv(n){return(await Q.get(`/api/v1/admin/networks/${n}/gateways`)).data.gateways||[]}async function Iv(n){return((await Q.get(`/api/v1/admin/networks/${n}/access-rules`)).data.access_rules||[]).map(i=>({id:i.id,name:i.name,description:i.description||"",ruleType:i.rule_type,value:i.value,portRange:i.port_range,protocol:i.protocol,networkId:i.network_id,isActive:i.is_active,users:i.users||[],groups:i.groups||[]}))}async function Xv(n){return(await Q.get(`/api/v1/admin/gateways/${n}/networks`)).data.networks||[]}async function Rh(n,r){await Q.post(`/api/v1/admin/gateways/${n}/networks`,{network_id:r})}async function Th(n,r){await Q.delete(`/api/v1/admin/gateways/${n}/networks/${r}`)}async function Dh(){return(await Q.get("/api/v1/admin/access-rules")).data.accessRules||[]}async function R0(n){return(await Q.get(`/api/v1/admin/access-rules/${n}`)).data}async function Qv(n){return(await Q.post("/api/v1/admin/access-rules",n)).data}async function Zv(n,r){await Q.put(`/api/v1/admin/access-rules/${n}`,r)}async function Wv(n){await Q.delete(`/api/v1/admin/access-rules/${n}`)}async function Jv(n,r){await Q.post(`/api/v1/admin/access-rules/${n}/users`,{user_id:r})}async function ej(n,r){await Q.delete(`/api/v1/admin/access-rules/${n}/users/${r}`)}async function tj(n,r){await Q.post(`/api/v1/admin/access-rules/${n}/groups`,{group_name:r})}async function sj(n,r){await Q.delete(`/api/v1/admin/access-rules/${n}/groups/${r}`)}async function un(){return((await Q.get("/api/v1/admin/users")).data.users||[]).map(r=>({id:r.id,externalId:r.external_id,provider:r.provider,email:r.email,name:r.name,groups:r.groups||[],isAdmin:r.is_admin,isActive:r.is_active,lastLoginAt:r.last_login_at,createdAt:r.created_at,updatedAt:r.updated_at}))}async function aj(n){return(await Q.get(`/api/v1/admin/users/${n}/access-rules`)).data.access_rules||[]}async function nj(n){return((await Q.get(`/api/v1/admin/users/${n}/gateways`)).data.gateways||[]).map(i=>({id:i.id,name:i.name,hostname:i.hostname||"",publicIp:i.public_ip||"",vpnPort:i.vpn_port,vpnProtocol:i.vpn_protocol,isActive:i.is_active,lastHeartbeat:i.last_heartbeat}))}async function lj(n,r){await Q.post(`/api/v1/admin/users/${n}/gateways`,{gateway_id:r})}async function rj(n,r){await Q.delete(`/api/v1/admin/users/${n}/gateways/${r}`)}async function ij(){return((await Q.get("/api/v1/admin/local-users")).data.users||[]).map(r=>({id:r.id,username:r.username,email:r.email,isAdmin:r.is_admin,lastLoginAt:r.last_login_at,createdAt:r.created_at}))}async function cj(n){await Q.post("/api/v1/admin/local-users",n)}async function oj(n){await Q.delete(`/api/v1/admin/local-users/${n}`)}async function fl(){return((await Q.get("/api/v1/admin/groups")).data.groups||[]).map(r=>({name:r.name,memberCount:r.member_count||0}))}async function dj(n){return(await Q.get(`/api/v1/admin/groups/${encodeURIComponent(n)}/members`)).data.members||[]}async function uj(n){return(await Q.get(`/api/v1/admin/groups/${encodeURIComponent(n)}/access-rules`)).data.access_rules||[]}async function mj(){return(await Q.get("/api/v1/admin/settings/ca")).data}async function xj(){return(await Q.post("/api/v1/admin/settings/ca/rotate")).data}async function hj(n){return(await Q.put("/api/v1/admin/settings/ca",n)).data}async function fj(){return(await Q.get("/api/v1/admin/settings/ca/list")).data.cas||[]}async function pj(n){return(await Q.post("/api/v1/admin/settings/ca/prepare-rotation",{description:n})).data}async function gj(n){await Q.post(`/api/v1/admin/settings/ca/activate/${n}`)}async function yj(n){await Q.post(`/api/v1/admin/settings/ca/revoke/${n}`)}async function _h(){return((await Q.get("/api/v1/admin/proxy-apps")).data.applications||[]).map(r=>({id:r.id,name:r.name,slug:r.slug,description:r.description||"",internalUrl:r.internal_url,iconUrl:r.icon_url,isActive:r.is_active,preserveHostHeader:r.preserve_host_header,stripPrefix:r.strip_prefix,injectHeaders:r.inject_headers||{},allowedHeaders:r.allowed_headers||["*"],websocketEnabled:r.websocket_enabled,timeoutSeconds:r.timeout_seconds,createdAt:r.created_at,updatedAt:r.updated_at}))}async function vj(n){const i=(await Q.post("/api/v1/admin/proxy-apps",n)).data;return{id:i.id,name:i.name,slug:i.slug,description:i.description||"",internalUrl:i.internal_url,iconUrl:i.icon_url,isActive:i.is_active,preserveHostHeader:i.preserve_host_header,stripPrefix:i.strip_prefix,injectHeaders:i.inject_headers||{},allowedHeaders:i.allowed_headers||["*"],websocketEnabled:i.websocket_enabled,timeoutSeconds:i.timeout_seconds,createdAt:i.created_at,updatedAt:i.updated_at}}async function jj(n,r){await Q.put(`/api/v1/admin/proxy-apps/${n}`,r)}async function bj(n){await Q.delete(`/api/v1/admin/proxy-apps/${n}`)}async function Nj(n){return(await Q.get(`/api/v1/admin/proxy-apps/${n}/users`)).data.users||[]}async function wj(n,r){await Q.post(`/api/v1/admin/proxy-apps/${n}/users`,{user_id:r})}async function kj(n,r){await Q.delete(`/api/v1/admin/proxy-apps/${n}/users/${r}`)}async function Sj(n){return(await Q.get(`/api/v1/admin/proxy-apps/${n}/groups`)).data.groups||[]}async function Cj(n,r){await Q.post(`/api/v1/admin/proxy-apps/${n}/groups`,{group_name:r})}async function Aj(n,r){await Q.delete(`/api/v1/admin/proxy-apps/${n}/groups/${encodeURIComponent(r)}`)}async function Uh(){return((await Q.get("/api/v1/proxy-apps")).data.applications||[]).map(r=>({id:r.id,name:r.name,slug:r.slug,description:r.description||"",iconUrl:r.icon_url,proxyUrl:r.proxy_url,createdAt:r.created_at}))}async function Ej(){return((await Q.get("/api/v1/configs")).data.configs||[]).map(r=>({id:r.id,gatewayId:r.gatewayId,gatewayName:r.gatewayName,fileName:r.fileName,expiresAt:r.expiresAt,createdAt:r.createdAt,isRevoked:r.isRevoked,revokedAt:r.revokedAt,downloaded:r.downloaded}))}async function Mj(n){await Q.post(`/api/v1/configs/${n}/revoke`)}async function Oh(n,r){await Q.post(`/api/v1/admin/configs/${n}/revoke`,{reason:r})}async function Lj(n,r){return{revokedCount:(await Q.post(`/api/v1/admin/users/${n}/revoke-configs`,{reason:r})).data.revokedCount||0}}async function Rj(n){const r=new URLSearchParams;n?.userEmail&&r.append("user_email",n.userEmail),n?.userId&&r.append("user_id",n.userId),n?.ipAddress&&r.append("ip_address",n.ipAddress),n?.provider&&r.append("provider",n.provider),n?.success!==void 0&&r.append("success",String(n.success)),n?.startTime&&r.append("start_time",n.startTime),n?.endTime&&r.append("end_time",n.endTime),r.append("limit",String(n.limit)),n?.offset&&r.append("offset",String(n.offset));const i=await Q.get(`/api/v1/admin/login-logs?${r.toString()}`);return{logs:(i.data.logs||[]).map(o=>({id:o.id,userId:o.user_id,userEmail:o.user_email,userName:o.user_name||"",provider:o.provider,providerName:o.provider_name||"",ipAddress:o.ip_address,userAgent:o.user_agent||"",country:o.country||"",countryCode:o.country_code||"",city:o.city||"",success:o.success,failureReason:o.failure_reason||"",sessionId:o.session_id||"",createdAt:o.created_at})),total:i.data.total||0}}async function Tj(n){const r=`?days=${n}`,i=await Q.get(`/api/v1/admin/login-logs/stats${r}`);return{totalLogins:i.data.total_logins||0,successfulLogins:i.data.successful_logins||0,failedLogins:i.data.failed_logins||0,uniqueUsers:i.data.unique_users||0,uniqueIps:i.data.unique_ips||0,loginsByProvider:i.data.logins_by_provider||{},loginsByCountry:i.data.logins_by_country||{},recentFailures:(i.data.recent_failures||[]).map(o=>({id:o.id,userId:o.user_id,userEmail:o.user_email,userName:o.user_name||"",provider:o.provider,providerName:o.provider_name||"",ipAddress:o.ip_address,userAgent:o.user_agent||"",country:o.country||"",countryCode:o.country_code||"",city:o.city||"",success:o.success,failureReason:o.failure_reason||"",sessionId:o.session_id||"",createdAt:o.created_at}))}}async function Dj(n){return{deletedCount:(await Q.delete(`/api/v1/admin/login-logs?days=${n}`)).data.deleted_count||0}}async function _j(){return{days:(await Q.get("/api/v1/admin/login-logs/retention")).data.days||30}}async function Uj(n){await Q.put("/api/v1/admin/login-logs/retention",{days:n})}async function Oj(){return((await Q.get("/api/v1/admin/mesh/hubs")).data.hubs||[]).map(r=>({id:r.id,name:r.name,description:r.description||"",publicEndpoint:r.publicEndpoint,vpnPort:r.vpnPort,vpnProtocol:r.vpnProtocol,vpnSubnet:r.vpnSubnet,cryptoProfile:r.cryptoProfile,tlsAuthEnabled:r.tlsAuthEnabled,fullTunnelMode:r.fullTunnelMode||!1,pushDns:r.pushDns||!1,dnsServers:r.dnsServers||[],localNetworks:r.localNetworks||[],sessionEnabled:r.sessionEnabled??!0,status:r.status,statusMessage:r.statusMessage||"",connectedSpokes:r.connectedSpokes||0,connectedClients:r.connectedClients||0,lastHeartbeat:r.lastHeartbeat,createdAt:r.createdAt,updatedAt:r.updatedAt}))}async function zj(n){const i=(await Q.post("/api/v1/admin/mesh/hubs",n)).data.hub;return{id:i.id,name:i.name,description:i.description||"",publicEndpoint:i.publicEndpoint,vpnPort:i.vpnPort,vpnProtocol:i.vpnProtocol,vpnSubnet:i.vpnSubnet,cryptoProfile:i.cryptoProfile,tlsAuthEnabled:i.tlsAuthEnabled,fullTunnelMode:i.fullTunnelMode||!1,pushDns:i.pushDns||!1,dnsServers:i.dnsServers||[],localNetworks:i.localNetworks||[],sessionEnabled:i.sessionEnabled??!0,apiToken:i.apiToken,controlPlaneUrl:i.controlPlaneUrl,status:i.status,statusMessage:"",connectedSpokes:0,connectedClients:0,lastHeartbeat:null,createdAt:i.createdAt||new Date().toISOString(),updatedAt:i.updatedAt||new Date().toISOString()}}async function Hj(n,r){await Q.put(`/api/v1/admin/mesh/hubs/${n}`,r)}async function Bj(n){await Q.delete(`/api/v1/admin/mesh/hubs/${n}`)}async function Gj(n){return{configVersion:(await Q.post(`/api/v1/admin/mesh/hubs/${n}/provision`)).data.configVersion}}async function Vj(n){return(await Q.get(`/api/v1/admin/mesh/hubs/${n}/install-script`)).data}async function qj(n){return(await Q.get(`/api/v1/admin/mesh/hubs/${n}/users`)).data.users||[]}async function Pj(n,r){await Q.post(`/api/v1/admin/mesh/hubs/${n}/users`,{userId:r})}async function Fj(n,r){await Q.delete(`/api/v1/admin/mesh/hubs/${n}/users/${r}`)}async function $j(n){return(await Q.get(`/api/v1/admin/mesh/hubs/${n}/groups`)).data.groups||[]}async function Yj(n,r){await Q.post(`/api/v1/admin/mesh/hubs/${n}/groups`,{groupName:r})}async function Kj(n,r){await Q.delete(`/api/v1/admin/mesh/hubs/${n}/groups/${encodeURIComponent(r)}`)}async function Ij(n){return(await Q.get(`/api/v1/admin/mesh/hubs/${n}/networks`)).data.networks||[]}async function Xj(n,r){await Q.post(`/api/v1/admin/mesh/hubs/${n}/networks`,{networkId:r})}async function Qj(n,r){await Q.delete(`/api/v1/admin/mesh/hubs/${n}/networks/${r}`)}async function Zj(n){return((await Q.get(`/api/v1/admin/mesh/hubs/${n}/spokes`)).data.spokes||[]).map(i=>({id:i.id,hubId:i.hubId,name:i.name,description:i.description||"",localNetworks:i.localNetworks||[],fullTunnelMode:i.fullTunnelMode||!1,pushDns:i.pushDns||!1,dnsServers:i.dnsServers||[],sessionEnabled:i.sessionEnabled??!0,tunnelIp:i.tunnelIp||"",status:i.status,statusMessage:i.statusMessage||"",bytesSent:i.bytesSent||0,bytesReceived:i.bytesReceived||0,remoteIp:i.remoteIp||"",lastSeen:i.lastSeen,hasClientCert:i.hasClientCert||!1,createdAt:i.createdAt,updatedAt:i.updatedAt}))}async function Wj(n,r){const o=(await Q.post(`/api/v1/admin/mesh/hubs/${n}/spokes`,r)).data.spoke;return{id:o.id,hubId:o.hubId,name:o.name,description:o.description||"",localNetworks:o.localNetworks||[],fullTunnelMode:o.fullTunnelMode||!1,pushDns:o.pushDns||!1,dnsServers:o.dnsServers||[],sessionEnabled:o.sessionEnabled??!0,tunnelIp:"",token:o.token,status:o.status,statusMessage:"",bytesSent:0,bytesReceived:0,remoteIp:"",lastSeen:null,hasClientCert:!1,createdAt:o.createdAt||new Date().toISOString(),updatedAt:o.updatedAt||new Date().toISOString()}}async function Jj(n,r){await Q.put(`/api/v1/admin/mesh/spokes/${n}`,r)}async function eb(n){await Q.delete(`/api/v1/admin/mesh/spokes/${n}`)}async function tb(n){return{tunnelIp:(await Q.post(`/api/v1/admin/mesh/spokes/${n}/provision`)).data.tunnelIp}}async function sb(n){return(await Q.get(`/api/v1/admin/mesh/spokes/${n}/install-script`)).data}async function ab(n){return(await Q.get(`/api/v1/admin/mesh/spokes/${n}/users`)).data.users||[]}async function nb(n,r){await Q.post(`/api/v1/admin/mesh/spokes/${n}/users`,{userId:r})}async function lb(n,r){await Q.delete(`/api/v1/admin/mesh/spokes/${n}/users/${r}`)}async function rb(n){return(await Q.get(`/api/v1/admin/mesh/spokes/${n}/groups`)).data.groups||[]}async function ib(n,r){await Q.post(`/api/v1/admin/mesh/spokes/${n}/groups`,{groupName:r})}async function cb(n,r){await Q.delete(`/api/v1/admin/mesh/spokes/${n}/groups/${encodeURIComponent(r)}`)}async function ob(){return(await Q.get("/api/v1/mesh/hubs")).data.hubs||[]}async function db(n){const r=await Q.post("/api/v1/mesh/generate-config",{hubid:n});return{id:r.data.id,hubname:r.data.hubname,config:r.data.config,expiresAt:r.data.expiresAt}}async function ub(){return((await Q.get("/api/v1/mesh-configs")).data.configs||[]).map(r=>({id:r.id,hubId:r.hubId,hubName:r.hubName,fileName:r.fileName,expiresAt:r.expiresAt,createdAt:r.createdAt,isRevoked:r.isRevoked,revokedAt:r.revokedAt,downloaded:r.downloaded}))}async function mb(n){await Q.post(`/api/v1/mesh-configs/${n}/revoke`)}async function T0(){const n=await Q.get("/api/v1/admin/configs"),r=(n.data.configs||[]).map(i=>({id:i.id,userId:i.userId,userEmail:i.userEmail,userName:i.userName,gatewayId:i.gatewayId,gatewayName:i.gatewayName,fileName:i.fileName,serialNumber:i.serialNumber,fingerprint:i.fingerprint,expiresAt:i.expiresAt,createdAt:i.createdAt,isRevoked:i.isRevoked,revokedAt:i.revokedAt,revokedReason:i.revokedReason,downloaded:i.downloaded}));return{configs:r,total:n.data.total||r.length}}async function D0(){const n=await Q.get("/api/v1/admin/mesh-configs"),r=(n.data.configs||[]).map(i=>({id:i.id,userId:i.userId,userEmail:i.userEmail,userName:i.userName,hubId:i.hubId,hubName:i.hubName,fileName:i.fileName,serialNumber:i.serialNumber,fingerprint:i.fingerprint,expiresAt:i.expiresAt,createdAt:i.createdAt,isRevoked:i.isRevoked,revokedAt:i.revokedAt,revokedReason:i.revokedReason,downloaded:i.downloaded}));return{configs:r,total:n.data.total||r.length}}async function zh(n,r){await Q.post(`/api/v1/admin/mesh-configs/${n}/revoke`,{reason:r})}async function xb(n,r){return{revokedCount:(await Q.post(`/api/v1/admin/users/${n}/revoke-mesh-configs`,{reason:r})).data.revokedCount||0}}async function hb(n){return((await Q.get(`/api/v1/admin/users/${n}/configs`)).data.configs||[]).map(i=>({id:i.id,gatewayId:i.gatewayId,gatewayName:i.gatewayName,fileName:i.fileName,expiresAt:i.expiresAt,createdAt:i.createdAt,isRevoked:i.isRevoked,revokedAt:i.revokedAt,downloaded:i.downloaded}))}async function fb(n){return((await Q.get(`/api/v1/admin/users/${n}/mesh-configs`)).data.configs||[]).map(i=>({id:i.id,hubId:i.hubId,hubName:i.hubName,fileName:i.fileName,expiresAt:i.expiresAt,createdAt:i.createdAt,isRevoked:i.isRevoked,revokedAt:i.revokedAt,downloaded:i.downloaded}))}async function pb(n){return{deletedCount:(await Q.delete(`/api/v1/admin/users/${n}/api-keys/all`)).data.deletedCount||0}}async function gb(){return((await Q.get("/api/v1/api-keys")).data.api_keys||[]).map(r=>({id:r.id,name:r.name,description:r.description||"",keyPrefix:r.key_prefix,scopes:r.scopes||[],isAdminProvisioned:r.is_admin_provisioned,provisionedBy:r.provisioned_by,expiresAt:r.expires_at,lastUsedAt:r.last_used_at,lastUsedIp:r.last_used_ip,isRevoked:r.is_revoked,revokedAt:r.revoked_at,createdAt:r.created_at}))}async function yb(n){const i=(await Q.post("/api/v1/api-keys",n)).data;return{id:i.id,name:i.name,description:i.description||"",keyPrefix:i.key_prefix,scopes:i.scopes||[],isAdminProvisioned:i.is_admin_provisioned,provisionedBy:i.provisioned_by,expiresAt:i.expires_at,lastUsedAt:i.last_used_at,lastUsedIp:i.last_used_ip,isRevoked:i.is_revoked,revokedAt:i.revoked_at,createdAt:i.created_at,rawKey:i.raw_key}}async function vb(n){await Q.delete(`/api/v1/api-keys/${n}`)}async function jb(){return((await Q.get("/api/v1/admin/api-keys")).data.api_keys||[]).map(r=>({id:r.id,name:r.name,description:r.description||"",keyPrefix:r.key_prefix,scopes:r.scopes||[],isAdminProvisioned:r.is_admin_provisioned,provisionedBy:r.provisioned_by,expiresAt:r.expires_at,lastUsedAt:r.last_used_at,lastUsedIp:r.last_used_ip,isRevoked:r.is_revoked,revokedAt:r.revoked_at,createdAt:r.created_at,userId:r.user_id,userEmail:r.user_email,userName:r.user_name||""}))}async function bb(n){return((await Q.get(`/api/v1/admin/users/${n}/api-keys`)).data.api_keys||[]).map(i=>({id:i.id,name:i.name,description:i.description||"",keyPrefix:i.key_prefix,scopes:i.scopes||[],isAdminProvisioned:i.is_admin_provisioned,provisionedBy:i.provisioned_by,expiresAt:i.expires_at,lastUsedAt:i.last_used_at,lastUsedIp:i.last_used_ip,isRevoked:i.is_revoked,revokedAt:i.revoked_at,createdAt:i.created_at}))}async function Nb(n,r){const o=(await Q.post(`/api/v1/admin/users/${n}/api-keys`,r)).data;return{id:o.id,name:o.name,description:o.description||"",keyPrefix:o.key_prefix,scopes:o.scopes||[],isAdminProvisioned:o.is_admin_provisioned,provisionedBy:o.provisioned_by,expiresAt:o.expires_at,lastUsedAt:o.last_used_at,lastUsedIp:o.last_used_ip,isRevoked:o.is_revoked,revokedAt:o.revoked_at,createdAt:o.created_at,rawKey:o.raw_key}}async function Hh(n){await Q.delete(`/api/v1/admin/api-keys/${n}`)}async function Bh(){return(await Q.get("/api/v1/admin/topology")).data}async function wb(){return(await Q.get("/api/v1/admin/sessions/active")).data}async function kb(){const n=await Q.get("/api/v1/admin/network-tools");return{tools:n.data.tools||[],locations:(n.data.locations||[]).map(r=>({id:r.id,name:r.name,type:r.type}))}}async function Sb(n){return(await Q.post("/api/v1/admin/network-tools/execute",n)).data}async function Cb(){return((await Q.get("/api/v1/admin/remote-session/agents")).data.agents||[]).map(r=>({id:r.agentId,nodeType:r.nodeType,nodeId:r.nodeId,nodeName:r.nodeName,connectedAt:r.connected}))}function Ab(){return`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/admin/session`}const Gh=m.createContext(void 0);function Eb({children:n}){const[r,i]=m.useState(null),[o,u]=m.useState(!0);m.useEffect(()=>{x()},[]);async function x(){try{const p=await Q.get("/api/v1/auth/session");p.data.user&&i(p.data.user)}catch{i(null)}finally{u(!1)}}function f(p){window.location.href=`/api/v1/auth/${p}/login`}async function v(){try{await Q.post("/api/v1/auth/logout"),i(null),window.location.href="/login"}catch(p){console.error("Logout failed:",p)}}async function j(){await x()}return e.jsx(Gh.Provider,{value:{user:r,loading:o,login:f,logout:v,refreshSession:j},children:n})}function Ks(){const n=m.useContext(Gh);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}function Mb(){const[n,r]=m.useState([]),[i,o]=m.useState(!0),[u,x]=m.useState(null),[f,v]=m.useState(!1),[j,p]=m.useState(""),[g,y]=m.useState(""),[S,_]=m.useState(!1),{user:w,refreshSession:k}=Ks(),C=$r(),[E]=lh(),D=E.get("state"),O=E.get("cli")==="true",z=E.get("error"),[P,R]=m.useState(!1);m.useEffect(()=>{if(w){if(O&&D&&!P&&!z){R(!0),window.location.href=`/api/v1/auth/cli/complete?state=${encodeURIComponent(D)}`;return}O||C("/")}},[w,C,O,D,P,z]),m.useEffect(()=>{M()},[]);async function M(){try{const H=await Rv();r(H),H.filter(re=>re.type!=="local").length===0&&v(!0)}catch{x("Failed to load authentication providers")}finally{o(!1)}}function J(H){if(H.type==="local")v(!0),x(null);else{let G=H.loginUrl;O&&D&&(G+=(G.includes("?")?"&":"?")+"cli_state="+encodeURIComponent(D)),window.location.href=G}}async function Z(H){H.preventDefault(),x(null),_(!0);try{await Tv(j,g),await k(),C("/")}catch{x("Invalid username or password")}finally{_(!1)}}return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary-50 to-primary-100",children:e.jsxs("div",{className:"max-w-md w-full mx-4",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:"/logo.png",alt:"GateKey",className:"h-32"})}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Zero Trust VPN Access"})]}),u&&e.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("span",{className:"text-red-700 text-sm font-medium",children:u==="Failed to load authentication providers"?"Service Unavailable":u})]}),u==="Failed to load authentication providers"&&e.jsxs("div",{className:"mt-2 ml-7",children:[e.jsx("p",{className:"text-red-600 text-xs",children:"Unable to connect to authentication service. Please try again later or contact your administrator."}),e.jsx("button",{onClick:()=>{x(null),o(!0),M()},className:"mt-2 text-xs text-primary-600 hover:text-primary-800 font-medium",children:"Retry Connection"})]})]}),i?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):f?e.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{id:"username",type:"text",value:j,onChange:H=>p(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"admin",required:!0,autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:g,onChange:H=>y(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Enter password",required:!0})]}),e.jsx("button",{type:"submit",disabled:S,className:"w-full btn btn-primary py-3 disabled:opacity-50",children:S?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"}),e.jsx("button",{type:"button",onClick:()=>v(!1),className:"w-full text-sm text-gray-500 hover:text-gray-700",children:"Back to provider selection"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-3",children:n.filter(H=>H.type!=="local").map(H=>e.jsxs("button",{onClick:()=>J(H),className:"w-full flex items-center justify-center space-x-3 btn btn-primary py-3",children:[H.type==="oidc"&&e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),H.type==="saml"&&e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2H7V7a3 3 0 015.905-.75 1 1 0 001.937-.5A5.002 5.002 0 0010 2z"})}),e.jsx("span",{children:H.displayName})]},`${H.type}:${H.name}`))}),n.filter(H=>H.type!=="local").length===0&&e.jsx("p",{className:"text-center text-gray-500 py-4",children:"No SSO providers configured yet."}),n.some(H=>H.type==="local")&&e.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200",children:e.jsxs("button",{onClick:()=>v(!0),className:"w-full flex items-center justify-center space-x-2 text-sm text-gray-600 hover:text-gray-900",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("span",{children:"Sign in as Local User"})]})})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:e.jsx("p",{className:"text-xs text-gray-500 text-center",children:f?"Use your local account credentials to sign in.":"Sign in with your organization's identity provider to access VPN configurations."})})]}),e.jsx("p",{className:"text-center text-sm text-gray-500 mt-4",children:"Secure access powered by GateKey SDP"})]})})}function Lb(){const{user:n}=Ks(),[r,i]=m.useState([]),[o,u]=m.useState([]),[x,f]=m.useState(null),[v,j]=m.useState(!0);m.useEffect(()=>{p()},[n]);async function p(){try{j(!0);const[g,y]=await Promise.all([Lh().catch(()=>[]),Uh().catch(()=>[])]);if(i(g),u(y),n?.isAdmin){const[S,_,w,k,C]=await Promise.all([Wr().catch(()=>[]),dn().catch(()=>[]),un().catch(()=>[]),Dh().catch(()=>[]),_h().catch(()=>[])]),E=D=>{if(!D)return!1;const O=new Date(D).getTime();return Date.now()-O<120*1e3};f({gateways:{total:S.length,online:S.filter(D=>D.isActive&&E(D.lastHeartbeat)).length,offline:S.filter(D=>!D.isActive||!E(D.lastHeartbeat)).length},networks:_.length,users:w.length,accessRules:k.length,proxyApps:C.length})}}catch(g){console.error("Failed to load dashboard data:",g)}finally{j(!1)}}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome back, ",n?.name||n?.email]}),e.jsx("p",{className:"text-gray-500 mt-1",children:n?.isAdmin?"Manage your VPN infrastructure and monitor system status.":"Access your VPN configurations and internal applications."})]}),n?.isAdmin&&x&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[e.jsxs(it,{to:"/admin/gateways",className:"card hover:shadow-lg transition-shadow p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Gateways"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.gateways.total})]}),e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"})})})]}),e.jsxs("div",{className:"mt-2 flex items-center text-xs",children:[e.jsxs("span",{className:"text-green-600",children:[x.gateways.online," online"]}),x.gateways.offline>0&&e.jsxs("span",{className:"text-red-600 ml-2",children:[x.gateways.offline," offline"]})]})]}),e.jsxs(it,{to:"/admin/networks",className:"card hover:shadow-lg transition-shadow p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Networks"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.networks})]}),e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"CIDR blocks defined"})]}),e.jsxs(it,{to:"/admin/users",className:"card hover:shadow-lg transition-shadow p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Users"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.users})]}),e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"SSO users registered"})]}),e.jsxs(it,{to:"/admin/access-rules",className:"card hover:shadow-lg transition-shadow p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Access Rules"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.accessRules})]}),e.jsx("div",{className:"p-2 bg-orange-100 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-orange-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"IP/hostname rules"})]}),e.jsxs(it,{to:"/admin/proxy-apps",className:"card hover:shadow-lg transition-shadow p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Proxy Apps"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:x.proxyApps})]}),e.jsx("div",{className:"p-2 bg-cyan-100 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-cyan-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-gray-500",children:"Web applications"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(it,{to:"/connect",className:"card hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-primary-100 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Connect to VPN"}),e.jsx("p",{className:"text-sm text-gray-500",children:v?"Loading...":`${r.length} gateway${r.length!==1?"s":""} available`})]}),e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),e.jsx(it,{to:"/web-access",className:"card hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Web Access"}),e.jsx("p",{className:"text-sm text-gray-500",children:v?"Loading...":`${o.length} app${o.length!==1?"s":""} available`})]}),e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),e.jsx(it,{to:"/help",className:"card hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-gray-900",children:"Help & Documentation"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Getting started guides"})]}),e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Gateways"}),e.jsx(it,{to:"/connect",className:"text-sm text-primary-600 hover:text-primary-700",children:"View all"})]}),v?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"})}):r.length>0?e.jsx("div",{className:"space-y-3",children:r.slice(0,4).map(g=>{const y=g.isActive&&g.lastHeartbeat&&Date.now()-new Date(g.lastHeartbeat).getTime()<12e4;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${y?"bg-green-500":"bg-gray-400"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:g.name}),e.jsx("p",{className:"text-xs text-gray-500",children:g.hostname})]})]}),e.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${y?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:y?"Online":"Offline"})]},g.id)})}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("svg",{className:"mx-auto h-10 w-10 text-gray-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"})}),e.jsx("p",{children:"No gateways available"}),e.jsx("p",{className:"text-xs mt-1",children:"Contact your administrator for access"})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Your Web Apps"}),e.jsx(it,{to:"/web-access",className:"text-sm text-primary-600 hover:text-primary-700",children:"View all"})]}),v?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"})}):o.length>0?e.jsx("div",{className:"space-y-3",children:o.slice(0,4).map(g=>e.jsxs("a",{href:`/proxy/${g.slug}/`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[g.iconUrl?e.jsx("img",{src:g.iconUrl,alt:"",className:"w-8 h-8 rounded"}):e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-primary-600 font-semibold text-sm",children:g.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:g.name}),e.jsx("p",{className:"text-xs text-gray-500",children:g.slug})]})]}),e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]},g.id))}):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("svg",{className:"mx-auto h-10 w-10 text-gray-400 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),e.jsx("p",{children:"No web apps available"}),e.jsx("p",{className:"text-xs mt-1",children:"Contact your administrator for access"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Getting Started with GateKey CLI"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Install"})]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Download and install the GateKey CLI for your platform"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Configure"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Run ",e.jsx("code",{className:"bg-gray-200 px-1 rounded text-xs",children:"gatekey config init"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Authenticate"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Run ",e.jsx("code",{className:"bg-gray-200 px-1 rounded text-xs",children:"gatekey login"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"4"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Connect"})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Run ",e.jsx("code",{className:"bg-gray-200 px-1 rounded text-xs",children:"gatekey connect"})]})]})]})]})]})}function Rb(){const{user:n}=Ks(),[r]=lh(),[i,o]=m.useState("gateways"),[u,x]=m.useState([]),[f,v]=m.useState([]),[j,p]=m.useState(!0),[g,y]=m.useState(null),[S,_]=m.useState(null),[w,k]=m.useState(!1),[C,E]=m.useState(null),[D,O]=m.useState(null),[z,P]=m.useState(null),[R,M]=m.useState(null),[J,Z]=m.useState(!1),H=r.get("cli_callback"),G=!!H,re=n?.isAdmin??!1,W=window.location.origin;m.useEffect(()=>{I()},[]);async function I(){try{const[ie,he]=await Promise.all([Lh(),ob().catch(()=>[])]);x(ie),v(he);const ve=ie.find(Ze=>Ze.isActive);ve&&y(ve),he.length>0&&_(he[0])}catch{P("Failed to load connection options")}finally{p(!1)}}async function B(){if(g){k(!0),P(null);try{const ie=await Dv(g.id,H||void 0);E(ie)}catch{P("Failed to generate configuration")}finally{k(!1)}}}async function A(){if(S){k(!0),P(null);try{const ie=await db(S.id);O(ie)}catch{P("Failed to generate mesh configuration")}finally{k(!1)}}}function se(){if(!D)return;const ie=new Blob([D.config],{type:"application/x-openvpn-profile"}),he=URL.createObjectURL(ie),ve=document.createElement("a");ve.href=he,ve.download=`mesh-${D.hubname}.ovpn`,document.body.appendChild(ve),ve.click(),document.body.removeChild(ve),URL.revokeObjectURL(he),O(null)}function F(){C&&(window.location.href=C.downloadUrl,setTimeout(()=>{E(null),Z(!1)},1e3))}function me(){if(!C||!H)return;const ie=`${C.downloadUrl}?cli_redirect=true`;window.location.href=ie}function ne(ie,he){navigator.clipboard.writeText(ie),M(he),setTimeout(()=>M(null),2e3)}const b=g?`gatekey connect --gateway ${g.name}`:"gatekey connect",Y=S?`gatekey connect --mesh ${S.name}`:"gatekey connect --mesh",le=`gatekey config init --server ${W}`,oe=`curl -sSL ${W}/scripts/install-client.sh | bash`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Connect to VPN"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Select a gateway or mesh hub and connect using the GateKey CLI."}),G&&e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"text-sm text-blue-700 font-medium",children:"CLI Mode"})]}),e.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Select a gateway and the configuration will be automatically sent to your CLI client."})]}),(u.length>0||f.length>0)&&e.jsx("div",{className:"mt-4 border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>o("gateways"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${i==="gateways"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Gateways (",u.length,")"]}),f.length>0&&e.jsxs("button",{onClick:()=>o("mesh"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${i==="mesh"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Mesh Networks (",f.length,")"]})]})})]}),z&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:z}),j?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i==="gateways"&&u.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No gateways available"}),re?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"mt-2 text-gray-500",children:"Get started by adding a VPN gateway."}),e.jsxs(it,{to:"/admin/gateways",className:"mt-4 inline-flex items-center btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Gateway"]})]}):e.jsx("p",{className:"mt-2 text-gray-500",children:"Contact your administrator to set up VPN gateways."})]}):i==="gateways"?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Gateway"}),e.jsx("div",{className:"space-y-2",children:u.map(ie=>e.jsxs("button",{onClick:()=>y(ie),disabled:!ie.isActive,className:`w-full text-left p-4 rounded-lg border-2 transition-colors ${g?.id===ie.id?"border-primary-500 bg-primary-50":ie.isActive?"border-gray-200 hover:border-gray-300 hover:bg-gray-50":"border-gray-100 bg-gray-50 opacity-60 cursor-not-allowed"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:ie.name}),e.jsx("p",{className:"text-sm text-gray-500",children:ie.hostname||ie.publicIp})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${ie.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:ie.isActive?"Online":"Offline"})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[ie.vpnProtocol.toUpperCase(),":",ie.vpnPort]})]},ie.id))})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Connect with CLI"}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Recommended"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Use the GateKey CLI for the easiest connection experience. The CLI handles authentication, configuration, and connection automatically."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"1. First time setup (run once):"}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-gray-100 flex items-center justify-between",children:[e.jsx("code",{className:"break-all",children:le}),e.jsx("button",{onClick:()=>ne(le,"setup"),className:"ml-4 text-gray-400 hover:text-white transition-colors flex-shrink-0",title:"Copy to clipboard",children:R==="setup"?e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"2. Connect to VPN:"}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-gray-100 flex items-center justify-between",children:[e.jsx("code",{children:b}),e.jsx("button",{onClick:()=>ne(b,"connect"),className:"ml-4 text-gray-400 hover:text-white transition-colors flex-shrink-0",title:"Copy to clipboard",children:R==="connect"?e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Don't have the CLI installed?"}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-3 font-mono text-xs text-gray-100 flex items-center justify-between",children:[e.jsx("code",{className:"break-all",children:oe}),e.jsx("button",{onClick:()=>ne(oe,"install"),className:"ml-4 text-gray-400 hover:text-white transition-colors flex-shrink-0",title:"Copy to clipboard",children:R==="install"?e.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Or download from the ",e.jsx("a",{href:`${W}/downloads/`,className:"text-primary-600 hover:underline",children:"downloads page"})]})]})]}),e.jsxs("div",{className:"card border-gray-200",children:[e.jsxs("button",{onClick:()=>Z(!J),className:"w-full flex items-center justify-between text-left",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Manual Configuration"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Download an OpenVPN config file for use with any OpenVPN client"})]}),e.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${J?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),J&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:g?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("p",{className:"text-sm text-amber-700",children:"Manual configs expire after 24 hours. For persistent access, use the CLI."})]})}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:g.name}),e.jsx("p",{className:"text-sm text-gray-500",children:g.hostname||g.publicIp})]}),e.jsx("button",{onClick:B,disabled:w,className:"btn btn-secondary",children:w?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Generate Config"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Windows"}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"1. Download OpenVPN GUI"}),e.jsx("li",{children:"2. Import the .ovpn file"}),e.jsx("li",{children:"3. Right-click tray icon  Connect"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"macOS"}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"1. Install Tunnelblick or OpenVPN Connect"}),e.jsx("li",{children:"2. Double-click the .ovpn file"}),e.jsx("li",{children:"3. Click Connect"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Linux"}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"1. Install openvpn package"}),e.jsx("li",{children:"2. Run: sudo openvpn config.ovpn"}),e.jsx("li",{children:"3. Or import to NetworkManager"})]})]})]})]}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Select a gateway first to generate a configuration."})})]})]})]}):i==="mesh"?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Mesh Hub"}),e.jsx("div",{className:"space-y-2",children:f.map(ie=>e.jsxs("button",{onClick:()=>_(ie),className:`w-full text-left p-4 rounded-lg border-2 transition-colors ${S?.id===ie.id?"border-primary-500 bg-primary-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:ie.name}),e.jsx("p",{className:"text-sm text-gray-500",children:ie.description||"Mesh Network"})]}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Online"})]}),e.jsxs("div",{className:"mt-2 text-xs text-gray-400",children:[ie.connectedspokes," spoke",ie.connectedspokes!==1?"s":""," connected"]})]},ie.id))})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Connect with CLI"}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800",children:"Recommended"})]}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Use the GateKey CLI for the easiest connection experience. The CLI handles authentication, configuration, and connection automatically."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"1. First time setup (run once):"}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-gray-100 flex items-center justify-between",children:[e.jsx("code",{className:"break-all",children:le}),e.jsx("button",{onClick:()=>ne(le,"mesh-setup"),className:"ml-4 text-gray-400 hover:text-white transition-colors flex-shrink-0",title:"Copy to clipboard",children:R==="mesh-setup"?e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"2. Connect to Mesh Network:"}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-gray-100 flex items-center justify-between",children:[e.jsx("code",{children:Y}),e.jsx("button",{onClick:()=>ne(Y,"mesh-connect"),className:"ml-4 text-gray-400 hover:text-white transition-colors flex-shrink-0",title:"Copy to clipboard",children:R==="mesh-connect"?e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2",children:"Don't have the CLI installed?"}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-3 font-mono text-xs text-gray-100 flex items-center justify-between",children:[e.jsx("code",{className:"break-all",children:oe}),e.jsx("button",{onClick:()=>ne(oe,"mesh-install"),className:"ml-4 text-gray-400 hover:text-white transition-colors flex-shrink-0",title:"Copy to clipboard",children:R==="mesh-install"?e.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Or download from the ",e.jsx("a",{href:`${W}/downloads/`,className:"text-primary-600 hover:underline",children:"downloads page"})]})]})]}),e.jsxs("div",{className:"card border-gray-200",children:[e.jsxs("button",{onClick:()=>Z(!J),className:"w-full flex items-center justify-between text-left",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Manual Configuration"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Download an OpenVPN config file for use with any OpenVPN client"})]}),e.jsx("svg",{className:`w-5 h-5 text-gray-400 transition-transform ${J?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),J&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:S?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("p",{className:"text-sm text-amber-700",children:"Manual configs expire after 24 hours. For persistent access, use the CLI."})]})}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:S.name}),e.jsx("p",{className:"text-sm text-gray-500",children:S.description||"Mesh Network"})]}),e.jsx("button",{onClick:A,disabled:w,className:"btn btn-secondary",children:w?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Generate Config"]})})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("strong",{children:"Note:"})," Mesh configs provide access to all spoke networks you're authorized for. Routes are included in the config and will be automatically applied when connected."]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Windows"}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"1. Download OpenVPN GUI"}),e.jsx("li",{children:"2. Import the .ovpn file"}),e.jsx("li",{children:"3. Right-click tray icon  Connect"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"macOS"}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"1. Install Tunnelblick or OpenVPN Connect"}),e.jsx("li",{children:"2. Double-click the .ovpn file"}),e.jsx("li",{children:"3. Click Connect"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 mb-2",children:"Linux"}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"1. Install openvpn package"}),e.jsx("li",{children:"2. Run: sudo openvpn config.ovpn"}),e.jsx("li",{children:"3. Or import to NetworkManager"})]})]})]})]}):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"Select a mesh hub first to generate a configuration."})})]})]})]}):null,D&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Mesh Configuration Ready"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Your mesh VPN configuration has been generated."}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 text-left",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Hub:"})," ",D.hubname]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"File:"})," mesh-",D.hubname,".ovpn"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>O(null),className:"flex-1 btn btn-secondary",children:"Cancel"}),e.jsxs("button",{onClick:se,className:"flex-1 btn btn-primary",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]})]})]})})}),C&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Configuration Ready"}),e.jsx("p",{className:"text-gray-500 mb-4",children:"Your VPN configuration has been generated."}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4 text-left",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"File:"})," ",C.fileName]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Gateway:"})," ",C.gatewayName]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("strong",{children:"Expires:"})," ",new Date(C.expiresAt).toLocaleString()]})]}),G?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:me,className:"w-full btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Send to CLI"]}),e.jsx("button",{onClick:F,className:"w-full btn btn-secondary",children:"Download Manually"}),e.jsx("button",{onClick:()=>E(null),className:"w-full text-gray-500 hover:text-gray-700 text-sm",children:"Cancel"})]}):e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>E(null),className:"flex-1 btn btn-secondary",children:"Cancel"}),e.jsxs("button",{onClick:F,className:"flex-1 btn btn-primary",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]})]})]})})})]})}function Tb(){const[n,r]=m.useState([]),[i,o]=m.useState(!0),[u,x]=m.useState(null);m.useEffect(()=>{f()},[]);async function f(){try{o(!0);const j=await Uh();r(j),x(null)}catch{x("Failed to load applications")}finally{o(!1)}}function v(j){window.open(j.proxyUrl,"_blank","noopener,noreferrer")}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Web Access"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Access internal web applications directly from your browser without VPN client"})]}),u&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:u}),i?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No applications available"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"You don't have access to any web applications yet. Contact your administrator if you need access."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(j=>e.jsxs("div",{className:"card hover:shadow-lg transition-shadow cursor-pointer group",onClick:()=>v(j),children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:j.iconUrl?e.jsx("img",{src:j.iconUrl,alt:"",className:"h-12 w-12 rounded-lg",onError:p=>{p.target.style.display="none"}}):e.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary-100 text-primary-600 flex items-center justify-center",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 group-hover:text-primary-600 transition-colors",children:j.name}),e.jsx("p",{className:"text-sm text-gray-500 mt-1 line-clamp-2",children:j.description||"No description"})]}),e.jsx("div",{className:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"h-5 w-5 text-primary-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-gray-400 font-mono",children:j.slug}),e.jsxs("button",{onClick:p=>{p.stopPropagation(),v(j)},className:"text-sm font-medium text-primary-600 hover:text-primary-800",children:["Open",e.jsx("svg",{className:"inline-block ml-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]},j.id))}),n.length>0&&e.jsx("div",{className:"card bg-blue-50 border-blue-100",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-600 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Secure Web Access"}),e.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"These applications are accessed through a secure reverse proxy. Your session is authenticated and all access is logged. No VPN client installation required."})]})]})})]})}function Db(){const[n,r]=m.useState([]),[i,o]=m.useState([]),[u,x]=m.useState(!0),[f,v]=m.useState(null),[j,p]=m.useState(null),[g,y]=m.useState("all");m.useEffect(()=>{S()},[]);async function S(){try{x(!0),v(null);const[M,J]=await Promise.all([Ej(),ub()]);r(M),o(J)}catch(M){v("Failed to load configs"),console.error(M)}finally{x(!1)}}async function _(M,J){if(confirm("Are you sure you want to revoke this config? This will immediately disconnect any active VPN session using this config."))try{p(M),J==="gateway"?await Mj(M):await mb(M),await S()}catch(Z){v("Failed to revoke config"),console.error(Z)}finally{p(null)}}function w(M){return new Date(M).toLocaleString()}function k(M){return new Date(M)<new Date}function C(){const M=n.map(Z=>({id:Z.id,type:"gateway",name:Z.gatewayName,fileName:Z.fileName,expiresAt:Z.expiresAt,createdAt:Z.createdAt,isRevoked:Z.isRevoked,revokedAt:Z.revokedAt,downloaded:Z.downloaded})),J=i.map(Z=>({id:Z.id,type:"mesh",name:Z.hubName,fileName:Z.fileName,expiresAt:Z.expiresAt,createdAt:Z.createdAt,isRevoked:Z.isRevoked,revokedAt:Z.revokedAt,downloaded:Z.downloaded}));return[...M,...J].sort((Z,H)=>new Date(H.createdAt).getTime()-new Date(Z.createdAt).getTime())}const E=C(),D=g==="all"?E:E.filter(M=>M.type===g),O=D.filter(M=>!M.isRevoked&&!k(M.expiresAt)),z=D.filter(M=>M.isRevoked||k(M.expiresAt)),P=n.filter(M=>!M.isRevoked&&!k(M.expiresAt)).length,R=i.filter(M=>!M.isRevoked&&!k(M.expiresAt)).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My VPN Configs"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage your VPN configurations. Revoke configs to immediately terminate access."})]}),f&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:f}),u?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[e.jsxs("button",{onClick:()=>y("all"),className:`${g==="all"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:["All Configs (",P+R,")"]}),e.jsxs("button",{onClick:()=>y("gateway"),className:`${g==="gateway"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:["Gateway (",P,")"]}),e.jsxs("button",{onClick:()=>y("mesh"),className:`${g==="mesh"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:["Mesh Hub (",R,")"]})]})})}),e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Active Configs (",O.length,")"]}),O.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No active configs"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"File"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Expires"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map(M=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.type==="gateway"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:M.type==="gateway"?"Gateway":"Mesh Hub"})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"font-medium text-gray-900",children:M.name})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:M.fileName}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:w(M.createdAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:w(M.expiresAt)}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Active"}),M.downloaded&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Downloaded"})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:e.jsxs("button",{onClick:()=>_(M.id,M.type),disabled:j===M.id,className:"inline-flex items-center px-3 py-1.5 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:[e.jsx("svg",{className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),j===M.id?"Revoking...":"Revoke"]})})]},M.id))})]})})]}),z.length>0&&e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Revoked/Expired Configs (",z.length,")"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"File"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:z.map(M=>e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${M.type==="gateway"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:M.type==="gateway"?"Gateway":"Mesh Hub"})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"font-medium text-gray-500",children:M.name})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-400",children:M.fileName}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-400",children:w(M.createdAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:M.isRevoked?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:["Revoked ",M.revokedAt&&`on ${w(M.revokedAt)}`]}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Expired"})})]},M.id))})]})})]})]}),e.jsx("div",{className:"card bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"About Config Revocation"}),e.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"Revoking a config immediately terminates any VPN session using that config. The embedded credentials become invalid and cannot be used to connect again. This is useful if you suspect your config file was compromised."})]})]})})]})}function _b(){const{user:n}=Ks(),[r,i]=m.useState([]),[o,u]=m.useState([]),[x,f]=m.useState(!0),[v,j]=m.useState(null),[p,g]=m.useState(null),[y,S]=m.useState(null),[_,w]=m.useState(!1),[k,C]=m.useState(!1),[E,D]=m.useState(null),[O,z]=m.useState("user");m.useEffect(()=>{P()},[n?.isAdmin]);async function P(){try{f(!0),j(null);const W=await gb();if(i(W),n?.isAdmin){const I=await jb();u(I)}}catch(W){j("Failed to load API keys"),console.error(W)}finally{f(!1)}}async function R(W,I=!1){if(confirm("Are you sure you want to revoke this API key? This action cannot be undone."))try{S(W),I?await Hh(W):await vb(W),g("API key revoked successfully"),await P(),setTimeout(()=>g(null),3e3)}catch(B){j("Failed to revoke API key"),console.error(B)}finally{S(null)}}function M(W){return W?new Date(W).toLocaleString():"Never"}function J(W){return W?new Date(W)<new Date:!1}const Z=r.filter(W=>!W.isRevoked&&!J(W.expiresAt)),H=r.filter(W=>W.isRevoked||J(W.expiresAt)),G=o.filter(W=>!W.isRevoked&&!J(W.expiresAt)),re=o.filter(W=>W.isRevoked||J(W.expiresAt));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"API Keys"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage API keys for CLI authentication and automation."})]}),v&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700 flex justify-between items-center",children:[e.jsx("span",{children:v}),e.jsx("button",{onClick:()=>j(null),className:"text-red-500 hover:text-red-700",children:""})]}),p&&e.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 text-green-700 flex justify-between items-center",children:[e.jsx("span",{children:p}),e.jsx("button",{onClick:()=>g(null),className:"text-green-500 hover:text-green-700",children:""})]}),n?.isAdmin&&e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>z("user"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${O==="user"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"My API Keys"}),e.jsx("button",{onClick:()=>z("admin"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${O==="admin"?"bg-primary-100 text-primary-700":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:"All Users' Keys"})]})}),x?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):O==="user"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Active API Keys (",Z.length,")"]}),e.jsx("button",{onClick:()=>w(!0),className:"btn btn-primary",children:"+ Create API Key"})]}),Z.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No active API keys"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key Prefix"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Expires"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Used"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Z.map(W=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("span",{className:"font-medium text-gray-900",children:W.name}),W.description&&e.jsx("p",{className:"text-xs text-gray-500",children:W.description})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:[W.keyPrefix,"..."]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:M(W.createdAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:W.expiresAt?M(W.expiresAt):"Never"}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:W.lastUsedAt?e.jsx("span",{title:W.lastUsedIp||void 0,children:M(W.lastUsedAt)}):"Never"}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:e.jsx("button",{onClick:()=>R(W.id),disabled:y===W.id,className:"inline-flex items-center px-3 py-1.5 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 disabled:opacity-50",children:y===W.id?"Revoking...":"Revoke"})})]},W.id))})]})})]}),H.length>0&&e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Revoked/Expired Keys (",H.length,")"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key Prefix"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:H.map(W=>e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"font-medium text-gray-500",children:W.name})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("code",{className:"text-sm bg-gray-200 px-2 py-1 rounded text-gray-500",children:[W.keyPrefix,"..."]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-400",children:M(W.createdAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:W.isRevoked?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:["Revoked ",W.revokedAt&&M(W.revokedAt)]}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Expired"})})]},W.id))})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["All Active API Keys (",G.length,")"]}),e.jsx("button",{onClick:()=>C(!0),className:"btn btn-primary",children:"+ Create Key for User"})]}),G.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No active API keys in the system"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key Prefix"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Used"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:G.map(W=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:W.userEmail}),W.userName&&e.jsx("div",{className:"text-xs text-gray-500",children:W.userName})]}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("span",{className:"font-medium text-gray-900",children:W.name}),W.isAdminProvisioned&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-700",children:"Admin Created"})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:[W.keyPrefix,"..."]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:M(W.createdAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:W.lastUsedAt?M(W.lastUsedAt):"Never"}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right space-x-2",children:e.jsx("button",{onClick:()=>R(W.id,!0),disabled:y===W.id,className:"inline-flex items-center px-3 py-1.5 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 disabled:opacity-50",children:y===W.id?"Revoking...":"Revoke"})})]},W.id))})]})})]}),re.length>0&&e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Revoked/Expired Keys (",re.length,")"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Key Prefix"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:re.map(W=>e.jsxs("tr",{className:"bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-gray-500",children:W.userEmail}),W.userName&&e.jsx("div",{className:"text-xs text-gray-400",children:W.userName})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"font-medium text-gray-500",children:W.name})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("code",{className:"text-sm bg-gray-200 px-2 py-1 rounded text-gray-500",children:[W.keyPrefix,"..."]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:W.isRevoked?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Revoked"}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Expired"})})]},W.id))})]})})]})]}),e.jsx("div",{className:"card bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"About API Keys"}),e.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"API keys allow you to authenticate with GateKey CLI tools without browser-based SSO. Use them for automation, CI/CD pipelines, or headless systems. The full API key is only shown once when created - save it securely!"})]})]})}),_&&e.jsx(Ub,{onClose:()=>{w(!1),D(null)},onCreated:W=>{D(W),P()},newKey:E}),k&&e.jsx(Ob,{onClose:()=>{C(!1),D(null)},onCreated:W=>{D(W),P()},newKey:E})]})}function Ub({onClose:n,onCreated:r,newKey:i}){const[o,u]=m.useState(""),[x,f]=m.useState(""),[v,j]=m.useState("90d"),[p,g]=m.useState(!1),[y,S]=m.useState(null),[_,w]=m.useState(!1);async function k(E){E.preventDefault();try{g(!0),S(null);const O=await yb({name:o,description:x||void 0,expires_in:v==="never"?void 0:v});r(O)}catch(D){S("Failed to create API key"),console.error(D)}finally{g(!1)}}function C(){i?.rawKey&&(navigator.clipboard.writeText(i.rawKey),w(!0),setTimeout(()=>w(!1),2e3))}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:n}),e.jsx("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:i?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"API Key Created"})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-yellow-800 font-medium mb-2",children:"Copy your API key now. You won't be able to see it again!"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"flex-1 p-2 bg-white border rounded text-sm font-mono break-all",children:i.rawKey}),e.jsx("button",{onClick:C,className:"btn btn-secondary text-sm whitespace-nowrap",children:_?"Copied!":"Copy"})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",i.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Expires:"})," ",i.expiresAt?new Date(i.expiresAt).toLocaleDateString():"Never"]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{onClick:n,className:"btn btn-primary",children:"Done"})})]}):e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create API Key"}),y&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:y}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),e.jsx("input",{type:"text",value:o,onChange:E=>u(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"My CLI Key",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),e.jsx("input",{type:"text",value:x,onChange:E=>f(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Used for CI/CD automation"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expires"}),e.jsxs("select",{value:v,onChange:E=>j(E.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"30d",children:"30 days"}),e.jsx("option",{value:"90d",children:"90 days"}),e.jsx("option",{value:"180d",children:"180 days"}),e.jsx("option",{value:"1y",children:"1 year"}),e.jsx("option",{value:"never",children:"Never"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:p,className:"btn btn-primary",children:p?"Creating...":"Create Key"})]})]})})]})})}function Ob({onClose:n,onCreated:r,newKey:i}){const[o,u]=m.useState(""),[x,f]=m.useState(""),[v,j]=m.useState(""),[p,g]=m.useState("90d"),[y,S]=m.useState(!1),[_,w]=m.useState(null),[k,C]=m.useState(!1);async function E(O){O.preventDefault();try{S(!0),w(null);const P=await Nb(o,{name:x,description:v||void 0,expires_in:p==="never"?void 0:p});r(P)}catch(z){w("Failed to create API key. Make sure the User ID is valid."),console.error(z)}finally{S(!1)}}function D(){i?.rawKey&&(navigator.clipboard.writeText(i.rawKey),C(!0),setTimeout(()=>C(!1),2e3))}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:n}),e.jsx("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:i?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"API Key Created"})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:[e.jsx("p",{className:"text-sm text-yellow-800 font-medium mb-2",children:"Copy this API key now and share it with the user securely!"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"flex-1 p-2 bg-white border rounded text-sm font-mono break-all",children:i.rawKey}),e.jsx("button",{onClick:D,className:"btn btn-secondary text-sm whitespace-nowrap",children:k?"Copied!":"Copy"})]})]}),e.jsxs("div",{className:"text-sm text-gray-500",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",i.name]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Expires:"})," ",i.expiresAt?new Date(i.expiresAt).toLocaleDateString():"Never"]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{onClick:n,className:"btn btn-primary",children:"Done"})})]}):e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Create API Key for User"}),_&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:_}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"User ID"}),e.jsx("input",{type:"text",value:o,onChange:O=>u(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"user-uuid-here",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Get the User ID from the Users page"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Key Name"}),e.jsx("input",{type:"text",value:x,onChange:O=>f(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Service Account Key",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),e.jsx("input",{type:"text",value:v,onChange:O=>j(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Created by admin for automation"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expires"}),e.jsxs("select",{value:p,onChange:O=>g(O.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"30d",children:"30 days"}),e.jsx("option",{value:"90d",children:"90 days"}),e.jsx("option",{value:"180d",children:"180 days"}),e.jsx("option",{value:"1y",children:"1 year"}),e.jsx("option",{value:"never",children:"Never"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y,className:"btn btn-primary",children:y?"Creating...":"Create Key"})]})]})})]})})}const zb={oidc:"OIDC Providers",saml:"SAML Providers",general:"VPN Settings",ca:"Certificate Authority"};function Hb(){const{tab:n}=ry(),r=n||"oidc",[i,o]=m.useState([]),[u,x]=m.useState([]),[f,v]=m.useState(!0),[j,p]=m.useState(!1),[g,y]=m.useState(null),[S,_]=m.useState(null),[w,k]=m.useState(null),[C,E]=m.useState(!1),[D,O]=m.useState(null),[z,P]=m.useState(!1);m.useEffect(()=>{R()},[]);async function R(){try{v(!0);const[G,re]=await Promise.all([Q.get("/api/v1/admin/settings/oidc"),Q.get("/api/v1/admin/settings/saml")]);o(G.data.providers||[]),x(re.data.providers||[])}catch{y("Failed to load settings")}finally{v(!1)}}async function M(G){try{p(!0),y(null),w&&i.some(re=>re.name===w.name)?await Q.put(`/api/v1/admin/settings/oidc/${w.name}`,G):await Q.post("/api/v1/admin/settings/oidc",G),_("OIDC provider saved successfully"),E(!1),k(null),await R()}catch(re){y(re.response?.data?.error||"Failed to save OIDC provider")}finally{p(!1)}}async function J(G){if(confirm(`Are you sure you want to delete the OIDC provider "${G}"?`))try{await Q.delete(`/api/v1/admin/settings/oidc/${G}`),_("OIDC provider deleted"),await R()}catch{y("Failed to delete OIDC provider")}}async function Z(G){try{p(!0),y(null),D&&u.some(re=>re.name===D.name)?await Q.put(`/api/v1/admin/settings/saml/${D.name}`,G):await Q.post("/api/v1/admin/settings/saml",G),_("SAML provider saved successfully"),P(!1),O(null),await R()}catch(re){y(re.response?.data?.error||"Failed to save SAML provider")}finally{p(!1)}}async function H(G){if(confirm(`Are you sure you want to delete the SAML provider "${G}"?`))try{await Q.delete(`/api/v1/admin/settings/saml/${G}`),_("SAML provider deleted"),await R()}catch{y("Failed to delete SAML provider")}}return f?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:zb[r]}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Configure VPN settings, authentication providers, and security options"})]}),g&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 flex justify-between items-center",children:[e.jsx("span",{children:g}),e.jsx("button",{onClick:()=>y(null),className:"text-red-500 hover:text-red-700",children:""})]}),S&&e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-green-700 flex justify-between items-center",children:[e.jsx("span",{children:S}),e.jsx("button",{onClick:()=>_(null),className:"text-green-500 hover:text-green-700",children:""})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[r==="oidc"&&e.jsx(Bb,{providers:i,showForm:C,editing:w,saving:j,onAdd:()=>{k(null),E(!0)},onEdit:G=>{k(G),E(!0)},onDelete:J,onSave:M,onCancel:()=>{E(!1),k(null)}}),r==="saml"&&e.jsx(Gb,{providers:u,showForm:z,editing:D,saving:j,onAdd:()=>{O(null),P(!0)},onEdit:G=>{O(G),P(!0)},onDelete:H,onSave:Z,onCancel:()=>{P(!1),O(null)}}),r==="general"&&e.jsx(qb,{}),r==="ca"&&e.jsx(Vb,{})]})]})}function Bb({providers:n,showForm:r,editing:i,saving:o,onAdd:u,onEdit:x,onDelete:f,onSave:v,onCancel:j}){const[p,g]=m.useState({name:"",display_name:"",issuer:"",client_id:"",client_secret:"",redirect_url:"",scopes:["openid","profile","email"],admin_group:"",enabled:!0});return m.useEffect(()=>{g(i?{...i,client_secret:""}:{name:"",display_name:"",issuer:"",client_id:"",client_secret:"",redirect_url:window.location.origin+"/api/v1/auth/oidc/callback",scopes:["openid","profile","email"],admin_group:"",enabled:!0})},[i,r]),r?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:i?"Edit OIDC Provider":"Add OIDC Provider"}),e.jsxs("form",{onSubmit:y=>{y.preventDefault(),v(p)},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider Name (unique ID)"}),e.jsx("input",{type:"text",value:p.name,onChange:y=>g({...p,name:y.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"keycloak",required:!0,disabled:!!i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),e.jsx("input",{type:"text",value:p.display_name,onChange:y=>g({...p,display_name:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Sign in with Keycloak",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Issuer URL"}),e.jsx("input",{type:"url",value:p.issuer,onChange:y=>g({...p,issuer:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"https://keycloak.example.com/realms/myrealm",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The OIDC issuer URL (usually ends with /realms/name for Keycloak)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client ID"}),e.jsx("input",{type:"text",value:p.client_id,onChange:y=>g({...p,client_id:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"gatekey",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Client Secret"}),e.jsx("input",{type:"password",value:p.client_secret,onChange:y=>g({...p,client_secret:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:i?"(unchanged if empty)":"Enter client secret",required:!i})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Redirect URL"}),e.jsx("input",{type:"url",value:p.redirect_url,onChange:y=>g({...p,redirect_url:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:window.location.origin+"/api/v1/auth/oidc/callback",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Configure this URL in your OIDC provider as an allowed redirect URI"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scopes"}),e.jsx("input",{type:"text",value:p.scopes.join(" "),onChange:y=>g({...p,scopes:y.target.value.split(" ").filter(S=>S)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"openid profile email"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Space-separated list of OIDC scopes"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Group (optional)"}),e.jsx("input",{type:"text",value:p.admin_group||"",onChange:y=>g({...p,admin_group:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"gatekey-admins"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Users in this group will be granted admin access. Leave empty to disable."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"oidc-enabled",checked:p.enabled,onChange:y=>g({...p,enabled:y.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"oidc-enabled",className:"ml-2 text-sm text-gray-700",children:"Enable this provider"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:j,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"btn btn-primary",children:o?"Saving...":"Save Provider"})]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"OIDC Providers"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configure OpenID Connect providers for single sign-on"})]}),e.jsx("button",{onClick:u,className:"btn btn-primary",children:"+ Add OIDC Provider"})]}),n.length===0?e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e.jsx("p",{className:"mt-2 text-gray-500",children:"No OIDC providers configured"}),e.jsx("button",{onClick:u,className:"mt-2 text-primary-600 hover:text-primary-700",children:"Add your first OIDC provider"})]}):e.jsx("div",{className:"space-y-3",children:n.map(y=>e.jsxs("div",{className:"border rounded-lg p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-medium",children:y.display_name}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${y.enabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:y.enabled?"Enabled":"Disabled"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.issuer}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Client ID: ",y.client_id]}),y.admin_group&&e.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Admin group: ",y.admin_group]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>x(y),className:"btn btn-secondary text-sm inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),e.jsxs("button",{onClick:()=>f(y.name),className:"btn text-sm text-red-600 bg-red-50 border border-red-200 hover:bg-red-100 inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]},y.name))})]})}function Gb({providers:n,showForm:r,editing:i,saving:o,onAdd:u,onEdit:x,onDelete:f,onSave:v,onCancel:j}){const[p,g]=m.useState({name:"",display_name:"",idp_metadata_url:"",entity_id:"",acs_url:"",admin_group:"",enabled:!0});return m.useEffect(()=>{g(i||{name:"",display_name:"",idp_metadata_url:"",entity_id:window.location.origin,acs_url:window.location.origin+"/api/v1/auth/saml/acs",admin_group:"",enabled:!0})},[i,r]),r?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:i?"Edit SAML Provider":"Add SAML Provider"}),e.jsxs("form",{onSubmit:y=>{y.preventDefault(),v(p)},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Provider Name (unique ID)"}),e.jsx("input",{type:"text",value:p.name,onChange:y=>g({...p,name:y.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"okta",required:!0,disabled:!!i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Display Name"}),e.jsx("input",{type:"text",value:p.display_name,onChange:y=>g({...p,display_name:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Sign in with Okta",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"IdP Metadata URL"}),e.jsx("input",{type:"url",value:p.idp_metadata_url,onChange:y=>g({...p,idp_metadata_url:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"https://okta.example.com/app/xxx/sso/saml/metadata",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"URL to the IdP's SAML metadata XML"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Entity ID (SP)"}),e.jsx("input",{type:"text",value:p.entity_id,onChange:y=>g({...p,entity_id:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:window.location.origin,required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The Service Provider entity ID (usually your application's URL)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ACS URL"}),e.jsx("input",{type:"url",value:p.acs_url,onChange:y=>g({...p,acs_url:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:window.location.origin+"/api/v1/auth/saml/acs",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Assertion Consumer Service URL - configure this in your IdP"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Admin Group (optional)"}),e.jsx("input",{type:"text",value:p.admin_group||"",onChange:y=>g({...p,admin_group:y.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"gatekey-admins"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Users in this group will be granted admin access. Leave empty to disable."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"saml-enabled",checked:p.enabled,onChange:y=>g({...p,enabled:y.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"saml-enabled",className:"ml-2 text-sm text-gray-700",children:"Enable this provider"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:j,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"btn btn-primary",children:o?"Saving...":"Save Provider"})]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"SAML Providers"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configure SAML 2.0 identity providers for single sign-on"})]}),e.jsx("button",{onClick:u,className:"btn btn-primary",children:"+ Add SAML Provider"})]}),n.length===0?e.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),e.jsx("p",{className:"mt-2 text-gray-500",children:"No SAML providers configured"}),e.jsx("button",{onClick:u,className:"mt-2 text-primary-600 hover:text-primary-700",children:"Add your first SAML provider"})]}):e.jsx("div",{className:"space-y-3",children:n.map(y=>e.jsxs("div",{className:"border rounded-lg p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-medium",children:y.display_name}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${y.enabled?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:y.enabled?"Enabled":"Disabled"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:y.idp_metadata_url}),e.jsxs("p",{className:"text-xs text-gray-400",children:["Entity ID: ",y.entity_id]}),y.admin_group&&e.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Admin group: ",y.admin_group]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>x(y),className:"btn btn-secondary text-sm inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),e.jsxs("button",{onClick:()=>f(y.name),className:"btn text-sm text-red-600 bg-red-50 border border-red-200 hover:bg-red-100 inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]},y.name))})]})}function Vb(){const[n,r]=m.useState(null),[i,o]=m.useState([]),[u,x]=m.useState(!0),[f,v]=m.useState(!1),[j,p]=m.useState(null),[g,y]=m.useState(null),[S,_]=m.useState(!1),[w,k]=m.useState(null),[C,E]=m.useState(null),[D,O]=m.useState(!1),[z,P]=m.useState(!1),[R,M]=m.useState(""),[J,Z]=m.useState(""),[H,G]=m.useState("");m.useEffect(()=>{re()},[]);async function re(){try{x(!0),k(null);const[b,Y]=await Promise.all([mj().catch(()=>null),fj().catch(()=>[])]);r(b),o(Y)}catch(b){k(b.response?.data?.error||"Failed to load CA information")}finally{x(!1)}}async function W(){try{v(!0),k(null),await pj(R||void 0),E("New CA prepared. Activate it when ready to complete the rotation."),P(!1),M(""),await re(),setTimeout(()=>E(null),1e4)}catch(b){k(b.response?.data?.error||"Failed to prepare CA rotation")}finally{v(!1)}}async function I(b){if(confirm("Are you sure you want to activate this CA? The current active CA will be retired."))try{p(b),k(null),await gj(b),E("CA activated successfully. Gateways and hubs will reprovision automatically."),await re(),setTimeout(()=>E(null),1e4)}catch(Y){k(Y.response?.data?.error||"Failed to activate CA")}finally{p(null)}}async function B(b){if(confirm("Are you sure you want to revoke this CA? Components still using this CA will no longer be able to connect."))try{y(b),k(null),await yj(b),E("CA revoked successfully."),await re(),setTimeout(()=>E(null),1e4)}catch(Y){k(Y.response?.data?.error||"Failed to revoke CA")}finally{y(null)}}async function A(){if(confirm("Are you sure you want to rotate the CA? This will invalidate all existing certificates. Gateways will need to be re-provisioned and users will need new VPN configs."))try{v(!0),k(null);const b=await xj();r(b),E("CA rotated successfully. Please re-provision all gateways."),await re(),setTimeout(()=>E(null),1e4)}catch(b){k(b.response?.data?.error||"Failed to rotate CA")}finally{v(!1)}}async function se(b){if(b.preventDefault(),!!confirm("Are you sure you want to replace the CA? This will invalidate all existing certificates. Gateways will need to be re-provisioned and users will need new VPN configs."))try{_(!0),k(null);const Y=await hj({certificate:J,private_key:H});r(Y),E("CA updated successfully. Please re-provision all gateways."),O(!1),Z(""),G(""),await re(),setTimeout(()=>E(null),1e4)}catch(Y){k(Y.response?.data?.error||"Failed to update CA")}finally{_(!1)}}function F(b){return new Date(b).toLocaleString()}function me(){if(!n)return;const b=new Blob([n.certificate],{type:"application/x-pem-file"}),Y=URL.createObjectURL(b),le=document.createElement("a");le.href=Y,le.download="gatekey-ca.crt",le.click(),URL.revokeObjectURL(Y)}function ne(b){switch(b){case"active":return e.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-green-100 text-green-700",children:"Active"});case"pending":return e.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-yellow-100 text-yellow-700",children:"Pending"});case"retired":return e.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-700",children:"Retired"});case"revoked":return e.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-red-100 text-red-700",children:"Revoked"});default:return e.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-700",children:b})}}return u?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"Certificate Authority"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage the CA used to sign VPN certificates"})]}),w&&e.jsxs("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm flex justify-between items-center",children:[e.jsx("span",{children:w}),e.jsx("button",{onClick:()=>k(null),className:"text-red-500 hover:text-red-700",children:""})]}),C&&e.jsxs("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm flex justify-between items-center",children:[e.jsx("span",{children:C}),e.jsx("button",{onClick:()=>E(null),className:"text-green-500 hover:text-green-700",children:""})]}),i.length>0&&e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"All Certificate Authorities"}),e.jsx("div",{className:"space-y-3",children:i.map(b=>e.jsx("div",{className:`border rounded-lg p-4 ${b.status==="active"?"border-green-300 bg-green-50":""}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"font-medium",children:b.id}),ne(b.status)]}),b.description&&e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:b.description}),e.jsxs("div",{className:"grid gap-1 text-sm text-gray-500",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Fingerprint: "}),e.jsx("span",{className:"font-mono text-xs",children:b.fingerprint||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Valid: "}),F(b.not_before)," - ",F(b.not_after)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-400",children:"Created: "}),F(b.created_at)]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[b.status==="pending"&&e.jsx("button",{onClick:()=>I(b.id),disabled:j===b.id,className:"btn btn-primary text-sm",children:j===b.id?"Activating...":"Activate"}),b.status==="retired"&&e.jsx("button",{onClick:()=>B(b.id),disabled:g===b.id,className:"btn text-sm text-red-600 bg-red-50 border border-red-200 hover:bg-red-100",children:g===b.id?"Revoking...":"Revoke"})]})]})},b.id))})]}),n?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Active CA Certificate Details"}),e.jsxs("div",{className:"grid gap-3 text-sm",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-gray-500 w-32",children:"Subject:"}),e.jsx("span",{className:"font-mono",children:n.subject})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-gray-500 w-32",children:"Serial Number:"}),e.jsx("span",{className:"font-mono uppercase",children:n.serial_number})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-gray-500 w-32",children:"Valid From:"}),e.jsx("span",{children:F(n.not_before)})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-gray-500 w-32",children:"Valid Until:"}),e.jsx("span",{children:F(n.not_after)})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-gray-500 w-32",children:"Fingerprint:"}),e.jsx("span",{className:"font-mono text-xs break-all",children:n.fingerprint})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("button",{onClick:me,className:"btn btn-secondary text-sm inline-flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download CA Certificate"]})})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"CA Management"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Graceful CA Rotation"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Prepare a new CA, then activate it when ready (recommended)"})]}),e.jsxs("button",{onClick:()=>P(!z),className:"btn btn-primary inline-flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Prepare New CA"]})]}),z&&e.jsxs("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-3",children:"Prepare CA Rotation"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description (optional)"}),e.jsx("input",{type:"text",value:R,onChange:b=>M(b.target.value),placeholder:"e.g., Quarterly CA rotation - January 2026",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>P(!1),className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{onClick:W,disabled:f,className:"btn btn-primary",children:f?"Preparing...":"Prepare CA"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Immediate CA Rotation"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Generate and activate a new CA immediately"})]}),e.jsxs("button",{onClick:A,disabled:f,className:"btn btn-secondary inline-flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),f?"Rotating...":"Rotate Now"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Import Custom CA"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Use your own CA certificate and private key"})]}),e.jsxs("button",{onClick:()=>O(!D),className:"btn btn-secondary inline-flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),D?"Cancel":"Import CA"]})]})]})]}),D&&e.jsxs("div",{className:"border rounded-lg p-4 border-primary-200 bg-primary-50",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Import Custom CA"}),e.jsxs("form",{onSubmit:se,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CA Certificate (PEM)"}),e.jsx("textarea",{value:J,onChange:b=>Z(b.target.value),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-xs focus:ring-2 focus:ring-primary-500",placeholder:`-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CA Private Key (PEM)"}),e.jsx("textarea",{value:H,onChange:b=>G(b.target.value),rows:8,className:"w-full px-3 py-2 border border-gray-300 rounded-lg font-mono text-xs focus:ring-2 focus:ring-primary-500",placeholder:`-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----`,required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Supported formats: PKCS#8, RSA, EC private key"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:()=>{O(!1),Z(""),G("")},className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:S,className:"btn btn-primary",children:S?"Uploading...":"Import CA"})]})]})]}),e.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:e.jsxs("p",{className:"text-blue-800 text-sm",children:[e.jsx("strong",{children:"Graceful Rotation:"})," When you activate a new CA, the old CA is retired but remains trusted. Gateways and mesh hubs will automatically reprovision with the new CA on their next heartbeat."]})})]}):e.jsx("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:e.jsx("p",{className:"text-gray-500",children:"CA not initialized"})})]})}function qb(){const[n,r]=m.useState({}),[i,o]=m.useState(!0),[u,x]=m.useState(!1),[f,v]=m.useState(null),[j,p]=m.useState(null);m.useEffect(()=>{g()},[]);async function g(){try{o(!0);const S=await Q.get("/api/v1/admin/settings");r(S.data.settings||{})}catch{v("Failed to load settings")}finally{o(!1)}}async function y(){try{x(!0),v(null),await Q.put("/api/v1/admin/settings",n),p("Settings saved successfully"),setTimeout(()=>p(null),3e3)}catch{v("Failed to save settings")}finally{x(!1)}}return i?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"VPN Settings"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Configure VPN session and security settings"})]}),f&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:f}),j&&e.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm",children:j}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Session Settings"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Duration (hours)"}),e.jsx("input",{type:"number",value:n.session_duration_hours||"12",onChange:S=>r({...n,session_duration_hours:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",min:"1",max:"168"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How long user sessions remain valid"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"VPN Certificate Validity (hours)"}),e.jsx("input",{type:"number",value:n.vpn_cert_validity_hours||"24",onChange:S=>r({...n,vpn_cert_validity_hours:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",min:"1",max:"168"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How long VPN certificates remain valid"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"secure-cookies",checked:n.secure_cookies==="true",onChange:S=>r({...n,secure_cookies:S.target.checked?"true":"false"}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"secure-cookies",className:"ml-2 text-sm text-gray-700",children:"Secure Cookies (HTTPS only)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1 ml-6",children:"Enable only if using HTTPS"})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Security Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"require-fips",checked:n.require_fips==="true",onChange:S=>r({...n,require_fips:S.target.checked?"true":"false"}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"require-fips",className:"ml-2 font-medium text-gray-700",children:"Require FIPS 140-3 Compliance"})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1 ml-6",children:"When enabled, clients must pass FIPS compliance checks before connecting. This enforces the use of FIPS 140-3 validated cryptographic modules."})]})}),n.require_fips==="true"&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Note:"})," Enabling FIPS requirement will block connections from clients that don't have FIPS mode enabled. Make sure your users' systems are FIPS-compliant before enabling this setting."]})})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("button",{onClick:y,disabled:u,className:"btn btn-primary inline-flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),u?"Saving...":"Save Settings"]})})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"OpenVPN Encryption Settings"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Control which encryption profiles are allowed for VPN gateways"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Allowed Crypto Profiles"}),e.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Select which encryption profiles gateways can use. At least one must be selected."}),e.jsx("div",{className:"space-y-2",children:[{id:"modern",name:"Modern",desc:"AES-256-GCM, CHACHA20-POLY1305, TLS 1.2+ (Recommended)"},{id:"fips",name:"FIPS 140-3",desc:"AES-256-GCM only, SHA-384, TLS 1.2+ (Government compliance)"},{id:"compatible",name:"Compatible",desc:"AES-256-CBC fallback, TLS 1.0+ (Legacy support)"}].map(S=>{const _=(n.allowed_crypto_profiles||"modern,fips,compatible").split(","),w=_.includes(S.id);return e.jsxs("label",{className:"flex items-start p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:k=>{let C=_.filter(E=>E.trim()!=="");k.target.checked?C.includes(S.id)||C.push(S.id):C=C.filter(E=>E!==S.id),C.length===0&&(C=["modern"]),r({...n,allowed_crypto_profiles:C.join(",")})},className:"h-4 w-4 mt-0.5 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"font-medium text-gray-900",children:S.name}),e.jsx("p",{className:"text-xs text-gray-500",children:S.desc})]})]},S.id)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum TLS Version"}),e.jsxs("select",{value:n.min_tls_version||"1.2",onChange:S=>r({...n,min_tls_version:S.target.value}),className:"w-full max-w-xs px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"1.0",children:"TLS 1.0 (Legacy)"}),e.jsx("option",{value:"1.1",children:"TLS 1.1"}),e.jsx("option",{value:"1.2",children:"TLS 1.2 (Recommended)"}),e.jsx("option",{value:"1.3",children:"TLS 1.3 (Most Secure)"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Minimum TLS version for VPN connections"})]}),n.allowed_crypto_profiles&&!n.allowed_crypto_profiles.includes("modern")&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Warning:"}),' The "Modern" profile is recommended for best security. Disabling it may reduce overall security.']})}),n.allowed_crypto_profiles==="compatible"&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-800",children:[e.jsx("strong",{children:"Security Risk:"}),' Only allowing the "Compatible" profile means VPN connections may use weaker encryption (AES-CBC). Consider enabling "Modern" or "FIPS" profiles for better security.']})})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("button",{onClick:y,disabled:u,className:"btn btn-primary inline-flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),u?"Saving...":"Save Encryption Settings"]})})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Service Provider Metadata"}),e.jsx("p",{className:"text-sm text-gray-500 mb-3",children:"Use these values when configuring your identity provider"}),e.jsxs("div",{className:"space-y-2 font-mono text-sm bg-gray-50 p-3 rounded",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Entity ID:"}),e.jsx("span",{className:"ml-2",children:window.location.origin})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"OIDC Callback:"}),e.jsxs("span",{className:"ml-2",children:[window.location.origin,"/api/v1/auth/oidc/callback"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"SAML ACS:"}),e.jsxs("span",{className:"ml-2",children:[window.location.origin,"/api/v1/auth/saml/acs"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"SAML Metadata:"}),e.jsxs("span",{className:"ml-2",children:[window.location.origin,"/api/v1/auth/saml/metadata"]})]})]})]})]})]})}const Pb={edit:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),access:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),install:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),delete:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),view:e.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),open:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),assign:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),gateway:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"})}),rules:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},Fb={gray:"text-gray-700 hover:bg-gray-100",primary:"text-primary-600 hover:bg-primary-50",purple:"text-purple-600 hover:bg-purple-50",green:"text-green-600 hover:bg-green-50",red:"text-red-600 hover:bg-red-50"};function Ys({actions:n}){const[r,i]=m.useState(!1),o=m.useRef(null);return m.useEffect(()=>{function u(x){o.current&&!o.current.contains(x.target)&&i(!1)}return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]),e.jsxs("div",{className:"relative inline-block text-left",ref:o,children:[e.jsxs("button",{onClick:()=>i(!r),className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 text-sm font-medium",children:["Actions",e.jsx("svg",{className:`ml-2 h-4 w-4 transition-transform ${r?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),r&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50",children:e.jsx("div",{className:"py-1",children:n.map((u,x)=>e.jsxs("button",{onClick:()=>{u.disabled||(u.onClick(),i(!1))},disabled:u.disabled,className:`w-full flex items-center px-4 py-2 text-sm ${u.disabled?"text-gray-400 cursor-not-allowed":Fb[u.color||"gray"]}`,children:[e.jsx("span",{className:"mr-3",children:Pb[u.icon]}),u.label]},x))})})]})}function $b(){const[n,r]=m.useState("sso"),[i,o]=m.useState([]),[u,x]=m.useState([]),[f,v]=m.useState([]),[j,p]=m.useState(!0),[g,y]=m.useState(null),[S,_]=m.useState(null),[w,k]=m.useState(null),[C,E]=m.useState(!1);m.useEffect(()=>{D()},[]);async function D(){try{p(!0);const[O,z,P]=await Promise.all([un(),ij(),fl()]);o(O),x(z),v(P),y(null)}catch{y("Failed to load user data")}finally{p(!1)}}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Users & Groups"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage SSO users, local admins, and groups for access control."})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>r("sso"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sso"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["SSO Users",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs bg-gray-100 text-gray-600",children:i.length})]}),e.jsxs("button",{onClick:()=>r("local"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="local"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Local Users",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs bg-gray-100 text-gray-600",children:u.length})]}),e.jsxs("button",{onClick:()=>r("groups"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="groups"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Groups",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs bg-gray-100 text-gray-600",children:f.length})]})]})}),g&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:g}),j?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[n==="sso"&&e.jsx(Yb,{users:i,onViewUser:_}),n==="local"&&e.jsx(Kb,{users:u,onCreateUser:()=>E(!0),onDeleteUser:async O=>{if(confirm("Are you sure you want to delete this user?"))try{await oj(O),D()}catch{y("Failed to delete user")}}}),n==="groups"&&e.jsx(Ib,{groups:f,onViewGroup:k})]}),S&&e.jsx(Xb,{user:S,onClose:()=>_(null)}),w&&e.jsx(Qb,{groupName:w,onClose:()=>k(null)}),C&&e.jsx(Zb,{onClose:()=>E(!1),onSuccess:()=>{E(!1),D()}})]})}function Yb({users:n,onViewUser:r}){return n.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No SSO users yet"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"SSO users will appear here after they log in via OIDC or SAML."})]}):e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Groups"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(i=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx("span",{className:"text-primary-700 font-medium text-sm",children:i.name?i.name.charAt(0).toUpperCase():i.email.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:i.name||"Unnamed"}),e.jsx("div",{className:"text-sm text-gray-500",children:i.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-medium rounded-full bg-blue-100 text-blue-800",children:i.provider})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.groups.length>0?i.groups.slice(0,3).map(o=>e.jsx("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-700 rounded",children:o},o)):e.jsx("span",{className:"text-xs text-gray-400 italic",children:"No groups"}),i.groups.length>3&&e.jsxs("span",{className:"px-2 py-0.5 text-xs bg-gray-100 text-gray-500 rounded",children:["+",i.groups.length-3," more"]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${i.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:i.isActive?"Active":"Inactive"}),i.isAdmin&&e.jsx("span",{className:"ml-1 px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800",children:"Admin"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.lastLoginAt?new Date(i.lastLoginAt).toLocaleString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"View Details",icon:"view",onClick:()=>r(i),color:"primary"}]})})]},i.id))})]})})}function Kb({users:n,onCreateUser:r,onDeleteUser:i}){return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:r,className:"btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Local User"]})}),n.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No local users"}),e.jsx("p",{className:"mt-2 text-gray-500",children:'Click "Add Local User" to create a local account.'})]}):e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Username"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(o=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center",children:e.jsx("span",{className:"text-orange-700 font-medium text-sm",children:o.username.charAt(0).toUpperCase()})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.username})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${o.isAdmin?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:o.isAdmin?"Admin":"User"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:o.lastLoginAt?new Date(o.lastLoginAt).toLocaleString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(o.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"Delete",icon:"delete",onClick:()=>i(o.id),color:"red",disabled:o.username==="admin"}]})})]},o.id))})]})})]})}function Ib({groups:n,onViewGroup:r}){return n.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No groups found"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Groups are synced from your identity provider when users log in, or created when assigning access rules."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(i=>e.jsx("div",{className:"card hover:shadow-md transition-shadow cursor-pointer",onClick:()=>r(i.name),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx("svg",{className:"h-5 w-5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:i.name}),e.jsxs("div",{className:"text-xs text-gray-500",children:[i.memberCount," members"]})]})]}),e.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},i.name))})}function Xb({user:n,onClose:r}){const[i,o]=m.useState([]),[u,x]=m.useState([]),[f,v]=m.useState([]),[j,p]=m.useState([]),[g,y]=m.useState([]),[S,_]=m.useState([]),[w,k]=m.useState(!0),[C,E]=m.useState("info"),[D,O]=m.useState(""),[z,P]=m.useState(null),[R,M]=m.useState(null);m.useEffect(()=>{J()},[n.id]);async function J(){k(!0);try{const[b,Y,le,oe,ie,he]=await Promise.all([aj(n.id),nj(n.id),Wr(),hb(n.id),fb(n.id),bb(n.id)]);o(b),x(Y),v(le),p(oe),y(ie),_(he)}catch{P("Failed to load user data")}finally{k(!1)}}const Z=new Set(u.map(b=>b.id)),H=f.filter(b=>!Z.has(b.id)),G=b=>new Date(b)<new Date,re=j.filter(b=>!b.isRevoked&&!G(b.expiresAt)),W=g.filter(b=>!b.isRevoked&&!G(b.expiresAt)),I=S.filter(b=>!b.isRevoked&&(!b.expiresAt||!G(b.expiresAt)));async function B(){if(D)try{await lj(n.id,D),O(""),await J()}catch{P("Failed to assign gateway")}}async function A(b){try{await rj(n.id,b),await J()}catch{P("Failed to remove gateway")}}async function se(b,Y){if(confirm("Are you sure you want to revoke this config? This will immediately disconnect any active VPN session.")){M(b);try{Y==="gateway"?await Oh(b,"revoked by admin"):await zh(b,"revoked by admin"),await J()}catch{P("Failed to revoke config")}finally{M(null)}}}async function F(){if(confirm("Are you sure you want to revoke ALL configs for this user? This will disconnect all active VPN sessions."))try{await Promise.all([Lj(n.id,"all configs revoked by admin"),xb(n.id,"all configs revoked by admin")]),await J()}catch{P("Failed to revoke configs")}}async function me(b){if(confirm("Are you sure you want to revoke this API key?")){M(b);try{await Hh(b),await J()}catch{P("Failed to revoke API key")}finally{M(null)}}}async function ne(){if(confirm("Are you sure you want to PERMANENTLY DELETE all API keys for this user? This cannot be undone."))try{await pb(n.id),await J()}catch{P("Failed to delete API keys")}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-3xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx("span",{className:"text-primary-700 font-medium text-lg",children:n.name?n.name.charAt(0).toUpperCase():n.email.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n.name||"Unnamed User"}),e.jsx("p",{className:"text-sm text-gray-500",children:n.email})]})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-6 overflow-x-auto",children:[e.jsx("button",{onClick:()=>E("info"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${C==="info"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Info"}),e.jsxs("button",{onClick:()=>E("gateways"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${C==="gateways"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Gateways (",u.length,")"]}),e.jsxs("button",{onClick:()=>E("configs"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${C==="configs"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["VPN Configs (",re.length+W.length,")"]}),e.jsxs("button",{onClick:()=>E("apikeys"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${C==="apikeys"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["API Keys (",I.length,")"]})]})}),z&&e.jsxs("div",{className:"mx-6 mt-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:[z,e.jsx("button",{onClick:()=>P(null),className:"ml-2 text-red-500 hover:text-red-700",children:""})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[50vh]",children:w?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):C==="info"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Provider"}),e.jsx("p",{className:"text-sm font-medium text-gray-900",children:n.provider})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"External ID"}),e.jsx("p",{className:"text-sm font-medium text-gray-900 font-mono text-xs break-all",children:n.externalId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Status"}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${n.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:n.isActive?"Active":"Inactive"}),n.isAdmin&&e.jsx("span",{className:"ml-1 px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Admin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500 uppercase",children:"Last Login"}),e.jsx("p",{className:"text-sm text-gray-900",children:n.lastLoginAt?new Date(n.lastLoginAt).toLocaleString():"Never"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"text-xs text-gray-500 uppercase mb-2 block",children:["Groups (",n.groups.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.groups.length>0?n.groups.map(b=>e.jsx("span",{className:"px-3 py-1 bg-purple-100 text-purple-800 rounded-full text-sm",children:b},b)):e.jsx("span",{className:"text-sm text-gray-400 italic",children:"No groups assigned"})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-gray-500 uppercase mb-2 block",children:["Access Rules (",i.length,")"]}),i.length>0?e.jsx("div",{className:"border border-gray-200 rounded-lg divide-y divide-gray-200",children:i.map(b=>e.jsxs("div",{className:"p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:b.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-mono bg-gray-100 px-1 rounded",children:b.value}),e.jsxs("span",{className:"ml-2",children:["(",b.ruleType,")"]})]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${b.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:b.isActive?"Active":"Inactive"})]},b.id))}):e.jsx("p",{className:"text-sm text-gray-400 italic",children:"No access rules assigned (directly or via groups)"})]})]}):C==="gateways"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:D,onChange:b=>O(b.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select a gateway to assign..."}),H.map(b=>e.jsxs("option",{value:b.id,children:[b.name," (",b.hostname||b.publicIp,")"]},b.id))]}),e.jsx("button",{onClick:B,disabled:!D,className:"btn btn-primary",children:"Assign"})]}),e.jsx("div",{className:"space-y-2",children:u.length===0?e.jsx("p",{className:"text-gray-500 text-sm py-4 text-center",children:"No gateways assigned to this user"}):u.map(b=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-sm flex items-center",children:[b.name,e.jsx("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded-full ${b.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:b.isActive?"Online":"Offline"})]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[b.hostname||b.publicIp," - ",b.vpnProtocol.toUpperCase(),":",b.vpnPort]})]}),e.jsx("button",{onClick:()=>A(b.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]},b.id))})]}):C==="configs"?e.jsxs("div",{className:"space-y-4",children:[(re.length>0||W.length>0)&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:F,className:"btn bg-red-100 text-red-700 hover:bg-red-200 text-sm",children:"Revoke All Active Configs"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Gateway Configs (",j.length,")"]}),j.length===0?e.jsx("p",{className:"text-gray-400 text-sm italic",children:"No gateway configs"}):e.jsx("div",{className:"border rounded-lg divide-y",children:j.map(b=>e.jsxs("div",{className:`p-3 flex items-center justify-between ${b.isRevoked||G(b.expiresAt)?"bg-gray-50":""}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:b.gatewayName}),e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-blue-100 text-blue-700",children:"Gateway"}),b.isRevoked?e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-red-100 text-red-700",children:"Revoked"}):G(b.expiresAt)?e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-gray-100 text-gray-600",children:"Expired"}):e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-green-100 text-green-700",children:"Active"})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[b.fileName,"  Expires: ",new Date(b.expiresAt).toLocaleString()]})]}),!b.isRevoked&&!G(b.expiresAt)&&e.jsx("button",{onClick:()=>se(b.id,"gateway"),disabled:R===b.id,className:"text-red-600 hover:text-red-800 text-sm disabled:opacity-50",children:R===b.id?"Revoking...":"Revoke"})]},b.id))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Mesh Hub Configs (",g.length,")"]}),g.length===0?e.jsx("p",{className:"text-gray-400 text-sm italic",children:"No mesh configs"}):e.jsx("div",{className:"border rounded-lg divide-y",children:g.map(b=>e.jsxs("div",{className:`p-3 flex items-center justify-between ${b.isRevoked||G(b.expiresAt)?"bg-gray-50":""}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:b.hubName}),e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-purple-100 text-purple-700",children:"Mesh Hub"}),b.isRevoked?e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-red-100 text-red-700",children:"Revoked"}):G(b.expiresAt)?e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-gray-100 text-gray-600",children:"Expired"}):e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-green-100 text-green-700",children:"Active"})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[b.fileName,"  Expires: ",new Date(b.expiresAt).toLocaleString()]})]}),!b.isRevoked&&!G(b.expiresAt)&&e.jsx("button",{onClick:()=>se(b.id,"mesh"),disabled:R===b.id,className:"text-red-600 hover:text-red-800 text-sm disabled:opacity-50",children:R===b.id?"Revoking...":"Revoke"})]},b.id))})]})]}):e.jsxs("div",{className:"space-y-4",children:[S.length>0&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:ne,className:"btn bg-red-100 text-red-700 hover:bg-red-200 text-sm",children:"Delete All API Keys"})}),S.length===0?e.jsx("p",{className:"text-gray-400 text-sm italic text-center py-4",children:"No API keys"}):e.jsx("div",{className:"border rounded-lg divide-y",children:S.map(b=>e.jsxs("div",{className:`p-3 flex items-center justify-between ${b.isRevoked?"bg-gray-50":""}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:b.name}),e.jsxs("code",{className:"text-xs bg-gray-100 px-1.5 py-0.5 rounded",children:[b.keyPrefix,"..."]}),b.isRevoked?e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-red-100 text-red-700",children:"Revoked"}):b.expiresAt&&G(b.expiresAt)?e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-gray-100 text-gray-600",children:"Expired"}):e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-green-100 text-green-700",children:"Active"}),b.isAdminProvisioned&&e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-orange-100 text-orange-700",children:"Admin"})]}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Created: ",new Date(b.createdAt).toLocaleString(),b.lastUsedAt&&`  Last used: ${new Date(b.lastUsedAt).toLocaleString()}`,b.expiresAt&&`  Expires: ${new Date(b.expiresAt).toLocaleString()}`]}),b.description&&e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:b.description})]}),!b.isRevoked&&e.jsx("button",{onClick:()=>me(b.id),disabled:R===b.id,className:"text-red-600 hover:text-red-800 text-sm disabled:opacity-50",children:R===b.id?"Revoking...":"Revoke"})]},b.id))})]})}),e.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:e.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Close"})})]})})}function Qb({groupName:n,onClose:r}){const[i,o]=m.useState([]),[u,x]=m.useState([]),[f,v]=m.useState(!0),[j,p]=m.useState("members");return m.useEffect(()=>{Promise.all([dj(n),uj(n)]).then(([g,y])=>{o(g),x(y)}).catch(()=>{}).finally(()=>v(!1))},[n]),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx("svg",{className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:n}),e.jsxs("p",{className:"text-sm text-gray-500",children:[i.length," members"]})]})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"border-b border-gray-200 px-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>p("members"),className:`py-2 px-1 border-b-2 font-medium text-sm ${j==="members"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Members (",i.length,")"]}),e.jsxs("button",{onClick:()=>p("rules"),className:`py-2 px-1 border-b-2 font-medium text-sm ${j==="rules"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Access Rules (",u.length,")"]})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[50vh]",children:f?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):j==="members"?i.length>0?e.jsx("div",{className:"space-y-2",children:i.map(g=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx("span",{className:"text-primary-700 font-medium text-xs",children:g.name?g.name.charAt(0).toUpperCase():g.email.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.name||g.email}),g.name&&e.jsx("p",{className:"text-xs text-gray-500",children:g.email})]}),e.jsx("span",{className:"ml-auto px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded",children:g.provider})]},g.id))}):e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No members in this group"}):u.length>0?e.jsx("div",{className:"space-y-2",children:u.map(g=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:g.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[e.jsx("span",{className:"font-mono bg-white px-1 rounded border",children:g.value}),e.jsxs("span",{className:"ml-2",children:["(",g.ruleType,")"]})]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${g.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.isActive?"Active":"Inactive"})]},g.id))}):e.jsx("p",{className:"text-center text-gray-500 py-8",children:"No access rules assigned to this group"})}),e.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:e.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Close"})})]})})}function Zb({onClose:n,onSuccess:r}){const[i,o]=m.useState(""),[u,x]=m.useState(""),[f,v]=m.useState(""),[j,p]=m.useState(""),[g,y]=m.useState(!1),[S,_]=m.useState(!1),[w,k]=m.useState(null);async function C(E){if(E.preventDefault(),f!==j){k("Passwords do not match");return}if(f.length<8){k("Password must be at least 8 characters");return}_(!0),k(null);try{await cj({username:i,email:u,password:f,is_admin:g}),r()}catch{k("Failed to create user. Username may already exist.")}finally{_(!1)}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:e.jsxs("form",{onSubmit:C,children:[e.jsx("div",{className:"p-6 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Local User"}),e.jsx("button",{type:"button",onClick:n,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[w&&e.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:w}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{type:"text",value:i,onChange:E=>o(E.target.value),className:"input",placeholder:"Enter username",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),e.jsx("input",{type:"email",value:u,onChange:E=>x(E.target.value),className:"input",placeholder:"Enter email address",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{type:"password",value:f,onChange:E=>v(E.target.value),className:"input",placeholder:"Enter password",required:!0,minLength:8})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),e.jsx("input",{type:"password",value:j,onChange:E=>p(E.target.value),className:"input",placeholder:"Confirm password",required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isAdmin",checked:g,onChange:E=>y(E.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsxs("label",{htmlFor:"isAdmin",className:"ml-2 block text-sm text-gray-700",children:["Administrator",e.jsx("span",{className:"block text-xs text-gray-500",children:"Admins have full access to manage gateways, users, and settings"})]})]})]}),e.jsxs("div",{className:"p-4 border-t border-gray-200 flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:S,className:"btn btn-primary",children:S?"Creating...":"Create User"})]})]})})})}function Wb(){const[n,r]=m.useState([]),[i,o]=m.useState(!0),[u,x]=m.useState(null),[f,v]=m.useState(!1),[j,p]=m.useState(!1),[g,y]=m.useState(null),[S,_]=m.useState(!1),[w,k]=m.useState(null),[C,E]=m.useState(null),[D,O]=m.useState(!1),[z,P]=m.useState(null),[R,M]=m.useState(!1),[J,Z]=m.useState(null);m.useEffect(()=>{H()},[]);async function H(){try{o(!0);const I=await Wr();r(I),x(null)}catch{x("Failed to load gateways")}finally{o(!1)}}async function G(I){if(confirm(`Are you sure you want to delete gateway "${I.name}"?`))try{await Uv(I.id),await H()}catch{x("Failed to delete gateway")}}async function re(I){if(confirm(`Re-provision gateway "${I.name}"?

WARNING: This will regenerate all certificates. Existing client VPN configs will stop working and users must download new configs.`))try{await Ov(I.id),await H(),x(null)}catch{x("Failed to trigger reprovision")}}function W(I,B){k(I),E(null),_(!0)}return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Gateway Management"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Register and manage VPN gateways for your organization."})]}),e.jsxs("button",{onClick:()=>v(!0),className:"btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Gateway"]})]})}),u&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:u}),i?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n.length>0?e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gateway"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"VPN Settings"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Heartbeat"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(I=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.name}),e.jsx("div",{className:"text-sm text-gray-500",children:I.hostname}),I.publicIp&&e.jsx("div",{className:"text-xs text-gray-400",children:I.publicIp})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${I.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:I.isActive?"Online":"Offline"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.jsxs("div",{children:[I.vpnProtocol.toUpperCase(),":",I.vpnPort]}),e.jsx("div",{className:"text-xs",children:e.jsx("span",{className:`px-1.5 py-0.5 rounded ${I.cryptoProfile==="fips"?"bg-purple-100 text-purple-700":I.cryptoProfile==="compatible"?"bg-yellow-100 text-yellow-700":"bg-blue-100 text-blue-700"}`,children:I.cryptoProfile==="fips"?"FIPS":I.cryptoProfile==="compatible"?"Compatible":"Modern"})})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I.lastHeartbeat?new Date(I.lastHeartbeat).toLocaleString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"Edit",icon:"edit",onClick:()=>{P(I),O(!0)},color:"gray"},{label:"Access",icon:"access",onClick:()=>{Z(I),M(!0)},color:"purple"},{label:"Re-provision",icon:"install",onClick:()=>re(I)},{label:"Install",icon:"install",onClick:()=>W(I),color:"primary"},{label:"Delete",icon:"delete",onClick:()=>G(I),color:"red"}]})})]},I.id))})]})}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No gateways registered"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Get started by adding a new VPN gateway."}),e.jsx("button",{onClick:()=>v(!0),className:"mt-4 btn btn-primary",children:"Add Gateway"})]}),f&&e.jsx(Jb,{onClose:()=>v(!1),onSuccess:I=>{y(I),v(!1),p(!0),H()}}),j&&g&&e.jsx(e1,{gateway:g,onClose:()=>{p(!1),y(null)},onShowInstaller:I=>{const B={id:g.id,name:g.name,hostname:g.hostname,publicIp:"",vpnPort:g.vpnPort,vpnProtocol:g.vpnProtocol,cryptoProfile:"modern",vpnSubnet:"172.31.255.0/24",tlsAuthEnabled:!0,fullTunnelMode:!1,pushDns:!1,dnsServers:[],sessionEnabled:!0,isActive:!1,lastHeartbeat:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};k(B),E(I),p(!1),y(null),_(!0)}}),S&&w&&e.jsx(t1,{gateway:w,token:C,onClose:()=>{_(!1),k(null),E(null)}}),D&&z&&e.jsx(s1,{gateway:z,onClose:()=>{O(!1),P(null)},onSuccess:()=>{O(!1),P(null),H()}}),R&&J&&e.jsx(a1,{gateway:J,onClose:()=>{M(!1),Z(null)}})]})}function Jb({onClose:n,onSuccess:r}){const[i,o]=m.useState(""),[u,x]=m.useState(""),[f,v]=m.useState(""),[j,p]=m.useState("1194"),[g,y]=m.useState("udp"),[S,_]=m.useState("modern"),[w,k]=m.useState("172.31.255.0/24"),[C,E]=m.useState(!0),[D,O]=m.useState(!1),[z,P]=m.useState(!1),[R,M]=m.useState("1.1.1.1, 8.8.8.8"),[J,Z]=m.useState(!0),[H,G]=m.useState(!1),[re,W]=m.useState(null);async function I(B){if(B.preventDefault(),G(!0),W(null),!u&&!f){W("Either hostname or public IP is required"),G(!1);return}try{const A=await _v({name:i,hostname:u||void 0,public_ip:f||void 0,vpn_port:parseInt(j)||1194,vpn_protocol:g,crypto_profile:S,vpn_subnet:w||"172.31.255.0/24",tls_auth_enabled:C,full_tunnel_mode:D,push_dns:z,dns_servers:z?R.split(",").map(se=>se.trim()).filter(se=>se):[],session_enabled:J});r(A)}catch(A){W(A.response?.data?.error||"Failed to register gateway")}finally{G(!1)}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Register New Gateway"}),re&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:re}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gateway Name *"}),e.jsx("input",{type:"text",value:i,onChange:B=>o(B.target.value),placeholder:"us-east-1",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]}),e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-2",children:e.jsx("p",{className:"text-sm text-blue-700",children:"Provide either a hostname or IP address (at least one is required)"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hostname"}),e.jsx("input",{type:"text",value:u,onChange:B=>x(B.target.value),placeholder:"vpn.example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Public IP"}),e.jsx("input",{type:"text",value:f,onChange:B=>v(B.target.value),placeholder:"203.0.113.10",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"VPN Port"}),e.jsx("input",{type:"number",value:j,onChange:B=>p(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Protocol"}),e.jsxs("select",{value:g,onChange:B=>y(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"udp",children:"UDP"}),e.jsx("option",{value:"tcp",children:"TCP"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crypto Profile"}),e.jsxs("select",{value:S,onChange:B=>_(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"modern",children:"Modern (Recommended) - AES-256-GCM, CHACHA20-POLY1305"}),e.jsx("option",{value:"fips",children:"FIPS 140-3 Compliant - AES-256-GCM, AES-128-GCM"}),e.jsx("option",{value:"compatible",children:"Compatible - AES-256-GCM, AES-128-GCM, AES-256-CBC, AES-128-CBC"})]}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[S==="fips"&&"FIPS mode uses only FIPS 140-3 validated cryptographic algorithms (AES-GCM).",S==="compatible"&&"Compatible mode supports older OpenVPN 2.3.x clients with CBC fallback.",S==="modern"&&"Modern mode uses the latest secure ciphers including CHACHA20-POLY1305."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"VPN Subnet"}),e.jsx("input",{type:"text",value:w,onChange:B=>k(B.target.value),placeholder:"172.31.255.0/24",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The subnet used for VPN client IP addresses. Must be a valid CIDR block."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"tlsAuthEnabled",checked:C,onChange:B=>E(B.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"tlsAuthEnabled",className:"ml-2 block text-sm text-gray-700",children:"Enable TLS Authentication"})]}),e.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"TLS-Auth provides additional security. Disable for simpler direct IP connections."}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"fullTunnelMode",checked:D,onChange:B=>O(B.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"fullTunnelMode",className:"ml-2 block text-sm text-gray-700",children:"Full Tunnel Mode"})]}),e.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"Route all client traffic through VPN. When disabled (default), only routes for allowed networks are pushed."}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"pushDns",checked:z,onChange:B=>P(B.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"pushDns",className:"ml-2 block text-sm text-gray-700",children:"Push DNS Servers"})]}),e.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"Push DNS servers to clients. When disabled (default), client DNS settings are not changed."}),z&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dnsServers",className:"block text-sm font-medium text-gray-700",children:"DNS Servers"}),e.jsx("input",{type:"text",id:"dnsServers",value:R,onChange:B=>M(B.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"1.1.1.1, 8.8.8.8"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Comma-separated list of DNS server IPs to push to clients."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"sessionEnabled",checked:J,onChange:B=>Z(B.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"sessionEnabled",className:"ml-2 block text-sm text-gray-700",children:"Enable Remote Sessions"})]}),e.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"Allow administrators to run commands on this gateway via the Remote Sessions page."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",disabled:H,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:H,children:H?"Registering...":"Register Gateway"})]})]})]})})}function e1({gateway:n,onClose:r,onShowInstaller:i}){const[o,u]=m.useState(!1);function x(){navigator.clipboard.writeText(n.token),u(!0),setTimeout(()=>u(!1),2e3)}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Gateway Registered!"})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-400 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Save this token!"}),e.jsx("p",{className:"text-sm text-yellow-700 mt-1",children:"This token will only be shown once. You'll need it to configure the gateway agent."})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gateway Name"}),e.jsx("div",{className:"text-sm text-gray-900",children:n.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Authentication Token"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",readOnly:!0,value:n.token,className:"flex-1 px-3 py-2 bg-gray-100 border border-gray-300 rounded-l-lg text-sm font-mono"}),e.jsx("button",{onClick:x,className:"px-4 py-2 bg-primary-600 text-white rounded-r-lg hover:bg-primary-700",children:o?"Copied!":"Copy"})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Done"}),e.jsxs("button",{onClick:()=>i(n.token),className:"btn btn-primary inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"View Installer"]})]})]})})}function t1({gateway:n,token:r,onClose:i}){const o=window.location.origin,u=r||"YOUR_GATEWAY_TOKEN",x=!!r,f=`curl -sSL ${o}/scripts/install-gateway.sh | sudo bash -s -- \\
  --server ${o} \\
  --token ${u} \\
  --name ${n.name}`,[v,j]=m.useState(!1);function p(){navigator.clipboard.writeText(f),j(!0),setTimeout(()=>j(!1),2e3)}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Install Gateway: ",n.name]}),e.jsxs("div",{className:"space-y-4",children:[!x&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-400 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Token Required"}),e.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["Replace ",e.jsx("code",{className:"bg-yellow-100 px-1",children:"YOUR_GATEWAY_TOKEN"})," with the token you received when registering this gateway."]})]})]})}),x&&e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-green-400 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Token Included"}),e.jsx("p",{className:"text-sm text-green-700 mt-1",children:"The gateway token is already included in the command below. Copy and run it on your gateway server."})]})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Quick Install"}),e.jsx("p",{className:"text-sm text-gray-500 mb-2",children:"Run this command on your gateway server:"}),e.jsxs("div",{className:"relative",children:[e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg text-sm overflow-x-auto whitespace-pre-wrap break-all",children:f}),e.jsx("button",{onClick:p,className:"absolute top-2 right-2 px-3 py-1.5 bg-gray-700 text-gray-200 text-xs rounded hover:bg-gray-600 flex items-center",children:v?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Manual Installation"}),e.jsxs("ol",{className:"text-sm text-gray-600 space-y-2 list-decimal list-inside",children:[e.jsxs("li",{children:["Download the gateway binary:",e.jsxs("div",{className:"mt-1 ml-5 space-x-2",children:[e.jsx("a",{href:"/downloads/gatekey-gateway-linux-amd64",className:"text-primary-600 hover:underline text-xs",children:"Linux AMD64"}),e.jsx("a",{href:"/downloads/gatekey-gateway-linux-arm64",className:"text-primary-600 hover:underline text-xs",children:"Linux ARM64"})]})]}),e.jsxs("li",{children:["Move to ",e.jsx("code",{className:"bg-gray-100 px-1 text-xs",children:"/usr/local/bin/gatekey-gateway"})]}),e.jsxs("li",{children:["Create config at ",e.jsx("code",{className:"bg-gray-100 px-1 text-xs",children:"/etc/gatekey/gateway.yaml"})]}),e.jsx("li",{children:"Configure systemd service and start"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Requirements"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"- Ubuntu 20.04+, Debian 11+, RHEL 8+, or Fedora 35+"}),e.jsx("li",{children:"- Root/sudo access"}),e.jsx("li",{children:"- Outbound HTTPS access to the control plane"}),e.jsxs("li",{children:["- Inbound access on VPN port (",n.vpnPort,"/",n.vpnProtocol,")"]})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:i,className:"btn btn-secondary",children:"Close"})})]})})}function s1({gateway:n,onClose:r,onSuccess:i}){const[o,u]=m.useState(n.name),[x,f]=m.useState(n.hostname),[v,j]=m.useState(n.publicIp||""),[p,g]=m.useState(n.vpnPort.toString()),[y,S]=m.useState(n.vpnProtocol),[_,w]=m.useState(n.cryptoProfile||"modern"),[k,C]=m.useState(n.vpnSubnet||"10.8.0.0/24"),[E,D]=m.useState(n.tlsAuthEnabled??!0),[O,z]=m.useState(n.fullTunnelMode??!1),[P,R]=m.useState(n.pushDns??!1),[M,J]=m.useState((n.dnsServers??[]).join(", ")||"1.1.1.1, 8.8.8.8"),[Z,H]=m.useState(n.sessionEnabled??!0),[G,re]=m.useState(!1),[W,I]=m.useState(null);async function B(A){if(A.preventDefault(),re(!0),I(null),!x&&!v){I("Either hostname or public IP is required"),re(!1);return}try{await zv(n.id,{name:o,hostname:x||void 0,public_ip:v||void 0,vpn_port:parseInt(p)||1194,vpn_protocol:y,crypto_profile:_,vpn_subnet:k||"172.31.255.0/24",tls_auth_enabled:E,full_tunnel_mode:O,push_dns:P,dns_servers:P?M.split(",").map(se=>se.trim()).filter(se=>se):[],session_enabled:Z}),i()}catch(se){I(se.response?.data?.error||"Failed to update gateway")}finally{re(!1)}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Edit Gateway"}),W&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:W}),e.jsxs("form",{onSubmit:B,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Gateway Name *"}),e.jsx("input",{type:"text",value:o,onChange:A=>u(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]}),e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-2",children:e.jsx("p",{className:"text-sm text-blue-700",children:"Provide either a hostname or IP address (at least one is required)"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Hostname"}),e.jsx("input",{type:"text",value:x,onChange:A=>f(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Public IP"}),e.jsx("input",{type:"text",value:v,onChange:A=>j(A.target.value),placeholder:"203.0.113.10",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"VPN Port"}),e.jsx("input",{type:"number",value:p,onChange:A=>g(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Protocol"}),e.jsxs("select",{value:y,onChange:A=>S(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"udp",children:"UDP"}),e.jsx("option",{value:"tcp",children:"TCP"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Crypto Profile"}),e.jsxs("select",{value:_,onChange:A=>w(A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"modern",children:"Modern (Recommended) - AES-256-GCM, CHACHA20-POLY1305"}),e.jsx("option",{value:"fips",children:"FIPS 140-3 Compliant - AES-256-GCM, AES-128-GCM"}),e.jsx("option",{value:"compatible",children:"Compatible - AES-256-GCM, AES-128-GCM, AES-256-CBC, AES-128-CBC"})]}),e.jsxs("p",{className:"mt-1 text-xs text-gray-500",children:[_==="fips"&&"FIPS mode uses only FIPS 140-3 validated cryptographic algorithms (AES-GCM).",_==="compatible"&&"Compatible mode supports older OpenVPN 2.3.x clients with CBC fallback.",_==="modern"&&"Modern mode uses the latest secure ciphers including CHACHA20-POLY1305."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"VPN Subnet"}),e.jsx("input",{type:"text",value:k,onChange:A=>C(A.target.value),placeholder:"172.31.255.0/24",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The subnet used for VPN client IP addresses. Must be a valid CIDR block."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"editTlsAuthEnabled",checked:E,onChange:A=>D(A.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"editTlsAuthEnabled",className:"ml-2 block text-sm text-gray-700",children:"Enable TLS Authentication"})]}),e.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"TLS-Auth provides additional security. Disable for simpler direct IP connections."}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"editFullTunnelMode",checked:O,onChange:A=>z(A.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"editFullTunnelMode",className:"ml-2 block text-sm text-gray-700",children:"Full Tunnel Mode"})]}),e.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"Route all client traffic through VPN. When disabled (default), only routes for allowed networks are pushed."}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"editPushDns",checked:P,onChange:A=>R(A.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"editPushDns",className:"ml-2 block text-sm text-gray-700",children:"Push DNS Servers"})]}),e.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"Push DNS servers to clients. When disabled (default), client DNS settings are not changed."}),P&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"editDnsServers",className:"block text-sm font-medium text-gray-700",children:"DNS Servers"}),e.jsx("input",{type:"text",id:"editDnsServers",value:M,onChange:A=>J(A.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"1.1.1.1, 8.8.8.8"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Comma-separated list of DNS server IPs to push to clients."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"editSessionEnabled",checked:Z,onChange:A=>H(A.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"editSessionEnabled",className:"ml-2 block text-sm text-gray-700",children:"Enable Remote Sessions"})]}),e.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"Allow administrators to run commands on this gateway via the Remote Sessions page."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:G,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:G,children:G?"Saving...":"Save Changes"})]})]})]})})}function a1({gateway:n,onClose:r}){const[i,o]=m.useState("networks"),[u,x]=m.useState(!0),[f,v]=m.useState(null),[j,p]=m.useState([]),[g,y]=m.useState([]),[S,_]=m.useState(""),[w,k]=m.useState([]),[C,E]=m.useState(""),[D,O]=m.useState([]),[z,P]=m.useState("");m.useEffect(()=>{R()},[]);async function R(){x(!0),v(null);try{const[A,se,F,me]=await Promise.all([Xv(n.id),dn(),Hv(n.id),Vv(n.id)]);p(A),y(se),k(F),O(me)}catch{v("Failed to load data")}finally{x(!1)}}const M=new Set(j.map(A=>A.id)),J=g.filter(A=>!M.has(A.id));async function Z(){if(S)try{await Rh(n.id,S),_(""),await R()}catch{v("Failed to assign network")}}async function H(A){try{await Th(n.id,A),await R()}catch{v("Failed to remove network")}}async function G(){if(C.trim())try{await Bv(n.id,C.trim()),E(""),await R()}catch{v("Failed to assign user")}}async function re(A){try{await Gv(n.id,A),await R()}catch{v("Failed to remove user")}}async function W(){if(z.trim())try{await qv(n.id,z.trim()),P(""),await R()}catch{v("Failed to assign group")}}async function I(A){try{await Pv(n.id,A),await R()}catch{v("Failed to remove group")}}const B=[{id:"networks",label:"Networks",count:j.length},{id:"users",label:"Users",count:w.length},{id:"groups",label:"Groups",count:D.length}];return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:["Manage Access: ",n.name]}),f&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:f}),e.jsx("div",{className:"border-b border-gray-200 mb-4",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:B.map(A=>e.jsxs("button",{onClick:()=>o(A.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${i===A.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[A.label,e.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${i===A.id?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-600"}`,children:A.count})]},A.id))})}),u?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-4",children:[i==="networks"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:S,onChange:A=>_(A.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select a network to add..."}),J.map(A=>e.jsxs("option",{value:A.id,children:[A.name," (",A.cidr,")"]},A.id))]}),e.jsx("button",{onClick:Z,disabled:!S,className:"btn btn-primary",children:"Add"})]}),e.jsx("div",{className:"space-y-2",children:j.length===0?e.jsx("p",{className:"text-gray-500 text-sm py-4 text-center",children:"No networks assigned"}):j.map(A=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:A.name}),e.jsx("div",{className:"text-xs text-gray-500",children:A.cidr})]}),e.jsx("button",{onClick:()=>H(A.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]},A.id))})]}),i==="users"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:C,onChange:A=>E(A.target.value),placeholder:"Enter user ID or email...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",onKeyPress:A=>A.key==="Enter"&&G()}),e.jsx("button",{onClick:G,disabled:!C.trim(),className:"btn btn-primary",children:"Add"})]}),e.jsx("div",{className:"space-y-2",children:w.length===0?e.jsx("p",{className:"text-gray-500 text-sm py-4 text-center",children:"No users assigned"}):w.map(A=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:A.email||A.userId}),A.name&&e.jsx("div",{className:"text-xs text-gray-500",children:A.name})]}),e.jsx("button",{onClick:()=>re(A.userId),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]},A.userId))})]}),i==="groups"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:z,onChange:A=>P(A.target.value),placeholder:"Enter group name...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500",onKeyPress:A=>A.key==="Enter"&&W()}),e.jsx("button",{onClick:W,disabled:!z.trim(),className:"btn btn-primary",children:"Add"})]}),e.jsx("div",{className:"space-y-2",children:D.length===0?e.jsx("p",{className:"text-gray-500 text-sm py-4 text-center",children:"No groups assigned"}):D.map(A=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"font-medium text-sm",children:A.groupName}),e.jsx("button",{onClick:()=>I(A.groupName),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]},A.groupName))})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Close"})})]})})}function n1(){const[n,r]=m.useState([]),[i,o]=m.useState(!0),[u,x]=m.useState(null),[f,v]=m.useState(!1),[j,p]=m.useState(null),[g,y]=m.useState(!1),[S,_]=m.useState(!1),[w,k]=m.useState(null);m.useEffect(()=>{C()},[]);async function C(){try{o(!0);const z=await dn();r(z),x(null)}catch{x("Failed to load networks")}finally{o(!1)}}async function E(z){if(confirm(`Are you sure you want to delete network "${z.name}"?`))try{await Yv(z.id),await C()}catch{x("Failed to delete network")}}function D(z){k(z),y(!0)}function O(z){k(z),_(!0)}return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Network Management"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Define CIDR network blocks and assign gateways to serve them."})]}),e.jsxs("button",{onClick:()=>v(!0),className:"btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Network"]})]})}),u&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:u}),i?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n.length>0?e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Network"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"CIDR"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(z=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.name}),z.description&&e.jsx("div",{className:"text-sm text-gray-500",children:z.description})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("code",{className:"px-2 py-1 bg-gray-100 rounded text-sm font-mono",children:z.cidr})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${z.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:z.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(z.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"Gateways",icon:"gateway",onClick:()=>D(z),color:"primary"},{label:"Access Rules",icon:"rules",onClick:()=>O(z),color:"green"},{label:"Edit",icon:"edit",onClick:()=>p(z),color:"gray"},{label:"Delete",icon:"delete",onClick:()=>E(z),color:"red"}]})})]},z.id))})]})}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No networks defined"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Get started by adding a network CIDR block."}),e.jsx("button",{onClick:()=>v(!0),className:"mt-4 btn btn-primary",children:"Add Network"})]}),f&&e.jsx(_0,{onClose:()=>v(!1),onSuccess:()=>{v(!1),C()}}),j&&e.jsx(_0,{network:j,onClose:()=>p(null),onSuccess:()=>{p(null),C()}}),g&&w&&e.jsx(l1,{network:w,onClose:()=>{y(!1),k(null)}}),S&&w&&e.jsx(r1,{network:w,onClose:()=>{_(!1),k(null)}})]})}function _0({network:n,onClose:r,onSuccess:i}){const[o,u]=m.useState(n?.name||""),[x,f]=m.useState(n?.description||""),[v,j]=m.useState(n?.cidr||""),[p,g]=m.useState(n?.isActive??!0),[y,S]=m.useState(!1),[_,w]=m.useState(null);async function k(C){C.preventDefault(),S(!0),w(null);try{n?await $v(n.id,{name:o,description:x,cidr:v,is_active:p}):await Fv({name:o,description:x,cidr:v,is_active:p}),i()}catch(E){w(E.response?.data?.error||`Failed to ${n?"update":"create"} network`)}finally{S(!1)}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n?"Edit Network":"Add New Network"}),_&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:_}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Network Name *"}),e.jsx("input",{type:"text",value:o,onChange:C=>u(C.target.value),placeholder:"production-network",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CIDR Block *"}),e.jsx("input",{type:"text",value:v,onChange:C=>j(C.target.value),placeholder:"10.0.0.0/23",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-mono",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., 10.0.0.0/24, 192.168.1.0/24"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:x,onChange:C=>f(C.target.value),placeholder:"Production VPN network for internal services",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:p,onChange:C=>g(C.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:y,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:y,children:y?"Saving...":n?"Update Network":"Create Network"})]})]})]})})}function l1({network:n,onClose:r}){const[i,o]=m.useState([]),[u,x]=m.useState([]),[f,v]=m.useState(!0),[j,p]=m.useState(null),[g,y]=m.useState("");m.useEffect(()=>{S()},[n.id]);async function S(){try{v(!0);const[E,D]=await Promise.all([Kv(n.id),Wr()]);o(E),x(D),p(null)}catch{p("Failed to load gateways")}finally{v(!1)}}async function _(){if(g)try{await Rh(g,n.id),y(""),await S()}catch{p("Failed to assign gateway")}}async function w(E){try{await Th(E,n.id),await S()}catch{p("Failed to remove gateway")}}const k=new Set(i.map(E=>E.id)),C=u.filter(E=>!k.has(E.id));return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Manage Gateways"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Network: ",e.jsx("span",{className:"font-medium",children:n.name})," (",n.cidr,")"]}),j&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:j}),f?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[C.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Add Gateway"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:g,onChange:E=>y(E.target.value),className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"Select a gateway..."}),C.map(E=>e.jsxs("option",{value:E.id,children:[E.name," (",E.hostname,")"]},E.id))]}),e.jsx("button",{onClick:_,disabled:!g,className:"btn btn-primary",children:"Add"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:["Assigned Gateways (",i.length,")"]}),i.length>0?e.jsx("div",{className:"border border-gray-200 rounded-lg divide-y divide-gray-200",children:i.map(E=>e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.name}),e.jsx("div",{className:"text-xs text-gray-500",children:E.hostname})]}),e.jsx("button",{onClick:()=>w(E.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]},E.id))}):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"No gateways assigned to this network"})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Close"})})]})})}function r1({network:n,onClose:r}){const[i,o]=m.useState([]),[u,x]=m.useState(!0),[f,v]=m.useState(null);m.useEffect(()=>{j()},[n.id]);async function j(){try{x(!0);const y=await Iv(n.id);o(y),v(null)}catch{v("Failed to load access rules")}finally{x(!1)}}const p=i.filter(y=>y.networkId===n.id),g=i.filter(y=>!y.networkId);return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Rules"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Network: ",e.jsx("span",{className:"font-medium",children:n.name})," (",n.cidr,")"]}),f&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:f}),e.jsxs("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded text-yellow-800 text-sm",children:[e.jsx("strong",{children:"Note:"})," Users/groups must be assigned to access rules to gain access. Rules can be created and assigned from the ",e.jsx("a",{href:"/admin/access-rules",className:"underline",children:"Access Rules"})," page."]}),u?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[e.jsx("span",{className:"bg-green-100 text-green-800 px-2 py-0.5 rounded text-xs mr-2",children:"Network-Specific"}),"Rules for this network (",p.length,")"]}),p.length>0?e.jsx("div",{className:"border border-gray-200 rounded-lg divide-y divide-gray-200",children:p.map(y=>e.jsx(U0,{rule:y},y.id))}):e.jsx("p",{className:"text-sm text-gray-500 italic py-2",children:"No rules specifically assigned to this network"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[e.jsx("span",{className:"bg-blue-100 text-blue-800 px-2 py-0.5 rounded text-xs mr-2",children:"Global"}),"Rules applying to all networks (",g.length,")"]}),g.length>0?e.jsx("div",{className:"border border-gray-200 rounded-lg divide-y divide-gray-200",children:g.map(y=>e.jsx(U0,{rule:y},y.id))}):e.jsx("p",{className:"text-sm text-gray-500 italic py-2",children:"No global rules defined"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-between",children:[e.jsx("a",{href:"/admin/access-rules",className:"btn btn-primary",children:"Manage Access Rules"}),e.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Close"})]})]})})}function U0({rule:n}){return e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:n.name}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:n.value}),e.jsxs("span",{className:"ml-2",children:["(",n.ruleType,")"]}),n.portRange&&e.jsxs("span",{className:"ml-2",children:["Port: ",n.portRange]}),n.protocol&&e.jsxs("span",{className:"ml-1",children:["/ ",n.protocol.toUpperCase()]})]}),(n.users.length>0||n.groups.length>0)&&e.jsxs("div",{className:"text-xs mt-2",children:[n.users.length>0&&e.jsxs("span",{className:"text-purple-600 mr-3",children:["Users: ",n.users.length]}),n.groups.length>0&&e.jsxs("span",{className:"text-orange-600",children:["Groups: ",n.groups.join(", ")]})]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${n.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:n.isActive?"Active":"Inactive"})]})})}const Vh={ip:"IP Address",cidr:"CIDR Range",hostname:"Hostname",hostname_wildcard:"Hostname Wildcard"},O0={ip:"192.168.1.100",cidr:"10.0.0.0/24",hostname:"api.example.com",hostname_wildcard:"*.example.com"};function i1(){const[n,r]=m.useState([]),[i,o]=m.useState([]),[u,x]=m.useState(!0),[f,v]=m.useState(null),[j,p]=m.useState(!1),[g,y]=m.useState(null),[S,_]=m.useState(!1),[w,k]=m.useState(null);m.useEffect(()=>{E(),C()},[]);async function C(){try{const z=await dn();o(z)}catch{}}async function E(){try{x(!0);const z=await Dh();r(z),v(null)}catch{v("Failed to load access rules")}finally{x(!1)}}async function D(z){if(confirm(`Are you sure you want to delete access rule "${z.name}"?`))try{await Wv(z.id),await E()}catch{v("Failed to delete access rule")}}async function O(z){try{const P=await R0(z.id);k(P),_(!0)}catch{v("Failed to load rule details")}}return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Access Rules"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Define IP addresses, CIDR ranges, and hostnames that users/groups can access."})]}),e.jsxs("button",{onClick:()=>p(!0),className:"btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Rule"]})]})}),f&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:f}),u?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n.length>0?e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rule"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Network"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Value"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Port/Protocol"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(z=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:z.name}),z.description&&e.jsx("div",{className:"text-sm text-gray-500",children:z.description})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-medium rounded-full bg-blue-100 text-blue-800",children:Vh[z.ruleType]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:z.networkId?e.jsx("span",{className:"text-sm text-gray-900",children:i.find(P=>P.id===z.networkId)?.name||"Unknown"}):e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-medium rounded-full bg-yellow-100 text-yellow-800",children:"Unassigned"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("code",{className:"px-2 py-1 bg-gray-100 rounded text-sm font-mono",children:z.value})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[z.portRange||"*"," / ",z.protocol?.toUpperCase()||"*"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${z.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:z.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"Assign",icon:"assign",onClick:()=>O(z),color:"purple"},{label:"Edit",icon:"edit",onClick:()=>y(z),color:"gray"},{label:"Delete",icon:"delete",onClick:()=>D(z),color:"red"}]})})]},z.id))})]})}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No access rules defined"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Get started by adding an IP, CIDR, or hostname whitelist rule."}),e.jsx("button",{onClick:()=>p(!0),className:"mt-4 btn btn-primary",children:"Add Rule"})]}),j&&e.jsx(z0,{onClose:()=>p(!1),onSuccess:()=>{p(!1),E()}}),g&&e.jsx(z0,{rule:g,onClose:()=>y(null),onSuccess:()=>{y(null),E()}}),S&&w&&e.jsx(c1,{rule:w,onClose:()=>{_(!1),k(null)},onUpdate:async()=>{const z=await R0(w.id);k(z)}})]})}function z0({rule:n,onClose:r,onSuccess:i}){const[o,u]=m.useState(n?.name||""),[x,f]=m.useState(n?.description||""),[v,j]=m.useState(n?.ruleType||"ip"),[p,g]=m.useState(n?.value||""),[y,S]=m.useState(n?.portRange||""),[_,w]=m.useState(n?.protocol||""),[k,C]=m.useState(n?.networkId||""),[E,D]=m.useState(n?.isActive??!0),[O,z]=m.useState([]),[P,R]=m.useState(!1),[M,J]=m.useState(null);m.useEffect(()=>{dn().then(z).catch(()=>{})},[]);async function Z(H){H.preventDefault(),R(!0),J(null);try{const G={name:o,description:x||void 0,rule_type:v,value:p,port_range:y||void 0,protocol:_||void 0,network_id:k||void 0,is_active:E};n?await Zv(n.id,G):await Qv(G),i()}catch(G){J(G.response?.data?.error||`Failed to ${n?"update":"create"} access rule`)}finally{R(!1)}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:n?"Edit Access Rule":"Add New Access Rule"}),M&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:M}),e.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rule Name *"}),e.jsx("input",{type:"text",value:o,onChange:H=>u(H.target.value),placeholder:"internal-api-access",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rule Type *"}),e.jsxs("select",{value:v,onChange:H=>{j(H.target.value),g("")},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"ip",children:"IP Address"}),e.jsx("option",{value:"cidr",children:"CIDR Range"}),e.jsx("option",{value:"hostname",children:"Hostname"}),e.jsx("option",{value:"hostname_wildcard",children:"Hostname Wildcard"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Value *"}),e.jsx("input",{type:"text",value:p,onChange:H=>g(H.target.value),placeholder:O0[v],className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-mono",required:!0}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Example: ",O0[v]]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Port Range"}),e.jsx("input",{type:"text",value:y,onChange:H=>S(H.target.value),placeholder:"443 or 8000-9000",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for all ports"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Protocol"}),e.jsxs("select",{value:_,onChange:H=>w(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Protocols"}),e.jsx("option",{value:"tcp",children:"TCP"}),e.jsx("option",{value:"udp",children:"UDP"}),e.jsx("option",{value:"icmp",children:"ICMP"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Network ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:k,onChange:H=>C(H.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"-- Select Network --"}),O.map(H=>e.jsxs("option",{value:H.id,children:[H.name," (",H.cidr,")"]},H.id))]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Required for VPN access. Rules without a network won't apply to gateway or mesh connections."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),e.jsx("textarea",{value:x,onChange:H=>f(H.target.value),placeholder:"Allow access to internal API server",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:E,onChange:H=>D(H.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-700",children:"Active"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",disabled:P,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:P,children:P?"Saving...":n?"Update Rule":"Create Rule"})]})]})]})})}function c1({rule:n,onClose:r,onUpdate:i}){const[o,u]=m.useState(""),[x,f]=m.useState(""),[v,j]=m.useState(""),[p,g]=m.useState(""),[y,S]=m.useState([]),[_,w]=m.useState([]),[k,C]=m.useState(null),[E,D]=m.useState(!0);m.useEffect(()=>{Promise.all([un(),fl()]).then(([H,G])=>{S(H),w(G)}).catch(()=>{}).finally(()=>D(!1))},[]);const O=y.filter(H=>!n.users?.includes(H.id)&&!n.users?.includes(H.email)),z=_.filter(H=>!n.groups?.includes(H.name));async function P(){const H=o||v.trim();if(H)try{await Jv(n.id,H),u(""),j(""),i()}catch{C("Failed to assign rule to user")}}async function R(H){try{await ej(n.id,H),i()}catch{C("Failed to remove rule from user")}}async function M(){const H=x||p.trim();if(H)try{await tj(n.id,H),f(""),g(""),i()}catch{C("Failed to assign rule to group")}}async function J(H){try{await sj(n.id,H),i()}catch{C("Failed to remove rule from group")}}function Z(H){const G=y.find(re=>re.id===H||re.email===H);return G?{name:G.name||G.email,email:G.email,provider:G.provider}:{name:H,email:"",provider:""}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Assign Access Rule"}),e.jsxs("p",{className:"text-sm text-gray-500 mb-4",children:["Rule: ",e.jsx("span",{className:"font-medium",children:n.name})," (",Vh[n.ruleType],": ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:n.value}),")"]}),k&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:k}),E?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Assigned Users"}),e.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg space-y-2",children:[O.length>0&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:o,onChange:H=>{u(H.target.value),j("")},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select a user..."}),O.map(H=>e.jsxs("option",{value:H.id,children:[H.name||H.email," (",H.email,")"]},H.id))]}),e.jsx("button",{onClick:P,disabled:!o,className:"btn btn-primary text-sm",children:"Add"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:v,onChange:H=>{j(H.target.value),u("")},placeholder:"Or enter user ID/email manually...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500"}),e.jsx("button",{onClick:P,disabled:!v.trim(),className:"btn btn-secondary text-sm",children:"Add"})]})]}),n.users&&n.users.length>0?e.jsx("div",{className:"border border-gray-200 rounded-lg divide-y divide-gray-200",children:n.users.map(H=>{const G=Z(H);return e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx("span",{className:"text-primary-700 font-medium text-xs",children:G.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:G.name}),G.email&&G.email!==G.name&&e.jsx("p",{className:"text-xs text-gray-500",children:G.email})]}),G.provider&&e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-100 text-blue-800 rounded",children:G.provider})]}),e.jsx("button",{onClick:()=>R(H),className:"p-1.5 rounded-full bg-red-100 text-red-600 hover:bg-red-200 hover:text-red-800 transition-colors",title:"Remove user",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},H)})}):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"No users assigned"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Assigned Groups"}),e.jsxs("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg space-y-2",children:[z.length>0&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:x,onChange:H=>{f(H.target.value),g("")},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select a group..."}),z.map(H=>e.jsxs("option",{value:H.name,children:[H.name," (",H.memberCount," members)"]},H.name))]}),e.jsx("button",{onClick:M,disabled:!x,className:"btn btn-primary text-sm",children:"Add"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:p,onChange:H=>{g(H.target.value),f("")},placeholder:"Or enter group name manually...",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500"}),e.jsx("button",{onClick:M,disabled:!p.trim(),className:"btn btn-secondary text-sm",children:"Add"})]})]}),n.groups&&n.groups.length>0?e.jsx("div",{className:"border border-gray-200 rounded-lg divide-y divide-gray-200",children:n.groups.map(H=>{const G=_.find(re=>re.name===H);return e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx("svg",{className:"h-4 w-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:H}),G&&e.jsxs("p",{className:"text-xs text-gray-500",children:[G.memberCount," members"]})]})]}),e.jsx("button",{onClick:()=>J(H),className:"p-1.5 rounded-full bg-red-100 text-red-600 hover:bg-red-200 hover:text-red-800 transition-colors",title:"Remove group",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},H)})}):e.jsx("p",{className:"text-sm text-gray-500 italic",children:"No groups assigned"})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Close"})})]})})}function o1(){const[n,r]=m.useState([]),[i,o]=m.useState(!0),[u,x]=m.useState(null),[f,v]=m.useState(!1),[j,p]=m.useState(null),[g,y]=m.useState(null);m.useEffect(()=>{S()},[]);async function S(){try{o(!0);const k=await _h();r(k),x(null)}catch{x("Failed to load proxy applications")}finally{o(!1)}}async function _(k){if(confirm(`Delete "${k.name}"? This will remove all user access.`))try{await bj(k.id),await S()}catch{x("Failed to delete application")}}function w(k){const C=`${window.location.origin}/proxy/${k}/`;navigator.clipboard.writeText(C)}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Web Access Applications"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage clientless web applications accessible via reverse proxy"})]}),e.jsxs("button",{onClick:()=>v(!0),className:"btn btn-primary inline-flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Application"]})]}),u&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:u}),i?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No applications"}),e.jsx("p",{className:"mt-2 text-gray-500",children:"Add a web application to enable clientless browser access"}),e.jsxs("button",{onClick:()=>v(!0),className:"mt-4 btn btn-primary inline-flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Application"]})]}):e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Slug / URL"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Internal URL"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(k=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[k.iconUrl?e.jsx("img",{src:k.iconUrl,alt:"",className:"h-8 w-8 rounded mr-3"}):e.jsx("div",{className:"h-8 w-8 rounded bg-primary-100 text-primary-600 flex items-center justify-center mr-3",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:k.name}),e.jsx("div",{className:"text-sm text-gray-500",children:k.description||"No description"})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("code",{className:"text-sm bg-gray-100 px-2 py-1 rounded",children:["/proxy/",k.slug,"/"]}),e.jsx("button",{onClick:()=>w(k.slug),className:"text-gray-400 hover:text-gray-600",title:"Copy URL",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-gray-900 font-mono",children:k.internalUrl})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs font-semibold rounded-full ${k.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:k.isActive?"Active":"Disabled"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"Open",icon:"open",onClick:()=>window.open(`/proxy/${k.slug}/`,"_blank"),color:"green"},{label:"Access",icon:"access",onClick:()=>y(k),color:"purple"},{label:"Edit",icon:"edit",onClick:()=>p(k),color:"gray"},{label:"Delete",icon:"delete",onClick:()=>_(k),color:"red"}]})})]},k.id))})]})}),f&&e.jsx(H0,{onClose:()=>v(!1),onSuccess:()=>{v(!1),S()}}),j&&e.jsx(H0,{app:j,onClose:()=>p(null),onSuccess:()=>{p(null),S()}}),g&&e.jsx(d1,{app:g,onClose:()=>y(null)})]})}function H0({app:n,onClose:r,onSuccess:i}){const[o,u]=m.useState(!1),[x,f]=m.useState(null),[v,j]=m.useState(!1),[p,g]=m.useState(n?.name||""),[y,S]=m.useState(n?.slug||""),[_,w]=m.useState(n?.description||""),[k,C]=m.useState(n?.internalUrl||""),[E,D]=m.useState(n?.iconUrl||""),[O,z]=m.useState(n?.isActive??!0),[P,R]=m.useState(n?.preserveHostHeader??!1),[M,J]=m.useState(n?.stripPrefix??!0),[Z,H]=m.useState(n?.websocketEnabled??!0),[G,re]=m.useState(n?.timeoutSeconds??30);function W(B){return B.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}async function I(B){B.preventDefault(),u(!0),f(null);const A={name:p,slug:y,description:_,internal_url:k,icon_url:E||void 0,is_active:O,preserve_host_header:P,strip_prefix:M,websocket_enabled:Z,timeout_seconds:G};try{n?await jj(n.id,A):await vj(A),i()}catch(se){f(se.response?.data?.error||"Failed to save application")}finally{u(!1)}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:n?"Edit Application":"Add Application"}),x&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:x}),e.jsxs("form",{onSubmit:I,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name *"}),e.jsx("input",{type:"text",value:p,onChange:B=>{g(B.target.value),n||S(W(B.target.value))},className:"input mt-1",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Slug *"}),e.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[e.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-gray-300 bg-gray-50 text-gray-500 text-sm",children:"/proxy/"}),e.jsx("input",{type:"text",value:y,onChange:B=>S(B.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")),className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",required:!0,pattern:"[a-z0-9][a-z0-9-]*[a-z0-9]|[a-z0-9]"})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Lowercase letters, numbers, and dashes only"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("input",{type:"text",value:_,onChange:B=>w(B.target.value),className:"input mt-1",placeholder:"Brief description of the application"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Internal URL *"}),e.jsx("input",{type:"url",value:k,onChange:B=>C(B.target.value),className:"input mt-1",placeholder:"http://internal-app.local:8080",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"The internal URL of the application to proxy to"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Icon URL"}),e.jsx("input",{type:"url",value:E,onChange:B=>D(B.target.value),className:"input mt-1",placeholder:"https://example.com/icon.png"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:O,onChange:B=>z(B.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-gray-700",children:"Application is active"})]}),e.jsxs("button",{type:"button",onClick:()=>j(!v),className:"text-sm text-primary-600 hover:text-primary-800",children:[v?"Hide":"Show"," Advanced Options"]}),v&&e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"preserveHostHeader",checked:P,onChange:B=>R(B.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"preserveHostHeader",className:"ml-2 text-sm text-gray-700",children:"Preserve original Host header"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"stripPrefix",checked:M,onChange:B=>J(B.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"stripPrefix",className:"ml-2 text-sm text-gray-700",children:"Strip /proxy/slug prefix from requests"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"websocketEnabled",checked:Z,onChange:B=>H(B.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"websocketEnabled",className:"ml-2 text-sm text-gray-700",children:"Enable WebSocket support"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Timeout (seconds)"}),e.jsx("input",{type:"number",value:G,onChange:B=>re(parseInt(B.target.value)||30),min:1,max:300,className:"input mt-1 w-32"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"btn btn-primary",children:o?"Saving...":n?"Update":"Create"})]})]})]})})})}function d1({app:n,onClose:r}){const[i,o]=m.useState("users"),[u,x]=m.useState(!0),[f,v]=m.useState(null),[j,p]=m.useState([]),[g,y]=m.useState([]),[S,_]=m.useState([]),[w,k]=m.useState([]);m.useEffect(()=>{C()},[n.id]);async function C(){try{x(!0);const[M,J,Z,H]=await Promise.all([un(),fl(),Nj(n.id),Sj(n.id)]);_(M),k(J),p(Z),y(H),v(null)}catch{v("Failed to load data")}finally{x(!1)}}async function E(M){try{await wj(n.id,M),p([...j,M])}catch{v("Failed to assign user")}}async function D(M){try{await kj(n.id,M),p(j.filter(J=>J!==M))}catch{v("Failed to remove user")}}async function O(M){try{await Cj(n.id,M),y([...g,M])}catch{v("Failed to assign group")}}async function z(M){try{await Aj(n.id,M),y(g.filter(J=>J!==M))}catch{v("Failed to remove group")}}const P=S.filter(M=>!j.includes(M.id)),R=w.filter(M=>!g.includes(M.name));return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-xl font-semibold",children:["Access Control: ",n.name]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Users can access this application if they are directly assigned or belong to an assigned group."}),f&&e.jsx("div",{className:"mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded",children:f}),e.jsx("div",{className:"border-b border-gray-200 mb-4",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"users",label:"Users",count:j.length},{id:"groups",label:"Groups",count:g.length}].map(M=>e.jsxs("button",{onClick:()=>o(M.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${i===M.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[M.label,e.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${i===M.id?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-600"}`,children:M.count})]},M.id))})}),u?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[i==="users"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add User"}),e.jsxs("select",{className:"input",value:"",onChange:M=>M.target.value&&E(M.target.value),children:[e.jsx("option",{value:"",children:"Select a user to add..."}),P.map(M=>e.jsxs("option",{value:M.id,children:[M.email," (",M.name,")"]},M.id))]})]}),j.length>0?e.jsx("div",{className:"border rounded-lg divide-y",children:j.map(M=>{const J=S.find(Z=>Z.id===M);return e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:J?.email||M}),e.jsx("div",{className:"text-sm text-gray-500",children:J?.name})]}),e.jsxs("button",{onClick:()=>D(M),className:"inline-flex items-center px-3 py-1.5 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx("svg",{className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remove"]})]},M)})}):e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No users directly assigned"})]}),i==="groups"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Add Group"}),e.jsxs("select",{className:"input",value:"",onChange:M=>M.target.value&&O(M.target.value),children:[e.jsx("option",{value:"",children:"Select a group to add..."}),R.map(M=>e.jsxs("option",{value:M.name,children:[M.name," (",M.memberCount," members)"]},M.name))]})]}),g.length>0?e.jsx("div",{className:"border rounded-lg divide-y",children:g.map(M=>{const J=w.find(Z=>Z.name===M);return e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:M}),e.jsxs("div",{className:"text-sm text-gray-500",children:[J?.memberCount||0," members"]})]}),e.jsxs("button",{onClick:()=>z(M),className:"inline-flex items-center px-3 py-1.5 border border-red-300 text-sm font-medium rounded-md text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx("svg",{className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Remove"]})]},M)})}):e.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No groups assigned"})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Close"})})]})})})}function u1(n){if(!n||n.length!==2)return"";const r=n.toUpperCase().split("").map(i=>127397+i.charCodeAt(0));return String.fromCodePoint(...r)}function m1(){const[n,r]=m.useState("logs"),[i,o]=m.useState([]),[u,x]=m.useState(null),[f,v]=m.useState(0),[j,p]=m.useState(!0),[g,y]=m.useState(null),[S,_]=m.useState(null),[w,k]=m.useState(""),[C,E]=m.useState(""),[D,O]=m.useState(""),[z,P]=m.useState(""),[R,M]=m.useState(0),J=25,[Z,H]=m.useState(30),[G,re]=m.useState(30);m.useEffect(()=>{W()},[n,R,w,C,D,z]);async function W(){try{if(p(!0),y(null),n==="logs"){const F={limit:J,offset:R*J};w&&(F.userEmail=w),C&&(F.ipAddress=C),D&&(F.provider=D),z==="true"&&(F.success=!0),z==="false"&&(F.success=!1);const me=await Rj(F);o(me.logs),v(me.total)}else if(n==="stats"){const F=await Tj(30);x(F)}else if(n==="settings"){const F=await _j();H(F.days)}}catch{y("Failed to load data")}finally{p(!1)}}async function I(){try{await Uj(Z),_("Retention setting saved successfully"),setTimeout(()=>_(null),3e3)}catch{y("Failed to save retention setting")}}async function B(){if(confirm(`Are you sure you want to delete logs older than ${G} days? This action cannot be undone.`))try{const F=await Dj(G);_(`Successfully deleted ${F.deletedCount} log entries`),setTimeout(()=>_(null),3e3),W()}catch{y("Failed to purge logs")}}function A(F){return new Date(F).toLocaleString()}function se(){k(""),E(""),O(""),P(""),M(0)}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Login Monitoring"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Monitor user login activity, view statistics, and manage log retention."})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>r("logs"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="logs"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Login Logs"}),e.jsx("button",{onClick:()=>r("stats"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="stats"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Statistics"}),e.jsx("button",{onClick:()=>r("settings"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="settings"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Settings"})]})}),g&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:g}),S&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-green-700",children:S}),j?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[n==="logs"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Email"}),e.jsx("input",{type:"text",value:w,onChange:F=>{k(F.target.value),M(0)},placeholder:"Search by email...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"IP Address"}),e.jsx("input",{type:"text",value:C,onChange:F=>{E(F.target.value),M(0)},placeholder:"Search by IP...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Provider"}),e.jsxs("select",{value:D,onChange:F=>{O(F.target.value),M(0)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Providers"}),e.jsx("option",{value:"oidc",children:"OIDC"}),e.jsx("option",{value:"saml",children:"SAML"}),e.jsx("option",{value:"local",children:"Local"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Status"}),e.jsxs("select",{value:z,onChange:F=>{P(F.target.value),M(0)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Success"}),e.jsx("option",{value:"false",children:"Failed"})]})]})]}),(w||C||D||z)&&e.jsx("button",{onClick:se,className:"mt-3 text-sm text-primary-600 hover:text-primary-800",children:"Clear filters"})]}),e.jsxs("div",{className:"card overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Time"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Provider"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:"No login logs found"})}):i.map(F=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:A(F.createdAt)}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.userEmail}),F.userName&&e.jsx("div",{className:"text-xs text-gray-500",children:F.userName})]}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${F.provider==="oidc"?"bg-blue-100 text-blue-800":F.provider==="saml"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:F.provider.toUpperCase()}),F.providerName&&e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:F.providerName})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 font-mono",children:F.ipAddress}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:[F.countryCode&&e.jsx("span",{className:"mr-1",children:u1(F.countryCode)}),F.city&&F.country?`${F.city}, ${F.country}`:F.country||"-"]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:F.success?e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Success"]}):e.jsxs("div",{children:[e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Failed"]}),F.failureReason&&e.jsx("div",{className:"text-xs text-red-600 mt-0.5",children:F.failureReason})]})})]},F.id))})]})}),f>J&&e.jsxs("div",{className:"px-4 py-3 border-t border-gray-200 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Showing ",R*J+1," to ",Math.min((R+1)*J,f)," of ",f," logs"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>M(F=>Math.max(0,F-1)),disabled:R===0,className:"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>M(F=>F+1),disabled:(R+1)*J>=f,className:"px-3 py-1 text-sm border rounded hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]}),n==="stats"&&u&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Total Logins"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.totalLogins})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Successful"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:u.successfulLogins})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Failed"}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:u.failedLogins})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Unique Users"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.uniqueUsers})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Unique IPs"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900",children:u.uniqueIps})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Logins by Provider"}),e.jsx("div",{className:"space-y-3",children:Object.entries(u.loginsByProvider).length===0?e.jsx("div",{className:"text-gray-500 text-sm",children:"No data available"}):Object.entries(u.loginsByProvider).map(([F,me])=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-20 text-sm font-medium text-gray-700 uppercase",children:F}),e.jsx("div",{className:"flex-1 mx-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${F==="oidc"?"bg-blue-500":F==="saml"?"bg-purple-500":"bg-gray-500"}`,style:{width:`${me/u.totalLogins*100}%`}})})}),e.jsx("div",{className:"w-16 text-sm text-gray-600 text-right",children:me})]},F))})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Logins by Country"}),e.jsx("div",{className:"space-y-3",children:Object.entries(u.loginsByCountry).length===0?e.jsx("div",{className:"text-gray-500 text-sm",children:"No data available"}):Object.entries(u.loginsByCountry).slice(0,10).map(([F,me])=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-24 text-sm font-medium text-gray-700 truncate",children:F}),e.jsx("div",{className:"flex-1 mx-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary-500 rounded-full",style:{width:`${me/u.totalLogins*100}%`}})})}),e.jsx("div",{className:"w-16 text-sm text-gray-600 text-right",children:me})]},F))})]})]}),u.recentFailures.length>0&&e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Failed Logins"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Time"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"IP Address"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Reason"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.recentFailures.map(F=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:A(F.createdAt)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:F.userEmail}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-mono",children:F.ipAddress}),e.jsx("td",{className:"px-4 py-3 text-sm text-red-600",children:F.failureReason||"-"})]},F.id))})]})})]})]}),n==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Log Retention"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Configure how long login logs are kept. Logs older than this will be automatically deleted. Set to 0 to keep logs forever."}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-32",children:e.jsx("input",{type:"number",min:"0",value:Z,onChange:F=>H(parseInt(F.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsx("span",{className:"text-gray-600",children:"days"}),e.jsx("button",{onClick:I,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Save"})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Manual Purge"}),e.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"Manually delete login logs older than a specified number of days. This action cannot be undone."}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-gray-600",children:"Delete logs older than"}),e.jsx("div",{className:"w-24",children:e.jsx("input",{type:"number",min:"1",value:G,onChange:F=>re(parseInt(F.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsx("span",{className:"text-gray-600",children:"days"}),e.jsx("button",{onClick:B,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Purge Logs"})]})]})]})]})]})}function x1(){const[n,r]=m.useState("hubs"),[i,o]=m.useState([]),[u,x]=m.useState(null),[f,v]=m.useState([]),[j,p]=m.useState(!0),[g,y]=m.useState(null),[S,_]=m.useState(!1),[w,k]=m.useState(!1),[C,E]=m.useState(!1),[D,O]=m.useState(!1),[z,P]=m.useState(!1),[R,M]=m.useState(null),[J,Z]=m.useState(!1),[H,G]=m.useState(null),[re,W]=m.useState(null),[I,B]=m.useState(null),[A,se]=m.useState(null),[F,me]=m.useState(null),[ne,b]=m.useState(null);m.useEffect(()=>{Y()},[]),m.useEffect(()=>{u&&le(u.id)},[u]);async function Y(){try{p(!0);const ce=await Oj();o(ce),ce.length>0&&!u&&x(ce[0]),y(null)}catch{y("Failed to load mesh hubs")}finally{p(!1)}}async function le(ce){try{const Ve=await Zj(ce);v(Ve)}catch{y("Failed to load spokes")}}async function oe(ce){if(confirm(`Are you sure you want to delete hub "${ce.name}"? This will also delete all associated spokes.`))try{await Bj(ce.id),await Y(),u?.id===ce.id&&x(i.length>1&&i.find(Ve=>Ve.id!==ce.id)||null)}catch{y("Failed to delete hub")}}async function ie(ce){try{await Gj(ce.id),await Y(),y(null)}catch{y("Failed to provision hub")}}async function he(ce){if(confirm(`Are you sure you want to delete spoke "${ce.name}"?`))try{await eb(ce.id),u&&await le(u.id)}catch{y("Failed to delete spoke")}}async function ve(ce){try{await tb(ce.id),u&&await le(u.id),y(null)}catch{y("Failed to provision spoke")}}async function Ze(ce){try{const Ve=await Vj(ce.id);W({type:"hub",name:ce.name,script:Ve}),O(!0)}catch{y("Failed to get install script")}}async function Be(ce){try{const Ve=await sb(ce.id);W({type:"spoke",name:ce.name,script:Ve}),O(!0)}catch{y("Failed to get install script")}}function js(ce){switch(ce){case"online":case"connected":return"bg-green-100 text-green-800";case"offline":case"disconnected":return"bg-gray-100 text-gray-800";case"error":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}}return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Mesh Networking"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Manage mesh hubs and spokes for hub-and-spoke VPN connectivity."})]})})}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>r("hubs"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n==="hubs"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Hubs"}),e.jsx("button",{onClick:()=>r("spokes"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n==="spokes"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Spokes"})]})}),g&&e.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[g,e.jsx("button",{onClick:()=>y(null),className:"ml-4 text-red-500 hover:text-red-700",children:""})]}),n==="hubs"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>_(!0),className:"btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Hub"]})}),j?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i.length>0?e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hub"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Endpoint"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Connections"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Heartbeat"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(ce=>e.jsxs("tr",{className:u?.id===ce.id?"bg-primary-50":"",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:ce.name}),e.jsx("div",{className:"text-sm text-gray-500",children:ce.description})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${js(ce.status)}`,children:ce.status.charAt(0).toUpperCase()+ce.status.slice(1)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.jsx("div",{children:ce.publicEndpoint}),e.jsxs("div",{className:"text-xs",children:[ce.vpnProtocol.toUpperCase(),":",ce.vpnPort]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.jsxs("div",{children:[ce.connectedSpokes," spokes"]}),e.jsxs("div",{children:[ce.connectedClients," clients"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ce.lastHeartbeat?new Date(ce.lastHeartbeat).toLocaleString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"View Spokes",icon:"gateway",onClick:()=>{x(ce),r("spokes")}},{label:"Edit",icon:"edit",onClick:()=>me(ce)},{label:"Manage Access",icon:"access",onClick:()=>{M(ce),P(!0)}},{label:"Re-provision",icon:"install",onClick:()=>ie(ce)},{label:"Install Script",icon:"view",onClick:()=>Ze(ce),color:"primary"},{label:"Delete",icon:"delete",onClick:()=>oe(ce),color:"red"}]})})]},ce.id))})]})}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No mesh hubs"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new mesh hub."}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>_(!0),className:"btn btn-primary",children:"Add Hub"})})]})]}),n==="spokes"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Hub"}),e.jsxs("select",{value:u?.id||"",onChange:ce=>x(i.find(Ve=>Ve.id===ce.target.value)||null),className:"input",children:[e.jsx("option",{value:"",children:"-- Select a hub --"}),i.map(ce=>e.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),u&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>k(!0),className:"btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Spoke"]})}),f.length>0?e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Spoke"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Networks"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tunnel IP"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Seen"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(ce=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:ce.name}),e.jsx("div",{className:"text-sm text-gray-500",children:ce.description}),ce.remoteIp&&e.jsxs("div",{className:"text-xs text-gray-400",children:["Remote: ",ce.remoteIp]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${js(ce.status)}`,children:ce.status.charAt(0).toUpperCase()+ce.status.slice(1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ce.localNetworks.length>0?e.jsx("div",{className:"flex flex-wrap gap-1",children:ce.localNetworks.map((Ve,pl)=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 rounded text-xs",children:Ve},pl))}):e.jsx("span",{className:"text-gray-400",children:"No networks"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ce.tunnelIp||e.jsx("span",{className:"text-gray-400",children:"Not assigned"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ce.lastSeen?new Date(ce.lastSeen).toLocaleString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"Edit",icon:"edit",onClick:()=>b(ce)},{label:"Manage Access",icon:"access",onClick:()=>{G(ce),Z(!0)}},{label:"Re-provision",icon:"install",onClick:()=>ve(ce)},{label:"Install Script",icon:"view",onClick:()=>Be(ce),color:"primary"},{label:"Delete",icon:"delete",onClick:()=>he(ce),color:"red"}]})})]},ce.id))})]})}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No spokes"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Add spokes to connect remote sites to this hub."}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>k(!0),className:"btn btn-primary",children:"Add Spoke"})})]})]}),!u&&e.jsx("div",{className:"card text-center py-12 text-gray-500",children:"Select a hub to view its spokes"})]}),S&&e.jsx(h1,{onClose:()=>_(!1),onSuccess:ce=>{B(ce),_(!1),E(!0),Y()}}),w&&u&&e.jsx(f1,{hubId:u.id,onClose:()=>k(!1),onSuccess:ce=>{se(ce),k(!1),E(!0),le(u.id)}}),C&&(I||A)&&e.jsx(p1,{type:I?"hub":"spoke",name:I?.name||A?.name||"",token:I?.apiToken||A?.token||"",controlPlaneUrl:I?.controlPlaneUrl||window.location.origin,onClose:()=>{E(!1),B(null),se(null)}}),D&&re&&e.jsx(g1,{type:re.type,name:re.name,script:re.script,onClose:()=>{O(!1),W(null)}}),z&&R&&e.jsx(y1,{hub:R,onClose:()=>{P(!1),M(null)}}),J&&H&&e.jsx(v1,{spoke:H,onClose:()=>{Z(!1),G(null)}}),F&&e.jsx(j1,{hub:F,onClose:()=>me(null),onSuccess:()=>{me(null),Y()}}),ne&&u&&e.jsx(b1,{spoke:ne,onClose:()=>b(null),onSuccess:()=>{b(null),le(u.id)}})]})}function h1({onClose:n,onSuccess:r}){const[i,o]=m.useState({name:"",description:"",publicEndpoint:"",vpnPort:1194,vpnProtocol:"udp",vpnSubnet:"172.30.0.0/16",cryptoProfile:"fips",tlsAuthEnabled:!0,fullTunnelMode:!1,pushDns:!1,dnsServers:[],sessionEnabled:!0}),[u,x]=m.useState(""),[f,v]=m.useState(!1),[j,p]=m.useState(null);async function g(y){y.preventDefault(),v(!0),p(null);try{const S=await zj(i);r(S)}catch{p("Failed to create hub")}finally{v(!1)}}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Mesh Hub"}),j&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded",children:j}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("input",{type:"text",value:i.name,onChange:y=>o({...i,name:y.target.value}),className:"input",required:!0,placeholder:"e.g., main-hub"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("input",{type:"text",value:i.description,onChange:y=>o({...i,description:y.target.value}),className:"input",placeholder:"Optional description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Public Endpoint"}),e.jsx("input",{type:"text",value:i.publicEndpoint,onChange:y=>o({...i,publicEndpoint:y.target.value}),className:"input",required:!0,placeholder:"e.g., hub.example.com or 1.2.3.4"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"The public hostname or IP where spokes will connect"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"VPN Port"}),e.jsx("input",{type:"number",value:i.vpnPort,onChange:y=>o({...i,vpnPort:parseInt(y.target.value)}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Protocol"}),e.jsxs("select",{value:i.vpnProtocol,onChange:y=>o({...i,vpnProtocol:y.target.value}),className:"input",children:[e.jsx("option",{value:"udp",children:"UDP"}),e.jsx("option",{value:"tcp",children:"TCP"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"VPN Subnet"}),e.jsx("input",{type:"text",value:i.vpnSubnet,onChange:y=>o({...i,vpnSubnet:y.target.value}),className:"input",placeholder:"172.30.0.0/16"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Crypto Profile"}),e.jsxs("select",{value:i.cryptoProfile,onChange:y=>o({...i,cryptoProfile:y.target.value}),className:"input",children:[e.jsx("option",{value:"fips",children:"FIPS (AES-256-GCM, AES-128-GCM)"}),e.jsx("option",{value:"modern",children:"Modern (AES-256-GCM, ChaCha20)"}),e.jsx("option",{value:"compatible",children:"Compatible (includes CBC ciphers)"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"tlsAuth",checked:i.tlsAuthEnabled,onChange:y=>o({...i,tlsAuthEnabled:y.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"tlsAuth",className:"ml-2 text-sm text-gray-700",children:"Enable TLS-Auth (additional HMAC layer)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"fullTunnel",checked:i.fullTunnelMode,onChange:y=>o({...i,fullTunnelMode:y.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"fullTunnel",className:"ml-2 text-sm text-gray-700",children:"Full Tunnel Mode (route all client traffic through VPN)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"pushDns",checked:i.pushDns,onChange:y=>o({...i,pushDns:y.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"pushDns",className:"ml-2 text-sm text-gray-700",children:"Push DNS servers to clients"})]}),i.pushDns&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"DNS Servers"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:u,onChange:y=>x(y.target.value),className:"input flex-1",placeholder:"e.g., 1.1.1.1",onKeyDown:y=>{y.key==="Enter"&&(y.preventDefault(),u.trim()&&(o({...i,dnsServers:[...i.dnsServers||[],u.trim()]}),x("")))}}),e.jsx("button",{type:"button",onClick:()=>{u.trim()&&(o({...i,dnsServers:[...i.dnsServers||[],u.trim()]}),x(""))},className:"btn btn-secondary",children:"Add"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to use defaults (1.1.1.1, 8.8.8.8)"}),i.dnsServers&&i.dnsServers.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.dnsServers.map((y,S)=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm flex items-center",children:[y,e.jsx("button",{type:"button",onClick:()=>o({...i,dnsServers:i.dnsServers?.filter((_,w)=>w!==S)}),className:"ml-1 text-gray-400 hover:text-red-600",children:""})]},S))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"hubSessionEnabled",checked:i.sessionEnabled??!0,onChange:y=>o({...i,sessionEnabled:y.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"hubSessionEnabled",className:"ml-2 text-sm text-gray-700",children:"Enable Remote Sessions"})]}),e.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"Allow administrators to run commands on this hub via the Remote Sessions page."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:f,className:"btn btn-primary",children:f?"Creating...":"Create Hub"})]})]})]})})})}function f1({hubId:n,onClose:r,onSuccess:i}){const[o,u]=m.useState({name:"",description:"",localNetworks:[],sessionEnabled:!0}),[x,f]=m.useState(""),[v,j]=m.useState(!1),[p,g]=m.useState(null);function y(){x&&!o.localNetworks.includes(x)&&(u({...o,localNetworks:[...o.localNetworks,x]}),f(""))}function S(w){u({...o,localNetworks:o.localNetworks.filter(k=>k!==w)})}async function _(w){w.preventDefault(),j(!0),g(null);try{const k=await Wj(n,o);i(k)}catch{g("Failed to create spoke")}finally{j(!1)}}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Add Mesh Spoke"}),p&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded",children:p}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("input",{type:"text",value:o.name,onChange:w=>u({...o,name:w.target.value}),className:"input",required:!0,placeholder:"e.g., home-lab"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("input",{type:"text",value:o.description,onChange:w=>u({...o,description:w.target.value}),className:"input",placeholder:"Optional description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Local Networks"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:x,onChange:w=>f(w.target.value),className:"input flex-1",placeholder:"e.g., 10.0.0.0/8",onKeyDown:w=>w.key==="Enter"&&(w.preventDefault(),y())}),e.jsx("button",{type:"button",onClick:y,className:"btn btn-secondary",children:"Add"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Networks behind this spoke that should be routable via the hub"}),o.localNetworks.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.localNetworks.map(w=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm flex items-center",children:[w,e.jsx("button",{type:"button",onClick:()=>S(w),className:"ml-1 text-gray-400 hover:text-red-600",children:""})]},w))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"spokeSessionEnabled",checked:o.sessionEnabled??!0,onChange:w=>u({...o,sessionEnabled:w.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"spokeSessionEnabled",className:"ml-2 text-sm text-gray-700",children:"Enable Remote Sessions"})]}),e.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"Allow administrators to run commands on this spoke via the Remote Sessions page."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:v,className:"btn btn-primary",children:v?"Creating...":"Create Spoke"})]})]})]})})})}function p1({type:n,name:r,token:i,controlPlaneUrl:o,onClose:u}){const[x,f]=m.useState(!1);function v(){navigator.clipboard.writeText(i),f(!0),setTimeout(()=>f(!1),2e3)}const j=n==="hub"?`curl -sSL ${o}/scripts/install-hub.sh | sudo bash -s -- \\
  --token "${i}" \\
  --control-plane "${o}"`:`curl -sSL ${o}/scripts/install-mesh-spoke.sh | sudo bash -s -- \\
  --token "${i}" \\
  --control-plane "${o}"`,[p,g]=m.useState(!1);function y(){navigator.clipboard.writeText(j),g(!0),setTimeout(()=>g(!1),2e3)}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("h2",{className:"ml-3 text-lg font-semibold",children:[n==="hub"?"Hub":"Spoke"," Created"]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Save this token!"}),e.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["This token will only be shown once. You'll need it to set up the ",n,"."]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("div",{className:"text-gray-900",children:r})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:n==="hub"?"API Token":"Spoke Token"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"flex-1 p-2 bg-gray-100 rounded text-sm font-mono break-all",children:i}),e.jsx("button",{onClick:v,className:"btn btn-secondary",children:x?"Copied!":"Copy"})]})]}),o&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Control Plane URL"}),e.jsx("code",{className:"block p-2 bg-gray-100 rounded text-sm font-mono",children:o})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quick Setup Command"}),e.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Run this command on your ",n==="hub"?"hub server":"spoke server"," to install and configure:"]}),e.jsxs("div",{className:"relative",children:[e.jsx("pre",{className:"p-3 bg-gray-900 text-green-400 rounded-lg text-sm overflow-x-auto font-mono",children:j}),e.jsx("button",{onClick:y,className:"absolute top-2 right-2 px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white text-xs rounded",children:p?"Copied!":"Copy"})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:u,className:"btn btn-primary",children:"Done"})})]})})})}function g1({type:n,name:r,script:i,onClose:o}){const[u,x]=m.useState(!1);function f(){navigator.clipboard.writeText(i),x(!0),setTimeout(()=>x(!1),2e3)}function v(){const j=new Blob([i],{type:"text/plain"}),p=URL.createObjectURL(j),g=document.createElement("a");g.href=p,g.download=`install-${n}-${r.replace(/[^a-zA-Z0-9-_]/g,"-")}.sh`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(p)}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-3xl w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold",children:["Install Script - ",n==="hub"?"Hub":"Spoke",": ",r]}),e.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-500 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-800",children:"Installation Instructions"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Run this script on your ",n==="hub"?"hub server":"spoke server"," with root privileges:"]}),e.jsxs("code",{className:"block mt-2 text-sm bg-gray-100 px-2 py-1 rounded text-gray-700",children:["sudo bash install-",n,".sh"]})]})]})}),e.jsx("div",{className:"relative",children:e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg text-sm overflow-x-auto max-h-96 overflow-y-auto",children:e.jsx("code",{children:i})})}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[e.jsxs("button",{onClick:v,className:"btn btn-secondary",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]}),e.jsx("button",{onClick:f,className:"btn btn-primary",children:u?"Copied!":"Copy to Clipboard"})]})]})})})}function y1({hub:n,onClose:r}){const[i,o]=m.useState("users"),[u,x]=m.useState([]),[f,v]=m.useState([]),[j,p]=m.useState([]),[g,y]=m.useState([]),[S,_]=m.useState([]),[w,k]=m.useState([]),[C,E]=m.useState(!0),[D,O]=m.useState(""),[z,P]=m.useState(""),[R,M]=m.useState(""),[J,Z]=m.useState(null);m.useEffect(()=>{H()},[n.id]);async function H(){try{E(!0);const[ne,b,Y,le,oe,ie]=await Promise.all([qj(n.id),$j(n.id),Ij(n.id),un(),fl(),dn()]);x(ne),v(b),p(Y),y(le),_(oe.map(he=>he.name)),k(ie)}catch{Z("Failed to load access data")}finally{E(!1)}}async function G(){if(D)try{await Pj(n.id,D),x([...u,D]),O("")}catch{Z("Failed to add user")}}async function re(ne){try{await Fj(n.id,ne),x(u.filter(b=>b!==ne))}catch{Z("Failed to remove user")}}async function W(){if(z)try{await Yj(n.id,z),v([...f,z]),P("")}catch{Z("Failed to add group")}}async function I(ne){try{await Kj(n.id,ne),v(f.filter(b=>b!==ne))}catch{Z("Failed to remove group")}}async function B(){if(R)try{await Xj(n.id,R);const ne=w.find(b=>b.id===R);ne&&p([...j,{id:ne.id,name:ne.name,description:ne.description||"",cidr:ne.cidr,isActive:ne.isActive}]),M("")}catch{Z("Failed to add network")}}async function A(ne){try{await Qj(n.id,ne),p(j.filter(b=>b.id!==ne))}catch{Z("Failed to remove network")}}const se=g.filter(ne=>!u.includes(ne.id)),F=S.filter(ne=>!f.includes(ne)),me=w.filter(ne=>!j.find(b=>b.id===ne.id));return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold",children:["Manage Access - ",n.name]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),J&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:J}),e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded text-blue-700 text-sm",children:[e.jsx("strong",{children:"Zero-Trust Model:"})," Users only get routes to networks they have explicit access rules for. Assign networks to this hub, then ensure users have access rules within those networks."]}),e.jsx("div",{className:"border-b border-gray-200 mb-4",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>o("users"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${i==="users"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Users (",u.length,")"]}),e.jsxs("button",{onClick:()=>o("groups"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${i==="groups"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Groups (",f.length,")"]}),e.jsxs("button",{onClick:()=>o("networks"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${i==="networks"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Networks (",j.length,")"]})]})}),C?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i==="networks"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:R,onChange:ne=>M(ne.target.value),className:"input flex-1",children:[e.jsx("option",{value:"",children:"Select a network..."}),me.map(ne=>e.jsxs("option",{value:ne.id,children:[ne.name," (",ne.cidr,")"]},ne.id))]}),e.jsx("button",{onClick:B,disabled:!R,className:"btn btn-primary",children:"Add"})]}),e.jsx("div",{className:"border rounded-lg divide-y",children:j.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No networks assigned to this hub. Add networks to enable zero-trust access control."}):j.map(ne=>e.jsxs("div",{className:"p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:ne.name}),e.jsx("div",{className:"text-sm text-gray-500",children:ne.cidr}),ne.description&&e.jsx("div",{className:"text-xs text-gray-400",children:ne.description})]}),e.jsx("button",{onClick:()=>A(ne.id),className:"text-red-600 hover:text-red-800",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},ne.id))})]}):i==="users"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:D,onChange:ne=>O(ne.target.value),className:"input flex-1",children:[e.jsx("option",{value:"",children:"Select a user..."}),se.map(ne=>e.jsxs("option",{value:ne.id,children:[ne.email," ",ne.name&&`(${ne.name})`]},ne.id))]}),e.jsx("button",{onClick:G,disabled:!D,className:"btn btn-primary",children:"Add"})]}),e.jsx("div",{className:"border rounded-lg divide-y",children:u.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No users assigned to this hub"}):u.map(ne=>{const b=g.find(Y=>Y.id===ne);return e.jsxs("div",{className:"p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:b?.email||ne}),b?.name&&e.jsx("div",{className:"text-sm text-gray-500",children:b.name})]}),e.jsx("button",{onClick:()=>re(ne),className:"text-red-600 hover:text-red-800",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},ne)})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:z,onChange:ne=>P(ne.target.value),className:"input flex-1",children:[e.jsx("option",{value:"",children:"Select a group..."}),F.map(ne=>e.jsx("option",{value:ne,children:ne},ne))]}),e.jsx("button",{onClick:W,disabled:!z,className:"btn btn-primary",children:"Add"})]}),e.jsx("div",{className:"border rounded-lg divide-y",children:f.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No groups assigned to this hub"}):f.map(ne=>e.jsxs("div",{className:"p-3 flex items-center justify-between",children:[e.jsx("div",{className:"font-medium text-gray-900",children:ne}),e.jsx("button",{onClick:()=>I(ne),className:"text-red-600 hover:text-red-800",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},ne))})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Close"})})]})})})}function v1({spoke:n,onClose:r}){const[i,o]=m.useState("users"),[u,x]=m.useState([]),[f,v]=m.useState([]),[j,p]=m.useState([]),[g,y]=m.useState([]),[S,_]=m.useState(!0),[w,k]=m.useState(""),[C,E]=m.useState(""),[D,O]=m.useState(null);m.useEffect(()=>{z()},[n.id]);async function z(){try{_(!0);const[G,re,W,I]=await Promise.all([ab(n.id),rb(n.id),un(),fl()]);x(G),v(re),p(W),y(I.map(B=>B.name))}catch{O("Failed to load access data")}finally{_(!1)}}async function P(){if(w)try{await nb(n.id,w),x([...u,w]),k("")}catch{O("Failed to add user")}}async function R(G){try{await lb(n.id,G),x(u.filter(re=>re!==G))}catch{O("Failed to remove user")}}async function M(){if(C)try{await ib(n.id,C),v([...f,C]),E("")}catch{O("Failed to add group")}}async function J(G){try{await cb(n.id,G),v(f.filter(re=>re!==G))}catch{O("Failed to remove group")}}const Z=j.filter(G=>!u.includes(G.id)),H=g.filter(G=>!f.includes(G));return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-2xl w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold",children:["Manage Spoke Access - ",n.name]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Control which users/groups can route traffic to networks behind this spoke"})]}),e.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.localNetworks.length>0&&e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-blue-800 mb-1",children:"Networks accessible via this spoke:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.localNetworks.map((G,re)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-sm font-mono",children:G},re))})]}),D&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded text-red-700 text-sm",children:D}),e.jsx("div",{className:"border-b border-gray-200 mb-4",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>o("users"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${i==="users"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Users (",u.length,")"]}),e.jsxs("button",{onClick:()=>o("groups"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${i==="groups"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:["Groups (",f.length,")"]})]})}),S?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i==="users"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:w,onChange:G=>k(G.target.value),className:"input flex-1",children:[e.jsx("option",{value:"",children:"Select a user..."}),Z.map(G=>e.jsxs("option",{value:G.id,children:[G.email," ",G.name&&`(${G.name})`]},G.id))]}),e.jsx("button",{onClick:P,disabled:!w,className:"btn btn-primary",children:"Add"})]}),e.jsx("div",{className:"border rounded-lg divide-y",children:u.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No users have access to this spoke's networks"}):u.map(G=>{const re=j.find(W=>W.id===G);return e.jsxs("div",{className:"p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:re?.email||G}),re?.name&&e.jsx("div",{className:"text-sm text-gray-500",children:re.name})]}),e.jsx("button",{onClick:()=>R(G),className:"text-red-600 hover:text-red-800",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},G)})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:C,onChange:G=>E(G.target.value),className:"input flex-1",children:[e.jsx("option",{value:"",children:"Select a group..."}),H.map(G=>e.jsx("option",{value:G,children:G},G))]}),e.jsx("button",{onClick:M,disabled:!C,className:"btn btn-primary",children:"Add"})]}),e.jsx("div",{className:"border rounded-lg divide-y",children:f.length===0?e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No groups have access to this spoke's networks"}):f.map(G=>e.jsxs("div",{className:"p-3 flex items-center justify-between",children:[e.jsx("div",{className:"font-medium text-gray-900",children:G}),e.jsx("button",{onClick:()=>J(G),className:"text-red-600 hover:text-red-800",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},G))})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Close"})})]})})})}function j1({hub:n,onClose:r,onSuccess:i}){const[o,u]=m.useState({name:n.name,description:n.description||"",publicEndpoint:n.publicEndpoint||"",vpnPort:n.vpnPort||1194,vpnProtocol:n.vpnProtocol||"udp",vpnSubnet:n.vpnSubnet||"172.30.0.0/16",cryptoProfile:n.cryptoProfile||"modern",tlsAuthEnabled:n.tlsAuthEnabled??!0,fullTunnelMode:n.fullTunnelMode??!1,pushDns:n.pushDns??!1,dnsServers:n.dnsServers||[],localNetworks:n.localNetworks||[],sessionEnabled:n.sessionEnabled??!0}),[x,f]=m.useState(""),[v,j]=m.useState(""),[p,g]=m.useState(!1),[y,S]=m.useState(null);async function _(w){w.preventDefault(),g(!0),S(null);try{await Hj(n.id,o),i()}catch{S("Failed to update hub")}finally{g(!1)}}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Edit Hub: ",n.name]}),y&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded",children:y}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("input",{type:"text",value:o.name,onChange:w=>u({...o,name:w.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("input",{type:"text",value:o.description,onChange:w=>u({...o,description:w.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Public Endpoint"}),e.jsx("input",{type:"text",value:o.publicEndpoint,onChange:w=>u({...o,publicEndpoint:w.target.value}),className:"input"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Port"}),e.jsx("input",{type:"number",value:o.vpnPort,onChange:w=>u({...o,vpnPort:parseInt(w.target.value)}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Protocol"}),e.jsxs("select",{value:o.vpnProtocol,onChange:w=>u({...o,vpnProtocol:w.target.value}),className:"input",children:[e.jsx("option",{value:"udp",children:"UDP"}),e.jsx("option",{value:"tcp",children:"TCP"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"VPN Subnet"}),e.jsx("input",{type:"text",value:o.vpnSubnet,onChange:w=>u({...o,vpnSubnet:w.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Crypto Profile"}),e.jsxs("select",{value:o.cryptoProfile,onChange:w=>u({...o,cryptoProfile:w.target.value}),className:"input",children:[e.jsx("option",{value:"modern",children:"Modern"}),e.jsx("option",{value:"fips",children:"FIPS"}),e.jsx("option",{value:"compatible",children:"Compatible"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o.tlsAuthEnabled,onChange:w=>u({...o,tlsAuthEnabled:w.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"TLS-Auth"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o.fullTunnelMode,onChange:w=>u({...o,fullTunnelMode:w.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Full Tunnel"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o.pushDns,onChange:w=>u({...o,pushDns:w.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Push DNS"})]})]}),o.pushDns&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"DNS Servers"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:x,onChange:w=>f(w.target.value),className:"input flex-1",placeholder:"1.1.1.1",onKeyDown:w=>{w.key==="Enter"&&(w.preventDefault(),x&&(u({...o,dnsServers:[...o.dnsServers,x]}),f("")))}}),e.jsx("button",{type:"button",onClick:()=>{x&&(u({...o,dnsServers:[...o.dnsServers,x]}),f(""))},className:"btn btn-secondary",children:"Add"})]}),o.dnsServers.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.dnsServers.map(w=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded text-sm",children:[w,e.jsx("button",{type:"button",onClick:()=>u({...o,dnsServers:o.dnsServers.filter(k=>k!==w)}),className:"ml-1 text-red-600",children:""})]},w))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Local Networks"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:v,onChange:w=>j(w.target.value),className:"input flex-1",placeholder:"192.168.1.0/24",onKeyDown:w=>{w.key==="Enter"&&(w.preventDefault(),v&&(u({...o,localNetworks:[...o.localNetworks,v]}),j("")))}}),e.jsx("button",{type:"button",onClick:()=>{v&&(u({...o,localNetworks:[...o.localNetworks,v]}),j(""))},className:"btn btn-secondary",children:"Add"})]}),o.localNetworks.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.localNetworks.map(w=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded text-sm",children:[w,e.jsx("button",{type:"button",onClick:()=>u({...o,localNetworks:o.localNetworks.filter(k=>k!==w)}),className:"ml-1 text-red-600",children:""})]},w))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"editHubSessionEnabled",checked:o.sessionEnabled??!0,onChange:w=>u({...o,sessionEnabled:w.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"editHubSessionEnabled",className:"ml-2 text-sm text-gray-700",children:"Enable Remote Sessions"})]}),e.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"Allow administrators to run commands on this hub via the Remote Sessions page."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:p,className:"btn btn-primary",children:p?"Saving...":"Save"})]})]})]})})})}function b1({spoke:n,onClose:r,onSuccess:i}){const[o,u]=m.useState({name:n.name,description:n.description||"",localNetworks:n.localNetworks||[],sessionEnabled:n.sessionEnabled??!0}),[x,f]=m.useState(""),[v,j]=m.useState(!1),[p,g]=m.useState(null);async function y(S){S.preventDefault(),j(!0),g(null);try{await Jj(n.id,o),i()}catch{g("Failed to update spoke")}finally{j(!1)}}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative bg-white rounded-lg shadow-xl max-w-lg w-full p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Edit Spoke: ",n.name]}),p&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 text-red-700 rounded",children:p}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),e.jsx("input",{type:"text",value:o.name,onChange:S=>u({...o,name:S.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Description"}),e.jsx("input",{type:"text",value:o.description,onChange:S=>u({...o,description:S.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Local Networks"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:x,onChange:S=>f(S.target.value),className:"input flex-1",placeholder:"e.g., 10.0.0.0/24",onKeyDown:S=>{S.key==="Enter"&&(S.preventDefault(),x&&!o.localNetworks.includes(x)&&(u({...o,localNetworks:[...o.localNetworks,x]}),f("")))}}),e.jsx("button",{type:"button",onClick:()=>{x&&!o.localNetworks.includes(x)&&(u({...o,localNetworks:[...o.localNetworks,x]}),f(""))},className:"btn btn-secondary",children:"Add"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Networks behind this spoke routable via hub"}),o.localNetworks.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.localNetworks.map(S=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 rounded text-sm flex items-center",children:[S,e.jsx("button",{type:"button",onClick:()=>u({...o,localNetworks:o.localNetworks.filter(_=>_!==S)}),className:"ml-1 text-gray-400 hover:text-red-600",children:""})]},S))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"editSpokeSessionEnabled",checked:o.sessionEnabled??!0,onChange:S=>u({...o,sessionEnabled:S.target.checked}),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"editSpokeSessionEnabled",className:"ml-2 text-sm text-gray-700",children:"Enable Remote Sessions"})]}),e.jsx("p",{className:"text-xs text-gray-500 -mt-2",children:"Allow administrators to run commands on this spoke via the Remote Sessions page."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:r,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:v,className:"btn btn-primary",children:v?"Saving...":"Save"})]})]})]})})})}function N1(){const[n,r]=m.useState("gateway"),[i,o]=m.useState([]),[u,x]=m.useState([]),[f,v]=m.useState(0),[j,p]=m.useState(0),[g,y]=m.useState(!0),[S,_]=m.useState(null),[w,k]=m.useState(null),[C,E]=m.useState(""),[D,O]=m.useState("all");m.useEffect(()=>{z()},[]),m.useEffect(()=>{(i.length>0||u.length>0||f>0||j>0)&&P()},[n]);async function z(){try{y(!0),_(null);const[I,B]=await Promise.all([T0(),D0()]);o(I.configs),v(I.total),x(B.configs),p(B.total)}catch{_("Failed to load configs")}finally{y(!1)}}async function P(){try{if(y(!0),_(null),n==="gateway"){const I=await T0();o(I.configs),v(I.total)}else{const I=await D0();x(I.configs),p(I.total)}}catch{_("Failed to load configs")}finally{y(!1)}}async function R(I,B){const A=prompt("Enter reason for revocation (optional):");if(A!==null)try{B?await zh(I,A||"Revoked by admin"):await Oh(I,A||"Revoked by admin"),k("Config revoked successfully"),setTimeout(()=>k(null),3e3),z()}catch{_("Failed to revoke config")}}function M(I){return new Date(I).toLocaleString()}function J(I){return new Date(I)<new Date}function Z(I){return I.isRevoked?"revoked":J(I.expiresAt)?"expired":"active"}function H(I){return I.filter(B=>!(C&&!(B.userEmail?.toLowerCase().includes(C.toLowerCase())||B.userName?.toLowerCase().includes(C.toLowerCase()))||D!=="all"&&Z(B)!==D))}const G=H(i),re=H(u);function W(){E(""),O("all")}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"VPN Configurations"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"View and manage all VPN configurations across all users."})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>r("gateway"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="gateway"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Gateway Configs",e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:f})]}),e.jsxs("button",{onClick:()=>r("mesh"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="mesh"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["Mesh Configs",e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:j})]})]})}),S&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:S}),w&&e.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-green-700",children:w}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"User"}),e.jsx("input",{type:"text",value:C,onChange:I=>E(I.target.value),placeholder:"Search by email or name...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Status"}),e.jsxs("select",{value:D,onChange:I=>O(I.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"revoked",children:"Revoked"}),e.jsx("option",{value:"expired",children:"Expired"})]})]})]}),(C||D!=="all")&&e.jsx("button",{onClick:W,className:"mt-3 text-sm text-primary-600 hover:text-primary-800",children:"Clear filters"})]}),g?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[n==="gateway"&&e.jsx("div",{className:"card overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gateway"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"File"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:G.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No gateway configs found"})}):G.map(I=>{const B=Z(I);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.userEmail}),I.userName&&e.jsx("div",{className:"text-xs text-gray-500",children:I.userName})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800",children:I.gatewayName})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 font-mono",children:I.fileName}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:M(I.createdAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:M(I.expiresAt)}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[B==="active"&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Active"}),B==="revoked"&&e.jsxs("div",{children:[e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:"Revoked"}),I.revokedReason&&e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:I.revokedReason})]}),B==="expired"&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:"Expired"})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:B==="active"&&e.jsx("button",{onClick:()=>R(I.id,!1),className:"text-red-600 hover:text-red-800",children:"Revoke"})})]},I.id)})})]})})}),n==="mesh"&&e.jsx("div",{className:"card overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mesh Hub"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"File"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Expires"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:re.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-gray-500",children:"No mesh configs found"})}):re.map(I=>{const B=Z(I);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:I.userEmail}),I.userName&&e.jsx("div",{className:"text-xs text-gray-500",children:I.userName})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-100 text-purple-800",children:I.hubName})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 font-mono",children:I.fileName}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:M(I.createdAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:M(I.expiresAt)}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[B==="active"&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-100 text-green-800",children:"Active"}),B==="revoked"&&e.jsxs("div",{children:[e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-100 text-red-800",children:"Revoked"}),I.revokedReason&&e.jsx("div",{className:"text-xs text-gray-500 mt-0.5",children:I.revokedReason})]}),B==="expired"&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800",children:"Expired"})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:B==="active"&&e.jsx("button",{onClick:()=>R(I.id,!0),className:"text-red-600 hover:text-red-800",children:"Revoke"})})]},I.id)})})]})})})]})]})}function w1({title:n,titleId:r,...i},o){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},i),n?m.createElement("title",{id:r},n):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Mo=m.forwardRef(w1);function k1({title:n,titleId:r,...i},o){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},i),n?m.createElement("title",{id:r},n):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Go=m.forwardRef(k1);function S1({title:n,titleId:r,...i},o){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},i),n?m.createElement("title",{id:r},n):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const Lo=m.forwardRef(S1);function C1({title:n,titleId:r,...i},o){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},i),n?m.createElement("title",{id:r},n):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const B0=m.forwardRef(C1);function A1({title:n,titleId:r,...i},o){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},i),n?m.createElement("title",{id:r},n):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const Or=m.forwardRef(A1);function E1({title:n,titleId:r,...i},o){return m.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":r},i),n?m.createElement("title",{id:r},n):null,m.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const sn=m.forwardRef(E1);function M1(){const[n,r]=m.useState("topology"),[i,o]=m.useState(!0),[u,x]=m.useState(null),[f,v]=m.useState(null),[j,p]=m.useState(null),[g,y]=m.useState(null),[S,_]=m.useState(""),[w,k]=m.useState([]),[C,E]=m.useState(0);m.useEffect(()=>{D()},[n]);async function D(){try{if(o(!0),x(null),n==="topology"){const R=await Bh();p(R)}else if(n==="sessions"){const R=await wb();k(R.sessions),E(R.total)}}catch(R){x("Failed to load data"),console.error(R)}finally{o(!1)}}function O(R){return new Date(R).toLocaleString()}function z(R){if(R===0)return"0 B";const M=1024,J=["B","KB","MB","GB"],Z=Math.floor(Math.log(R)/Math.log(M));return parseFloat((R/Math.pow(M,Z)).toFixed(1))+" "+J[Z]}function P(R){return j?j.meshSpokes.filter(M=>M.hubId===R):[]}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Network Topology"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"View your network topology and active VPN sessions."})]}),e.jsx("div",{className:"border-b border-gray-200",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>r("topology"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="topology"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Topology Map"}),e.jsx("button",{onClick:()=>r("sessions"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sessions"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Active Sessions"})]})}),u&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:u}),f&&e.jsx("div",{className:"mt-2 text-sm text-red-700 whitespace-pre-line",children:f})]}),e.jsx("div",{className:"ml-auto pl-3",children:e.jsx("button",{onClick:()=>{x(null),v(null)},className:"inline-flex rounded-md bg-red-50 p-1.5 text-red-500 hover:bg-red-100",children:e.jsx(sn,{className:"h-5 w-5"})})})]})}),i?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[n==="topology"&&j&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Hub or Gateway to View"}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("select",{value:S,onChange:R=>{_(R.target.value),y(null)},className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"-- Select a Hub or Gateway --"}),j.meshHubs.length>0&&e.jsx("optgroup",{label:"Mesh Hubs",children:j.meshHubs.map(R=>e.jsxs("option",{value:`hub-${R.id}`,children:[R.name," (",R.status,") - ",R.connectedSpokes," spokes, ",R.connectedUsers," users"]},`hub-${R.id}`))}),j.gateways.length>0&&e.jsx("optgroup",{label:"Gateways",children:j.gateways.map(R=>e.jsxs("option",{value:`gateway-${R.id}`,children:[R.name," (",R.isActive?"active":"inactive",") - ",R.clientCount," clients"]},`gateway-${R.id}`))})]})})]}),!S&&e.jsxs("div",{className:"card text-center py-12 text-gray-500",children:[e.jsx(Or,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Select a hub or gateway above to view its topology"})]}),S.startsWith("hub-")&&e.jsxs("div",{className:"flex gap-6",children:[e.jsx("div",{className:"flex-1 card overflow-x-auto",children:e.jsx("div",{className:"min-w-[800px]",children:j.meshHubs.filter(R=>`hub-${R.id}`===S).map(R=>{const M=P(R.id),J=R.status==="online";return e.jsxs("div",{className:"mb-8 last:mb-0",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(Or,{className:"w-5 h-5 text-blue-600"}),"Mesh: ",R.name]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-48",children:e.jsxs("button",{onClick:()=>y({type:"user",data:{hubId:R.id,hubName:R.name,count:R.connectedUsers}}),className:"w-full p-4 rounded-lg border-2 border-green-300 bg-green-50 hover:border-green-500 transition-colors cursor-pointer text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Lo,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium text-green-800",children:"Users"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-700",children:R.connectedUsers}),e.jsx("div",{className:"text-xs text-green-600",children:"connected clients"})]})}),e.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center justify-center pt-8",children:[e.jsx(Mo,{className:"w-8 h-8 text-gray-400"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"VPN"})]}),e.jsx("div",{className:"flex-shrink-0 w-64",children:e.jsxs("button",{onClick:()=>y({type:"hub",data:R}),className:`w-full p-4 rounded-lg border-2 transition-colors cursor-pointer text-left ${J?"border-blue-400 bg-blue-50 hover:border-blue-600":"border-gray-300 bg-gray-50 hover:border-gray-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${J?"bg-blue-500":"bg-gray-400"}`}),e.jsx("span",{className:`font-medium ${J?"text-blue-800":"text-gray-700"}`,children:R.name})]}),e.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Mesh Hub"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Public:"}),e.jsxs("span",{className:"font-mono text-gray-700",children:[R.publicIp,":",R.vpnPort]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Tunnel:"}),e.jsx("span",{className:"font-mono text-blue-700",children:R.serverTunnelIp})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Subnet:"}),e.jsx("span",{className:"font-mono text-gray-600",children:R.vpnSubnet})]})]}),e.jsx("div",{className:"mt-3 pt-2 border-t border-gray-200",children:e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-500",children:"Spokes:"}),e.jsx("span",{className:"font-medium",children:R.connectedSpokes})]})})]})}),e.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center justify-center pt-8",children:[e.jsx(Mo,{className:"w-8 h-8 text-gray-400"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Mesh"})]}),e.jsx("div",{className:"flex-1 space-y-3",children:M.length===0?e.jsx("div",{className:"p-4 rounded-lg border-2 border-dashed border-gray-300 bg-gray-50 text-center text-gray-500",children:"No spokes connected"}):M.map(Z=>{const H=Z.status==="connected";return e.jsxs("button",{onClick:()=>y({type:"spoke",data:Z}),className:`w-full p-4 rounded-lg border-2 transition-colors cursor-pointer text-left ${H?"border-purple-400 bg-purple-50 hover:border-purple-600":"border-gray-300 bg-gray-50 hover:border-gray-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${H?"bg-purple-500":"bg-gray-400"}`}),e.jsx("span",{className:`font-medium ${H?"text-purple-800":"text-gray-700"}`,children:Z.name}),e.jsx("span",{className:`ml-auto text-xs ${H?"text-purple-600":"text-gray-500"}`,children:Z.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Tunnel: "}),e.jsx("span",{className:"font-mono text-purple-700",children:Z.tunnelIp||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-500",children:"Remote: "}),e.jsx("span",{className:"font-mono text-gray-700",children:Z.remoteIp||"N/A"})]})]}),Z.localNetworks.length>0&&e.jsxs("div",{className:"mt-2 pt-2 border-t border-gray-200",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Routes:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[Z.localNetworks.slice(0,3).map((G,re)=>e.jsx("span",{className:"px-1.5 py-0.5 bg-purple-100 text-purple-700 text-xs font-mono rounded",children:G},re)),Z.localNetworks.length>3&&e.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:["+",Z.localNetworks.length-3," more"]})]})]})]},Z.id)})})]})]},R.id)})})}),g&&e.jsxs("div",{className:"w-96 card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Node Details"}),e.jsx("button",{onClick:()=>y(null),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(sn,{className:"w-5 h-5 text-gray-500"})})]}),g.type==="user"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-3 bg-green-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Lo,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"text-lg font-medium text-green-800",children:"Connected Users"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Hub"}),e.jsx("div",{className:"text-sm font-medium",children:g.data.hubName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Active Connections"}),e.jsx("div",{className:"text-2xl font-bold text-green-700",children:g.data.count})]})]}),e.jsx("div",{className:"pt-3 border-t",children:e.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),r("sessions")},className:"text-sm text-primary-600 hover:text-primary-800",children:"View Active Sessions "})})]}),g.type==="hub"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-3 rounded-lg ${g.data.status==="online"?"bg-blue-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Or,{className:`w-6 h-6 ${g.data.status==="online"?"text-blue-600":"text-gray-500"}`}),e.jsx("span",{className:`text-lg font-medium ${g.data.status==="online"?"text-blue-800":"text-gray-700"}`,children:g.data.name})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Mesh Hub"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Network Endpoints"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Public:"}),e.jsx("span",{className:"font-mono",children:g.data.publicEndpoint})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Server Tunnel IP:"}),e.jsx("span",{className:"font-mono text-blue-700",children:g.data.serverTunnelIp})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"VPN Subnet:"}),e.jsx("span",{className:"font-mono",children:g.data.vpnSubnet})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Status"}),e.jsx("div",{className:`text-sm ${g.data.status==="online"?"text-blue-600":"text-gray-500"}`,children:g.data.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Connected Spokes"}),e.jsx("div",{className:"text-sm font-medium",children:g.data.connectedSpokes})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Connected Users"}),e.jsx("div",{className:"text-sm font-medium",children:g.data.connectedUsers})]}),g.data.localNetworks?.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Hub Local Networks"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:g.data.localNetworks.map((R,M)=>e.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 text-xs font-mono rounded",children:R},M))})]}),g.data.lastHeartbeat&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Last Heartbeat"}),e.jsx("div",{className:"text-sm",children:O(g.data.lastHeartbeat)})]})]}),e.jsx("div",{className:"pt-3 border-t",children:e.jsx("a",{href:"/admin/mesh",className:"block text-sm text-primary-600 hover:text-primary-800",children:"Manage Mesh "})})]}),g.type==="spoke"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-3 rounded-lg ${g.data.status==="connected"?"bg-purple-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Or,{className:`w-6 h-6 ${g.data.status==="connected"?"text-purple-600":"text-gray-500"}`}),e.jsx("span",{className:`text-lg font-medium ${g.data.status==="connected"?"text-purple-800":"text-gray-700"}`,children:g.data.name})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Mesh Spoke"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-2",children:"Network Endpoints"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Tunnel IP:"}),e.jsx("span",{className:"font-mono text-purple-700",children:g.data.tunnelIp||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Remote Public IP:"}),e.jsx("span",{className:"font-mono",children:g.data.remoteIp||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Status"}),e.jsx("div",{className:`text-sm ${g.data.status==="connected"?"text-purple-600":"text-gray-500"}`,children:g.data.status})]}),g.data.localNetworks.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Advertised Routes"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:g.data.localNetworks.map((R,M)=>e.jsx("span",{className:"px-2 py-0.5 bg-purple-100 text-purple-700 text-xs font-mono rounded",children:R},M))})]}),g.data.lastSeen&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Last Seen"}),e.jsx("div",{className:"text-sm",children:O(g.data.lastSeen)})]})]}),e.jsx("div",{className:"pt-3 border-t",children:e.jsx("a",{href:"/admin/mesh",className:"block text-sm text-primary-600 hover:text-primary-800",children:"Manage Mesh "})})]})]})]}),S.startsWith("gateway-")&&e.jsxs("div",{className:"flex gap-6",children:[e.jsx("div",{className:"flex-1 card overflow-x-auto",children:e.jsx("div",{className:"min-w-[600px]",children:j.gateways.filter(R=>`gateway-${R.id}`===S).map(R=>e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center gap-2",children:[e.jsx(B0,{className:"w-5 h-5 text-green-600"}),"Gateway: ",R.name]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-48",children:e.jsxs("div",{className:"w-full p-4 rounded-lg border-2 border-green-300 bg-green-50 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Lo,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium text-green-800",children:"Clients"})]}),e.jsx("div",{className:"text-2xl font-bold text-green-700",children:R.clientCount}),e.jsx("div",{className:"text-xs text-green-600",children:"connected clients"})]})}),e.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center justify-center pt-8",children:[e.jsx(Mo,{className:"w-8 h-8 text-gray-400"}),e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"VPN"})]}),e.jsx("div",{className:"flex-shrink-0 w-64",children:e.jsxs("button",{onClick:()=>y({type:"gateway",data:R}),className:`w-full p-4 rounded-lg border-2 transition-colors cursor-pointer text-left ${R.isActive?"border-green-400 bg-green-50 hover:border-green-600":"border-gray-300 bg-gray-50 hover:border-gray-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${R.isActive?"bg-green-500":"bg-gray-400"}`}),e.jsx("span",{className:`font-medium ${R.isActive?"text-green-800":"text-gray-700"}`,children:R.name})]}),e.jsx("div",{className:"text-xs text-gray-600 mb-2",children:"Gateway"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Public:"}),e.jsxs("span",{className:"font-mono text-gray-700",children:[R.publicIp,":",R.vpnPort]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Protocol:"}),e.jsx("span",{className:"text-gray-700",children:R.vpnProtocol?.toUpperCase()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:"Status:"}),e.jsx("span",{className:R.isActive?"text-green-600":"text-gray-500",children:R.isActive?"Active":"Inactive"})]})]})]})})]})]},R.id))})}),g&&g.type==="gateway"&&e.jsxs("div",{className:"w-96 card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Gateway Details"}),e.jsx("button",{onClick:()=>y(null),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(sn,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-3 rounded-lg ${g.data.isActive?"bg-green-50":"bg-gray-50"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(B0,{className:`w-6 h-6 ${g.data.isActive?"text-green-600":"text-gray-500"}`}),e.jsx("span",{className:`text-lg font-medium ${g.data.isActive?"text-green-800":"text-gray-700"}`,children:g.data.name})]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Gateway"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Hostname"}),e.jsx("div",{className:"text-sm font-mono",children:g.data.hostname||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Public IP"}),e.jsx("div",{className:"text-sm font-mono",children:g.data.publicIp})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"VPN Port"}),e.jsxs("div",{className:"text-sm",children:[g.data.vpnPort," (",g.data.vpnProtocol?.toUpperCase(),")"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Status"}),e.jsx("div",{className:`text-sm ${g.data.isActive?"text-green-600":"text-gray-500"}`,children:g.data.isActive?"Active":"Inactive"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Connected Clients"}),e.jsx("div",{className:"text-sm font-medium",children:g.data.clientCount})]}),g.data.lastHeartbeat&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-gray-500",children:"Last Heartbeat"}),e.jsx("div",{className:"text-sm",children:O(g.data.lastHeartbeat)})]})]}),e.jsxs("div",{className:"pt-3 border-t space-y-2",children:[e.jsx("a",{href:`/admin/access-rules?gateway=${g.data.id}`,className:"block text-sm text-primary-600 hover:text-primary-800",children:"View Access Rules "}),e.jsx("a",{href:"/admin/gateways",className:"block text-sm text-primary-600 hover:text-primary-800",children:"Manage Gateways "})]})]})]})]})]}),n==="sessions"&&e.jsxs("div",{className:"card overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 flex items-center justify-between",children:[e.jsxs("h3",{className:"font-medium text-gray-900",children:["Active VPN Sessions (",C,")"]}),e.jsx("button",{onClick:D,className:"text-sm text-primary-600 hover:text-primary-800",children:"Refresh"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Hub"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Client IP"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"VPN Address"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Connected"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Traffic"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:!w||w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:"No active sessions"})}):(w||[]).map(R=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:R.userEmail}),R.userName&&e.jsx("div",{className:"text-xs text-gray-500",children:R.userName})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900",children:R.gatewayName}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-600",children:R.clientIp}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-600",children:R.vpnAddress}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:O(R.connectedAt)}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:[e.jsx("span",{className:"text-green-600",children:z(R.bytesSent)})," / ",e.jsx("span",{className:"text-blue-600",children:z(R.bytesRecv)})]})]},R.id))})]})})]})]})]})}function L1(){const[n,r]=m.useState(!0),[i,o]=m.useState(null),[u,x]=m.useState(null),[f,v]=m.useState(null),[j,p]=m.useState([]),[g,y]=m.useState("ping"),[S,_]=m.useState(""),[w,k]=m.useState(""),[C,E]=m.useState(""),[D,O]=m.useState("control-plane"),[z,P]=m.useState(!1),[R,M]=m.useState(null),[J,Z]=m.useState("");m.useEffect(()=>{H()},[]);async function H(){try{r(!0),o(null);const[B,A]=await Promise.all([kb(),Bh()]);p(B.tools),v(A)}catch(B){o("Failed to load data"),console.error(B)}finally{r(!1)}}async function G(){if(!S.trim()){o("Target is required"),x(null);return}try{P(!0),M(null),o(null),x(null);const B=await Sb({tool:g,target:S.trim(),port:w?parseInt(w):void 0,ports:C||void 0,location:D});M(B)}catch(B){console.error(B);const A=B;A.response?.data?.error?(o(A.response.data.error),x(A.response.data.details||null)):(o("Failed to execute tool"),x(null))}finally{P(!1)}}function re(B){return new Date(B).toLocaleString()}function W(B){return f?f.meshSpokes.filter(A=>A.hubId===B):[]}function I(){const B=[{id:"control-plane",name:"Control Plane",type:"control-plane"}];if(!J||!f)return B;if(J.startsWith("hub-")){const A=J.replace("hub-",""),se=f.meshHubs.find(F=>F.id===A);if(se){B.push({id:`hub:${se.id}`,name:`Hub: ${se.name}`,type:"hub"});const F=W(A);for(const me of F)me.status==="connected"&&B.push({id:`spoke:${me.id}`,name:`Spoke: ${me.name}`,type:"spoke"})}}else if(J.startsWith("gateway-")){const A=J.replace("gateway-",""),se=f.gateways.find(F=>F.id===A);se&&B.push({id:`gateway:${se.id}`,name:`Gateway: ${se.name}`,type:"gateway"})}return B}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Network Tools"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Run network diagnostic tools from the control plane or remote agents."})]}),i&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:i}),u&&e.jsx("div",{className:"mt-2 text-sm text-red-700 whitespace-pre-line",children:u})]}),e.jsx("div",{className:"ml-auto pl-3",children:e.jsx("button",{onClick:()=>{o(null),x(null)},className:"inline-flex rounded-md bg-red-50 p-1.5 text-red-500 hover:bg-red-100",children:e.jsx(sn,{className:"h-5 w-5"})})})]})}),n?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Hub or Gateway Context"}),e.jsxs("select",{value:J,onChange:B=>{Z(B.target.value),O("control-plane")},className:"w-full max-w-md px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"-- Select a Hub or Gateway --"}),f?.meshHubs&&f.meshHubs.length>0&&e.jsx("optgroup",{label:"Mesh Hubs",children:f.meshHubs.map(B=>e.jsxs("option",{value:`hub-${B.id}`,children:[B.name," (",B.status,") - ",B.connectedSpokes," spokes"]},`hub-${B.id}`))}),f?.gateways&&f.gateways.length>0&&e.jsx("optgroup",{label:"Gateways",children:f.gateways.map(B=>e.jsxs("option",{value:`gateway-${B.id}`,children:[B.name," (",B.isActive?"active":"inactive",")"]},`gateway-${B.id}`))})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a hub or gateway to enable execution from that node and its connected spokes."})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Network Diagnostic Tools"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tool"}),e.jsx("select",{value:g,onChange:B=>y(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:j.map(B=>e.jsxs("option",{value:B.name,children:[B.name," - ",B.description]},B.name))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Target"}),e.jsx("input",{type:"text",value:S,onChange:B=>_(B.target.value),placeholder:"e.g., 8.8.8.8 or google.com",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),g==="nc"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Port"}),e.jsx("input",{type:"number",value:w,onChange:B=>k(B.target.value),placeholder:"e.g., 443",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),g==="nmap"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ports"}),e.jsx("input",{type:"text",value:C,onChange:B=>E(B.target.value),placeholder:"e.g., 22,80,443",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Execute From"}),e.jsx("select",{value:D,onChange:B=>O(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:I().map(B=>e.jsxs("option",{value:B.id,children:[B.name," ",B.id!=="control-plane"?"(requires agent)":""]},B.id))}),D!=="control-plane"&&e.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Remote execution requires deployed agent binaries"})]})]}),e.jsx("button",{onClick:G,disabled:z||!S.trim(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:z?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Running..."]}):"Run Tool"})]}),R&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:[R.tool," to ",R.target]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsx("span",{className:`px-2 py-1 rounded ${R.status==="success"?"bg-green-100 text-green-800":R.status==="timeout"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:R.status}),e.jsxs("span",{className:"text-gray-500",children:["Duration: ",R.duration]})]})]}),R.error&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:R.error}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm font-mono whitespace-pre-wrap",children:R.output||"No output"}),e.jsxs("div",{className:"mt-3 text-xs text-gray-500",children:["Executed from: ",R.location," at ",re(R.startedAt)]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Available Tools"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:j.map(B=>e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"font-medium text-gray-900",children:B.name}),e.jsx("div",{className:"text-sm text-gray-600 mt-1",children:B.description}),B.required&&B.required.length>0&&e.jsxs("div",{className:"text-xs text-gray-500 mt-2",children:["Required: ",B.required.join(", ")]})]},B.name))})]})]})]})}function R1({agent:n,onClose:r,showHeader:i=!1}){const[o,u]=m.useState(!1),[x,f]=m.useState(!0),[v,j]=m.useState([]),[p,g]=m.useState(""),[y,S]=m.useState([]),[_,w]=m.useState(-1),k=m.useRef(null),C=m.useRef(null),E=m.useRef(null),D=m.useCallback((P,R)=>{j(M=>[...M,{type:P,content:R,timestamp:new Date}])},[]);m.useEffect(()=>{const P=new WebSocket(Ab());k.current=P;let R=!1;return P.onopen=()=>{f(!1),D("system",`Connected to control plane, selecting agent ${n.nodeName}...`)},P.onmessage=M=>{try{const J=JSON.parse(M.data);switch(J.type){case"agent_list":R||P.send(JSON.stringify({type:"connect_agent",payload:{agentId:n.id},timestamp:new Date().toISOString()}));break;case"agent_connected":R=!0,u(!0),D("system",`Connected to ${n.nodeType}: ${n.nodeName}`);break;case"output":if(J.payload){const Z=typeof J.payload=="string"?JSON.parse(J.payload):J.payload;if(Z.output){const H=Z.output.replace(/\n$/,"");D(Z.is_stderr?"error":"output",H)}Z.done&&Z.exit_code!==void 0&&D("system",`Command completed with exit code ${Z.exit_code}`)}break;case"error":if(J.payload){const Z=typeof J.payload=="string"?JSON.parse(J.payload):J.payload;D("error",Z.message||"Unknown error")}break}}catch(J){console.error("Failed to parse message:",J)}},P.onclose=()=>{u(!1),D("system","Connection closed")},P.onerror=()=>{f(!1),D("error","WebSocket connection error")},()=>{P.readyState===WebSocket.OPEN&&P.send(JSON.stringify({type:"disconnect",timestamp:new Date().toISOString()})),P.close()}},[n,D]),m.useEffect(()=>{C.current&&(C.current.scrollTop=C.current.scrollHeight)},[v]),m.useEffect(()=>{E.current?.focus()},[]);const O=P=>{P.preventDefault(),!(!p.trim()||!k.current||k.current.readyState!==WebSocket.OPEN)&&(D("input",`$ ${p}`),k.current.send(JSON.stringify({type:"command",payload:{command:p.trim()},timestamp:new Date().toISOString()})),S(R=>[...R,p]),w(-1),g(""))},z=P=>{if(P.key==="ArrowUp"){if(P.preventDefault(),y.length>0){const R=_<y.length-1?_+1:_;w(R),g(y[y.length-1-R])}}else if(P.key==="ArrowDown")if(P.preventDefault(),_>0){const R=_-1;w(R),g(y[y.length-1-R])}else _===0&&(w(-1),g(""))};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-900 rounded-lg overflow-hidden",children:[i&&e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Go,{className:"w-5 h-5 text-green-400"}),e.jsxs("span",{className:"text-gray-200 font-medium",children:[n.nodeType,": ",n.nodeName]}),e.jsx("span",{className:`w-2 h-2 rounded-full ${o?"bg-green-500":"bg-red-500"}`})]}),e.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-700 rounded transition-colors",children:e.jsx(sn,{className:"w-5 h-5 text-gray-400"})})]}),e.jsxs("div",{ref:C,className:"flex-1 p-4 overflow-y-auto font-mono text-sm",onClick:()=>E.current?.focus(),children:[x&&e.jsx("div",{className:"text-yellow-400",children:"Connecting..."}),v.map((P,R)=>e.jsx("div",{className:`whitespace-pre-wrap break-all ${P.type==="input"?"text-cyan-400":P.type==="error"?"text-red-400":P.type==="system"?"text-yellow-400":"text-gray-100"}`,children:P.content},R))]}),e.jsxs("form",{onSubmit:O,className:"flex items-center px-4 py-2 bg-gray-800 border-t border-gray-700",children:[e.jsx("span",{className:"text-green-400 mr-2",children:"$"}),e.jsx("input",{ref:E,type:"text",value:p,onChange:P=>g(P.target.value),onKeyDown:z,disabled:!o,placeholder:o?"Enter command...":"Disconnected",className:"flex-1 bg-transparent text-gray-100 outline-none placeholder-gray-500 font-mono",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"})]})]})}const Ro=3600*1e3;function T1(){const[n,r]=m.useState(!0),[i,o]=m.useState(null),[u,x]=m.useState([]),[f,v]=m.useState([]),[j,p]=m.useState(null);m.useEffect(()=>{g()},[]),m.useEffect(()=>{const k=setInterval(()=>{const C=Date.now();v(E=>{const D=E.filter(O=>C-O.openedAt.getTime()>=Ro);if(D.length>0){const O=E.filter(z=>C-z.openedAt.getTime()<Ro);return j&&D.some(z=>z.agent.id===j)&&p(O.length>0?O[0].agent.id:null),O}return E})},6e4);return()=>clearInterval(k)},[j]);async function g(){try{r(!0),o(null);const k=await Cb();x(k)}catch(k){o("Failed to load remote agents"),console.error(k)}finally{r(!1)}}const y=m.useCallback(k=>{if(f.find(E=>E.agent.id===k.id)){p(k.id);return}v(E=>[...E,{agent:k,openedAt:new Date}]),p(k.id)},[f]),S=m.useCallback(k=>{if(v(C=>C.filter(E=>E.agent.id!==k)),j===k){const C=f.filter(E=>E.agent.id!==k);p(C.length>0?C[0].agent.id:null)}},[j,f]);function _(k){return new Date(k).toLocaleString()}function w(k){const C=Date.now()-k.getTime(),E=Ro-C;if(E<=0)return"Expiring...";const D=Math.floor(E/6e4);return D<60?`${D}m left`:`${Math.floor(D/60)}h ${D%60}m left`}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Remote Sessions"}),e.jsx("p",{className:"text-gray-500 mt-1",children:"Connect to and run commands on remote hubs, gateways, and spokes."})]}),i&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:i}),n?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[f.length>0&&e.jsxs("div",{className:"card p-0 overflow-hidden",children:[e.jsx("div",{className:"flex items-center bg-gray-800 border-b border-gray-700 overflow-x-auto",children:f.map(k=>e.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 cursor-pointer border-r border-gray-700 min-w-0 ${j===k.agent.id?"bg-gray-900 text-white":"bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-gray-200"}`,onClick:()=>p(k.agent.id),children:[e.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${k.agent.nodeType==="hub"?"bg-blue-400":k.agent.nodeType==="gateway"?"bg-green-400":"bg-purple-400"}`}),e.jsxs("span",{className:"truncate text-sm font-medium",children:[k.agent.nodeType,": ",k.agent.nodeName]}),e.jsxs("span",{className:"text-xs text-gray-500 whitespace-nowrap",children:["(",w(k.openedAt),")"]}),e.jsx("button",{onClick:C=>{C.stopPropagation(),S(k.agent.id)},className:"p-0.5 hover:bg-gray-600 rounded ml-1 flex-shrink-0",title:"Disconnect",children:e.jsx(sn,{className:"w-4 h-4"})})]},k.agent.id))}),e.jsx("div",{className:"h-[450px]",children:f.map(k=>e.jsx("div",{className:j===k.agent.id?"h-full":"hidden",children:e.jsx(R1,{agent:k.agent,onClose:()=>S(k.agent.id)})},k.agent.id))})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Connected Agents"}),e.jsx("button",{onClick:g,className:"text-sm text-primary-600 hover:text-primary-800",children:"Refresh"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Remote sessions allow you to run shell commands on connected hubs, gateways, and spokes. Agents connect outbound to the control plane, so no inbound firewall rules are needed."}),u.length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(Go,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"font-medium",children:"No agents connected"}),e.jsxs("p",{className:"text-sm mt-1",children:["Enable remote sessions on your hubs, gateways, or spokes by setting ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"session_enabled: true"})," in their config."]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Connected"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(k=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${k.nodeType==="hub"?"bg-blue-100 text-blue-800":k.nodeType==="gateway"?"bg-green-100 text-green-800":"bg-purple-100 text-purple-800"}`,children:k.nodeType})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:k.nodeName}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500",children:_(k.connectedAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>y(k),className:`inline-flex items-center gap-1 px-3 py-1 text-sm rounded transition-colors ${f.some(C=>C.agent.id===k.id)?"text-green-600 hover:text-green-800 hover:bg-green-50":"text-primary-600 hover:text-primary-800 hover:bg-primary-50"}`,children:[e.jsx(Go,{className:"w-4 h-4"}),f.some(C=>C.agent.id===k.id)?"View":"Connect"]})})]},k.id))})]})})]}),e.jsxs("div",{className:"card bg-blue-50 border border-blue-200",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-900 mb-2",children:"CLI Access"}),e.jsxs("div",{className:"text-sm text-blue-800 space-y-2",children:[e.jsx("p",{children:"You can also use remote sessions from the command line:"}),e.jsxs("div",{className:"bg-blue-100 p-3 rounded font-mono text-xs space-y-1",children:[e.jsx("div",{children:"# List connected agents"}),e.jsx("div",{className:"text-blue-700",children:"gatekey-admin session list"}),e.jsx("div",{className:"mt-2",children:"# Execute a single command"}),e.jsx("div",{className:"text-blue-700",children:'gatekey-admin session exec <agent-id> "ip addr"'}),e.jsx("div",{className:"mt-2",children:"# Start interactive session"}),e.jsx("div",{className:"text-blue-700",children:"gatekey-admin session connect <agent-id>"})]})]})]}),e.jsxs("div",{className:"card bg-gray-50",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Setup Instructions"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[e.jsx("p",{children:"To enable remote sessions on an agent:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[e.jsxs("li",{children:["Add ",e.jsx("code",{className:"bg-white px-1 rounded",children:"session_enabled: true"})," to the agent's config file"]}),e.jsx("li",{children:"Ensure the agent can reach the control plane URL"}),e.jsx("li",{children:"Restart the agent service"})]}),e.jsx("p",{className:"mt-2",children:"The agent will automatically connect to the control plane and appear in the list above."})]})]})]})]})}const To=[{id:"downloads",title:"Downloads",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})},{id:"install",title:"Install Client",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})},{id:"configure",title:"Configure",icon:e.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"gateways",title:"Gateways",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})},{id:"networks",title:"Networks",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})},{id:"access-rules",title:"Access Rules",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{id:"proxy-apps",title:"Proxy Apps",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"oidc-providers",title:"OIDC Providers",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})},{id:"saml-providers",title:"SAML Providers",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{id:"monitoring",title:"Monitoring",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"admin-configs",title:"Config Management",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{id:"api-keys",title:"API Keys",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})},{id:"admin-cli",title:"Admin CLI",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{id:"diagnostics",title:"Diagnostics",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065zM15 12a3 3 0 11-6 0 3 3 0 016 0z"})})},{id:"mesh",title:"Mesh Networking",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2zM12 7v10M7 12h10"})})},{id:"general",title:"General Settings",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})},{id:"certificate-ca",title:"Certificate CA",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}];function D1(){const n=window.location.origin,[r,i]=m.useState("install");m.useEffect(()=>{const u=()=>{const x=To.map(v=>document.getElementById(v.id)),f=window.scrollY+150;for(let v=x.length-1;v>=0;v--){const j=x[v];if(j&&j.offsetTop<=f){i(To[v].id);break}}};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const o=u=>{const x=document.getElementById(u);if(x){const v=x.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:v-100,behavior:"smooth"})}};return e.jsxs("div",{className:"flex gap-8",children:[e.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-24",children:[e.jsx("h2",{className:"text-sm font-semibold text-gray-900 uppercase tracking-wider mb-4",children:"Documentation"}),e.jsx("nav",{className:"space-y-1",children:To.map(u=>e.jsxs("button",{onClick:()=>o(u.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${r===u.id?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,children:[e.jsx("span",{className:`mr-3 ${r===u.id?"text-primary-600":"text-gray-400"}`,children:u.icon}),u.title]},u.id))})]})}),e.jsxs("div",{className:"flex-1 max-w-4xl space-y-12",children:[e.jsx("section",{id:"downloads",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Download GateKey CLIs"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Download the GateKey command-line tools for your platform."}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"GateKey Client (gatekey)"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The VPN client for connecting to gateways. Required for end users."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("a",{href:`${n}/bin/gatekey-linux-amd64`,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey",children:[e.jsxs("svg",{className:"h-8 w-8 mr-3",viewBox:"0 0 256 256",fill:"none",children:[e.jsx("ellipse",{cx:"128",cy:"156",rx:"72",ry:"84",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"176",rx:"48",ry:"60",fill:"#FFFFFF"}),e.jsx("circle",{cx:"128",cy:"72",r:"48",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"80",rx:"32",ry:"28",fill:"#FFFFFF"}),e.jsx("circle",{cx:"116",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("circle",{cx:"140",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("path",{d:"M128 76 L116 92 L140 92 Z",fill:"#F4A103"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Linux (x64)"}),e.jsx("p",{className:"text-xs text-gray-500",children:"gatekey-linux-amd64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-linux-arm64`,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey",children:[e.jsxs("svg",{className:"h-8 w-8 mr-3",viewBox:"0 0 256 256",fill:"none",children:[e.jsx("ellipse",{cx:"128",cy:"156",rx:"72",ry:"84",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"176",rx:"48",ry:"60",fill:"#FFFFFF"}),e.jsx("circle",{cx:"128",cy:"72",r:"48",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"80",rx:"32",ry:"28",fill:"#FFFFFF"}),e.jsx("circle",{cx:"116",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("circle",{cx:"140",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("path",{d:"M128 76 L116 92 L140 92 Z",fill:"#F4A103"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Linux (ARM64)"}),e.jsx("p",{className:"text-xs text-gray-500",children:"gatekey-linux-arm64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-darwin-amd64`,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey",children:[e.jsx("svg",{className:"h-8 w-8 mr-3",fill:"#555555",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.1 22C7.79 22.05 6.8 20.68 5.96 19.47C4.25 17 2.94 12.45 4.7 9.39C5.57 7.87 7.13 6.91 8.82 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5M13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"macOS (Intel)"}),e.jsx("p",{className:"text-xs text-gray-500",children:"gatekey-darwin-amd64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-darwin-arm64`,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey",children:[e.jsx("svg",{className:"h-8 w-8 mr-3",fill:"#555555",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.1 22C7.79 22.05 6.8 20.68 5.96 19.47C4.25 17 2.94 12.45 4.7 9.39C5.57 7.87 7.13 6.91 8.82 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5M13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"macOS (Apple Silicon)"}),e.jsx("p",{className:"text-xs text-gray-500",children:"gatekey-darwin-arm64"})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"GateKey Admin CLI (gatekey-admin)"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Administrative CLI for managing gateways, networks, users, API keys, and more. For administrators only."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("a",{href:`${n}/bin/gatekey-admin-linux-amd64`,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey-admin",children:[e.jsxs("svg",{className:"h-8 w-8 mr-3",viewBox:"0 0 256 256",fill:"none",children:[e.jsx("ellipse",{cx:"128",cy:"156",rx:"72",ry:"84",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"176",rx:"48",ry:"60",fill:"#FFFFFF"}),e.jsx("circle",{cx:"128",cy:"72",r:"48",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"80",rx:"32",ry:"28",fill:"#FFFFFF"}),e.jsx("circle",{cx:"116",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("circle",{cx:"140",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("path",{d:"M128 76 L116 92 L140 92 Z",fill:"#F4A103"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Linux (x64)"}),e.jsx("p",{className:"text-xs text-gray-500",children:"gatekey-admin-linux-amd64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-admin-linux-arm64`,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey-admin",children:[e.jsxs("svg",{className:"h-8 w-8 mr-3",viewBox:"0 0 256 256",fill:"none",children:[e.jsx("ellipse",{cx:"128",cy:"156",rx:"72",ry:"84",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"176",rx:"48",ry:"60",fill:"#FFFFFF"}),e.jsx("circle",{cx:"128",cy:"72",r:"48",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"80",rx:"32",ry:"28",fill:"#FFFFFF"}),e.jsx("circle",{cx:"116",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("circle",{cx:"140",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("path",{d:"M128 76 L116 92 L140 92 Z",fill:"#F4A103"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Linux (ARM64)"}),e.jsx("p",{className:"text-xs text-gray-500",children:"gatekey-admin-linux-arm64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-admin-darwin-amd64`,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey-admin",children:[e.jsx("svg",{className:"h-8 w-8 mr-3",fill:"#555555",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.1 22C7.79 22.05 6.8 20.68 5.96 19.47C4.25 17 2.94 12.45 4.7 9.39C5.57 7.87 7.13 6.91 8.82 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5M13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"macOS (Intel)"}),e.jsx("p",{className:"text-xs text-gray-500",children:"gatekey-admin-darwin-amd64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-admin-darwin-arm64`,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey-admin",children:[e.jsx("svg",{className:"h-8 w-8 mr-3",fill:"#555555",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.1 22C7.79 22.05 6.8 20.68 5.96 19.47C4.25 17 2.94 12.45 4.7 9.39C5.57 7.87 7.13 6.91 8.82 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5M13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"macOS (Apple Silicon)"}),e.jsx("p",{className:"text-xs text-gray-500",children:"gatekey-admin-darwin-arm64"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Quick Install (Linux/macOS)"}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto mb-4",children:e.jsxs("code",{className:"text-green-400 text-sm",children:["curl -sSL ",n,"/scripts/install-client.sh | bash"]})}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Or download the binary manually, make it executable with ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"chmod +x"}),", and move it to your PATH."]})]})]})}),e.jsx("section",{id:"install",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Install GateKey CLI"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Download and install the GateKey CLI client to connect to VPN gateways from your terminal."}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Quick Install (Linux/macOS)"}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:e.jsxs("code",{className:"text-green-400 text-sm",children:["curl -sSL ",n,"/scripts/install-client.sh | bash"]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Download Binaries"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("a",{href:`${n}/bin/gatekey-linux-amd64`,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey",children:[e.jsxs("svg",{className:"h-8 w-8 mr-3",viewBox:"0 0 256 256",fill:"none",children:[e.jsx("ellipse",{cx:"128",cy:"156",rx:"72",ry:"84",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"176",rx:"48",ry:"60",fill:"#FFFFFF"}),e.jsx("circle",{cx:"128",cy:"72",r:"48",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"80",rx:"32",ry:"28",fill:"#FFFFFF"}),e.jsx("ellipse",{cx:"114",cy:"68",rx:"8",ry:"12",fill:"#FFFFFF"}),e.jsx("ellipse",{cx:"142",cy:"68",rx:"8",ry:"12",fill:"#FFFFFF"}),e.jsx("circle",{cx:"116",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("circle",{cx:"140",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("path",{d:"M128 76 L116 92 L140 92 Z",fill:"#F4A103"}),e.jsx("path",{d:"M128 84 L118 92 L138 92 Z",fill:"#E08A00"}),e.jsx("ellipse",{cx:"96",cy:"236",rx:"24",ry:"12",fill:"#F4A103"}),e.jsx("ellipse",{cx:"160",cy:"236",rx:"24",ry:"12",fill:"#F4A103"}),e.jsx("ellipse",{cx:"56",cy:"156",rx:"16",ry:"48",fill:"#1a1a1a",transform:"rotate(-15 56 156)"}),e.jsx("ellipse",{cx:"200",cy:"156",rx:"16",ry:"48",fill:"#1a1a1a",transform:"rotate(15 200 156)"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"Linux (x64)"}),e.jsx("p",{className:"text-sm text-gray-500",children:"gatekey-linux-amd64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-darwin-amd64`,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey",children:[e.jsx("svg",{className:"h-8 w-8 mr-3",fill:"#555555",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.1 22C7.79 22.05 6.8 20.68 5.96 19.47C4.25 17 2.94 12.45 4.7 9.39C5.57 7.87 7.13 6.91 8.82 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5M13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"macOS (Intel)"}),e.jsx("p",{className:"text-sm text-gray-500",children:"gatekey-darwin-amd64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-darwin-arm64`,className:"flex items-center p-4 border border-gray-200 rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey",children:[e.jsx("svg",{className:"h-8 w-8 mr-3",fill:"#555555",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.1 22C7.79 22.05 6.8 20.68 5.96 19.47C4.25 17 2.94 12.45 4.7 9.39C5.57 7.87 7.13 6.91 8.82 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5M13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:"macOS (Apple Silicon)"}),e.jsx("p",{className:"text-sm text-gray-500",children:"gatekey-darwin-arm64"})]})]})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Manual Installation"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:"Download the binary for your platform"}),e.jsxs("li",{children:["Make it executable: ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"chmod +x gatekey-*"})]}),e.jsxs("li",{children:["Move to PATH: ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"sudo mv gatekey-* /usr/local/bin/gatekey"})]}),e.jsxs("li",{children:["Verify: ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"gatekey version"})]})]})]})]})}),e.jsx("section",{id:"configure",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Configure GateKey CLI"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Set up the GateKey CLI to connect to your organization's VPN."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Initialize Config"})]}),e.jsxs("code",{className:"text-xs bg-gray-200 px-2 py-1 rounded block",children:["gatekey config init --server ",n]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Login"})]}),e.jsx("code",{className:"text-xs bg-gray-200 px-2 py-1 rounded block",children:"gatekey login"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Connect"})]}),e.jsx("code",{className:"text-xs bg-gray-200 px-2 py-1 rounded block",children:"gatekey connect"})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"4"}),e.jsx("span",{className:"font-medium text-gray-900",children:"Disconnect"})]}),e.jsx("code",{className:"text-xs bg-gray-200 px-2 py-1 rounded block",children:"gatekey disconnect"})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Multi-Gateway Support"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The GateKey client supports connecting to multiple gateways simultaneously. Each gateway gets its own tun interface."}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto mb-4",children:e.jsx("pre",{className:"text-green-400 text-sm",children:`# Connect to multiple gateways
gatekey connect gateway1      # Connect to first gateway (tun0)
gatekey connect gateway2      # Connect to second gateway (tun1)

# Check status
gatekey status                # Shows all active connections

# Disconnect
gatekey disconnect gateway1   # Disconnect from specific gateway
gatekey disconnect --all      # Disconnect from all gateways`})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Configuration File"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["The CLI stores its configuration in ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"~/.gatekey/config.yaml"}),". You can manually edit this file or use the CLI commands."]}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:e.jsx("pre",{className:"text-green-400 text-sm",children:`# View current configuration
gatekey config show

# Set server URL
gatekey config set server ${n}

# Reset configuration
gatekey config reset`})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3 mt-6",children:"CLI Command Reference"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Command"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey login"}),e.jsx("td",{className:"px-4 py-3",children:"Authenticate with SSO (opens browser) or API key (--api-key)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey logout"}),e.jsx("td",{className:"px-4 py-3",children:"Clear saved credentials and session"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey connect [gateway]"}),e.jsx("td",{className:"px-4 py-3",children:"Connect to VPN gateway. Use --mesh <hub> for mesh hubs"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey disconnect [gateway]"}),e.jsx("td",{className:"px-4 py-3",children:"Disconnect from VPN. Use --all to disconnect all"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey status"}),e.jsx("td",{className:"px-4 py-3",children:"Show current connection status and session info"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey list"}),e.jsx("td",{className:"px-4 py-3",children:"List available gateways and mesh hubs"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey config init"}),e.jsx("td",{className:"px-4 py-3",children:"Initialize config with --server URL"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey config show"}),e.jsx("td",{className:"px-4 py-3",children:"Display current configuration"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey config set <key> <value>"}),e.jsx("td",{className:"px-4 py-3",children:"Update configuration setting"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey version"}),e.jsx("td",{className:"px-4 py-3",children:"Show version information"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey fips-check"}),e.jsx("td",{className:"px-4 py-3",children:"Verify FIPS 140-2 compliant OpenSSL library"})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Common Flags"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-700",children:`--server URL     Override server URL from config
--config PATH    Use alternate config file
--api-key KEY    Use API key for authentication (login command)
--no-browser     Print login URL instead of opening browser
--all            Disconnect from all gateways
--mesh HUB       Connect to mesh hub instead of gateway
-o, --output     Output format: table, json, yaml`})})]})}),e.jsx("section",{id:"gateways",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Gateways"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Gateways are VPN entry points that users connect to. Each gateway runs the OpenVPN server and GateKey gateway agent."}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Creating a Gateway"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-gray-600 mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Gateways"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Gateway"})]}),e.jsxs("li",{children:["Enter the gateway details:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"})," Display name for the gateway"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hostname:"})," Public hostname or IP address"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Port:"})," OpenVPN port (default: 1194)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Protocol:"})," UDP (recommended) or TCP"]})]})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Save"})," to create the gateway"]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Gateway Settings"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Setting"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"VPN Subnet"}),e.jsx("td",{className:"px-4 py-3",children:"CIDR for VPN client IPs (default: 172.31.255.0/24)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Crypto Profile"}),e.jsx("td",{className:"px-4 py-3",children:"Encryption settings: Modern (default), FIPS, or Compatible"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Full Tunnel Mode"}),e.jsx("td",{className:"px-4 py-3",children:"Route all traffic through VPN (0.0.0.0/0)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Push DNS"}),e.jsx("td",{className:"px-4 py-3",children:"Push DNS server settings to clients"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"DNS Servers"}),e.jsx("td",{className:"px-4 py-3",children:"Custom DNS servers to push (e.g., 1.1.1.1, 8.8.8.8)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"TLS-Auth"}),e.jsx("td",{className:"px-4 py-3",children:"Enable HMAC signature layer for additional security"})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Tunnel Modes"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Split Tunnel (Default)"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Only routes traffic for permitted networks"}),e.jsx("li",{children:" Internet traffic uses normal connection"}),e.jsx("li",{children:" Routes pushed based on user's access rules"})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Full Tunnel"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Routes ALL traffic through VPN"}),e.jsx("li",{children:" Uses redirect-gateway directive"}),e.jsx("li",{children:" Useful for traffic inspection"})]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Installing Gateway Agent"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"After creating a gateway, install the gateway agent on your VPN server:"}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:e.jsx("pre",{className:"text-green-400 text-sm",children:`# Download the install script from the gateway details page
# Run on your VPN server:
curl -sSL ${n}/scripts/install-gateway.sh | \\
  GATEWAY_TOKEN=<token> bash

# The agent will:
# 1. Install OpenVPN and gatekey-gateway
# 2. Configure the firewall (nftables)
# 3. Register with the control plane
# 4. Start the VPN service`})})]})}),e.jsx("section",{id:"networks",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Networks"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Networks define the CIDR blocks that are reachable through your VPN. Networks are assigned to gateways to advertise routes."}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Creating a Network"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-gray-600 mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Networks"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Network"})]}),e.jsxs("li",{children:["Enter the network details:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"}),' Descriptive name (e.g., "Production Servers")']}),e.jsxs("li",{children:[e.jsx("strong",{children:"CIDR:"})," Network range (e.g., 10.0.0.0/8, 192.168.1.0/24)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Description:"})," Optional description"]})]})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Save"})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Assigning Networks to Gateways"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Networks must be assigned to gateways to be advertised to VPN clients:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-600 mb-6",children:[e.jsxs("li",{children:["Go to ",e.jsx("strong",{children:"Gateways"})," and click ",e.jsx("strong",{children:"Access"})," on the gateway"]}),e.jsxs("li",{children:["Select the ",e.jsx("strong",{children:"Networks"})," tab"]}),e.jsx("li",{children:"Add the networks this gateway should serve"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"How Route Pushing Works"}),e.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"When a user connects, GateKey pushes routes based on their access rules. Only CIDR-type access rules are pushed as routes. This ensures users only receive routes to networks they're permitted to access."})]})]})})]})}),e.jsx("section",{id:"access-rules",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Rules"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Access rules define what specific resources users can reach. GateKey uses a Zero Trust model where all traffic is blocked by default."}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-red-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Default Deny Policy"}),e.jsxs("p",{className:"mt-1 text-sm text-red-700",children:["All traffic is ",e.jsx("strong",{children:"blocked by default"}),". Users can only access resources that are explicitly permitted through access rules."]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Rule Types"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Example"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"IP Address"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"192.168.1.100"})}),e.jsx("td",{className:"px-4 py-3",children:"Single IP address"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"CIDR Range"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"10.0.0.0/24"})}),e.jsx("td",{className:"px-4 py-3",children:"Network range (also pushed as route)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Hostname"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"api.internal.com"})}),e.jsx("td",{className:"px-4 py-3",children:"Exact hostname match"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Wildcard"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"*.internal.com"})}),e.jsx("td",{className:"px-4 py-3",children:"Pattern matching for hostnames"})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Creating Access Rules"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-gray-600 mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Access Rules"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Rule"})]}),e.jsxs("li",{children:["Configure the rule:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"})," Descriptive name for the rule"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Type:"})," IP, CIDR, Hostname, or Wildcard"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Value:"})," The target (IP, network, or hostname)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Ports:"})," Optional port restriction (e.g., 443, 80-8080)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Protocol:"})," TCP, UDP, or Any"]})]})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Save"})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Assigning Rules to Users/Groups"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-600",children:[e.jsxs("li",{children:["On the ",e.jsx("strong",{children:"Access Rules"})," page, click ",e.jsx("strong",{children:"Assign"})," on a rule"]}),e.jsx("li",{children:"Add users or groups that should have this access"}),e.jsx("li",{children:"Rules take effect immediately (within 10 seconds)"})]})]})}),e.jsx("section",{id:"proxy-apps",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Proxy Applications"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Proxy Apps provide clientless access to internal web applications. Users can access internal apps through their browser without installing a VPN client."}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"How It Works"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-600",children:[e.jsx("li",{children:"User authenticates via SSO"}),e.jsxs("li",{children:["User accesses ",e.jsxs("code",{className:"bg-gray-200 px-1 rounded",children:[n,"/proxy/app-slug/"]})]}),e.jsx("li",{children:"GateKey verifies user has permission to access the app"}),e.jsx("li",{children:"Traffic is proxied to the internal application"}),e.jsx("li",{children:"User headers (email, groups) are injected for the backend"})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Creating a Proxy Application"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-gray-600 mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Proxy Apps"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Application"})]}),e.jsxs("li",{children:["Configure the application:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"})," Display name for the app"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Slug:"}),' URL path identifier (e.g., "grafana")']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Internal URL:"})," Backend service URL (e.g., http://grafana:3000)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Description:"})," Optional description"]})]})]}),e.jsx("li",{children:"Assign users, groups, or link to access rules"}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Save"})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Proxy Settings"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Setting"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Preserve Host Header"}),e.jsx("td",{className:"px-4 py-3",children:"Forward original Host header to backend"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Strip Prefix"}),e.jsx("td",{className:"px-4 py-3",children:"Remove /proxy/slug from request path"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"WebSocket Enabled"}),e.jsx("td",{className:"px-4 py-3",children:"Support WebSocket connections"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Timeout"}),e.jsx("td",{className:"px-4 py-3",children:"Request timeout in seconds"})]})]})]})})]})}),e.jsx("section",{id:"oidc-providers",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"OIDC Providers"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Configure OpenID Connect (OIDC) providers to enable Single Sign-On (SSO) authentication with your identity provider."}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Supported Providers"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"p-3 border border-gray-200 rounded-lg text-center",children:e.jsx("p",{className:"font-medium text-gray-900",children:"Okta"})}),e.jsx("div",{className:"p-3 border border-gray-200 rounded-lg text-center",children:e.jsx("p",{className:"font-medium text-gray-900",children:"Azure AD"})}),e.jsx("div",{className:"p-3 border border-gray-200 rounded-lg text-center",children:e.jsx("p",{className:"font-medium text-gray-900",children:"Google"})}),e.jsx("div",{className:"p-3 border border-gray-200 rounded-lg text-center",children:e.jsx("p",{className:"font-medium text-gray-900",children:"Keycloak"})})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Configuring OIDC"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-gray-600 mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Settings  OIDC"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Provider"})]}),e.jsxs("li",{children:["Enter the provider details:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"}),' Display name (e.g., "Okta")']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Issuer URL:"})," OIDC issuer URL"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Client ID:"})," OAuth client ID from your IdP"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Client Secret:"})," OAuth client secret"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Scopes:"}),' Usually "openid profile email groups"']})]})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Save"})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Callback URL"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Configure this callback URL in your identity provider:"}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:e.jsxs("code",{className:"text-green-400 text-sm",children:[n,"/api/v1/auth/oidc/callback"]})})]})}),e.jsx("section",{id:"saml-providers",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"SAML Providers"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Configure SAML 2.0 providers for enterprise Single Sign-On integration."}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Configuring SAML"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-gray-600 mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Settings  SAML"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Provider"})]}),e.jsxs("li",{children:["Enter the provider details:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"})," Display name"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Entity ID:"})," IdP entity ID"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"SSO URL:"})," IdP Single Sign-On URL"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Certificate:"})," IdP signing certificate (X.509)"]})]})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Save"})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Service Provider Metadata"}),e.jsx("p",{className:"text-gray-600 mb-2",children:"Configure these values in your identity provider:"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Entity ID (Audience):"}),e.jsx("code",{className:"text-sm text-gray-600",children:n})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:"ACS URL:"}),e.jsxs("code",{className:"text-sm text-gray-600",children:[n,"/api/v1/auth/saml/acs"]})]})]})]})}),e.jsx("section",{id:"monitoring",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Login Monitoring"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Monitor user authentication events, track login activity, and configure log retention policies."}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Overview"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The Monitoring page provides visibility into all authentication events across your GateKey deployment. Track successful and failed logins, identify suspicious activity, and maintain compliance with audit requirements."}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Login Logs"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" View all authentication events"}),e.jsx("li",{children:" Filter by user, IP, provider, status"}),e.jsx("li",{children:" See IP address and location data"}),e.jsx("li",{children:" Track failed login attempts with reasons"})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Statistics"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Total logins (successful/failed)"}),e.jsx("li",{children:" Unique users and IP addresses"}),e.jsx("li",{children:" Logins by provider (OIDC/SAML/Local)"}),e.jsx("li",{children:" Logins by country/location"})]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Data Captured"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Field"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Timestamp"}),e.jsx("td",{className:"px-4 py-3",children:"Date and time of the login attempt"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"User Email"}),e.jsx("td",{className:"px-4 py-3",children:"Email address of the user"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Provider"}),e.jsx("td",{className:"px-4 py-3",children:"Authentication provider (OIDC, SAML, Local)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"IP Address"}),e.jsx("td",{className:"px-4 py-3",children:"Client's public IP address"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Location"}),e.jsx("td",{className:"px-4 py-3",children:"Country and city (when available)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Status"}),e.jsx("td",{className:"px-4 py-3",children:"Success or failure with reason"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"User Agent"}),e.jsx("td",{className:"px-4 py-3",children:"Browser/client information"})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Log Retention"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Configure how long login logs are retained in the database. Logs older than the retention period are automatically deleted by a background job that runs every 6 hours."}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("ul",{className:"space-y-2 text-gray-600 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Default:"})," 30 days"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Minimum:"})," 1 day"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Forever:"})," Set to 0 to keep logs indefinitely"]})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Manual Purge"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"You can manually purge logs older than a specified number of days from the Settings tab. This is useful for immediately clearing old data or complying with data retention policies."}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Warning"}),e.jsx("p",{className:"mt-1 text-sm text-yellow-700",children:"Purging logs is irreversible. Once deleted, login history cannot be recovered."})]})]})})]})}),e.jsx("section",{id:"admin-configs",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin Config Management"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Administrators can view and manage all VPN configurations across all users from a centralized dashboard."}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Overview"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The Admin All Configs page provides administrators with a complete view of every VPN configuration generated across the organization. This includes both standard gateway configs and mesh VPN configs, with full visibility into who generated each config and when."}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Gateway Configs"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" View all gateway VPN configurations"}),e.jsx("li",{children:" See user email and name for each config"}),e.jsx("li",{children:" Filter by user, status (active/revoked/expired)"}),e.jsx("li",{children:" Revoke any active configuration"})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Mesh Configs"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" View all mesh hub VPN configurations"}),e.jsx("li",{children:" See user ownership for each config"}),e.jsx("li",{children:" Track expiration and download status"}),e.jsx("li",{children:" Revoke mesh configs as needed"})]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Information Displayed"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Field"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"User"}),e.jsx("td",{className:"px-4 py-3",children:"Email and display name of the user who generated the config"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Gateway/Hub"}),e.jsx("td",{className:"px-4 py-3",children:"The VPN gateway or mesh hub the config connects to"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"File Name"}),e.jsx("td",{className:"px-4 py-3",children:"The generated .ovpn configuration file name"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Created"}),e.jsx("td",{className:"px-4 py-3",children:"When the configuration was generated"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Expires"}),e.jsx("td",{className:"px-4 py-3",children:"When the configuration will expire"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Status"}),e.jsx("td",{className:"px-4 py-3",children:"Active, Revoked, or Expired"})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Accessing Config Management"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-600 mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration"})," in the sidebar"]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"All Configs"})]}),e.jsx("li",{children:"Use the tabs to switch between Gateway and Mesh configs"}),e.jsx("li",{children:"Use filters to find specific configs by user or status"})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Revoking Configurations"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Administrators can revoke any active VPN configuration. When a config is revoked:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600 mb-6",children:[e.jsx("li",{children:"The user will no longer be able to connect using that configuration"}),e.jsx("li",{children:"The certificate associated with the config is marked as invalid"}),e.jsx("li",{children:"A reason for revocation can be recorded for audit purposes"}),e.jsx("li",{children:'The config remains visible with a "Revoked" status'})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Tip"}),e.jsx("p",{className:"mt-1 text-sm text-blue-700",children:'You can also view and revoke configs for a specific user from the Users page by clicking on a user and going to the "VPN Configs" tab.'})]})]})})]})}),e.jsx("section",{id:"api-keys",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"API Keys"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"API keys provide programmatic access to GateKey without browser-based SSO. They're ideal for automation, CI/CD pipelines, headless servers, and CLI usage."}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"API Key Format"}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("code",{className:"text-sm text-gray-700 font-mono",children:"gk_<base64-encoded-random-bytes>"}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:["Example: ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"gk_dGhpcyBpcyBhIHNhbXBsZSBhcGkga2V5..."})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Security Notice"}),e.jsxs("p",{className:"mt-1 text-sm text-yellow-700",children:["The full API key is only shown ",e.jsx("strong",{children:"once"})," at creation time. Store it securely - it cannot be retrieved later."]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Creating API Keys"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-600 mb-6",children:[e.jsxs("li",{children:["Navigate to your ",e.jsx("strong",{children:"User Profile"})," (click your name in the top right)"]}),e.jsxs("li",{children:["Go to the ",e.jsx("strong",{children:"API Keys"})," tab"]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Create API Key"})]}),e.jsx("li",{children:'Enter a descriptive name (e.g., "CI/CD Pipeline", "Laptop CLI")'}),e.jsx("li",{children:"Optionally set an expiration time"}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Create"})]}),e.jsx("li",{children:e.jsx("strong",{children:"Copy and save the API key immediately"})})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Using API Keys"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-700",children:`# GateKey Client
gatekey login --api-key gk_your_api_key_here
gatekey connect

# Admin CLI
gatekey-admin login --api-key gk_your_api_key_here
gatekey-admin gateway list

# Direct API Access
curl -H "Authorization: Bearer gk_your_api_key_here" \\
  ${n}/api/v1/gateways`})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Available Scopes"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Scope"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"*"}),e.jsx("td",{className:"px-4 py-3",children:"Full access (default for user-created keys)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"read:gateways"}),e.jsx("td",{className:"px-4 py-3",children:"List and view gateways"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"write:gateways"}),e.jsx("td",{className:"px-4 py-3",children:"Create, update, delete gateways"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"vpn:connect"}),e.jsx("td",{className:"px-4 py-3",children:"Generate VPN configurations and connect"})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Best Practices"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-gray-600",children:[e.jsx("li",{children:"Use scopes to limit what each key can do (principle of least privilege)"}),e.jsx("li",{children:"Rotate keys periodically (every 90 days recommended)"}),e.jsx("li",{children:"Never commit API keys to version control"}),e.jsx("li",{children:"Use secrets management systems (Vault, AWS Secrets Manager)"}),e.jsx("li",{children:'Monitor "Last Used" timestamps and revoke unused keys'})]})]})}),e.jsx("section",{id:"admin-cli",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Admin CLI (gatekey-admin)"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"The Admin CLI provides command-line administration for GateKey deployments, enabling management of gateways, networks, access rules, users, API keys, and mesh networking."}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Quick Start"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-700",children:`# 1. Download and install (see Downloads section above)
chmod +x gatekey-admin && sudo mv gatekey-admin /usr/local/bin/

# 2. Initialize with your server URL
gatekey-admin config init --server ${n}

# 3. Authenticate (opens browser for SSO)
gatekey-admin login

# Or authenticate with API key
gatekey-admin login --api-key gk_your_api_key_here

# 4. Start managing
gatekey-admin gateway list
gatekey-admin user list`})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Available Commands"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Gateway Management"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 font-mono",children:[e.jsx("li",{children:"gateway list"}),e.jsx("li",{children:"gateway create"}),e.jsx("li",{children:"gateway update <id>"}),e.jsx("li",{children:"gateway delete <id>"}),e.jsx("li",{children:"gateway reprovision <id>"})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Network & Access"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 font-mono",children:[e.jsx("li",{children:"network list|create|delete"}),e.jsx("li",{children:"access-rule list|create|delete"})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"User Management"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 font-mono",children:[e.jsx("li",{children:"user list"}),e.jsx("li",{children:"user get <id>"}),e.jsx("li",{children:"user revoke-configs <id>"}),e.jsx("li",{children:"local-user list|create|delete"})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"API Key Management"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 font-mono",children:[e.jsx("li",{children:"api-key list [--user EMAIL]"}),e.jsx("li",{children:"api-key create NAME"}),e.jsx("li",{children:"api-key revoke <id>"}),e.jsx("li",{children:"api-key revoke-all --user EMAIL"})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Mesh Networking"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 font-mono",children:[e.jsx("li",{children:"mesh hub list|create|delete"}),e.jsx("li",{children:"mesh hub provision <id>"}),e.jsx("li",{children:"mesh spoke list|create|delete"}),e.jsx("li",{children:"mesh spoke provision <id>"})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Certificates & Audit"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1 font-mono",children:[e.jsx("li",{children:"ca show|rotate|list"}),e.jsx("li",{children:"audit list [--action X]"}),e.jsx("li",{children:"connection list|disconnect"})]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Output Formats"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-700",children:`# Table format (default)
gatekey-admin gateway list

# JSON format
gatekey-admin gateway list -o json

# YAML format
gatekey-admin gateway list -o yaml`})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Configuration"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Configuration is stored in ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"~/.gatekey-admin/config.yaml"}),":"]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-700",children:`server_url: ${n}
api_key: gk_your_api_key_here
output: table`})})]})}),e.jsx("section",{id:"diagnostics",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Diagnostics"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Network troubleshooting tools and remote session management for debugging connectivity issues across your VPN infrastructure."}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Network Tools"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Run network diagnostics from the control plane or any connected hub, gateway, or spoke. Access via ",e.jsx("strong",{children:"Administration  Diagnostics  Network Tools"}),"."]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Available Tools"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"ping"})," - Test connectivity to a host"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"nslookup"})," - DNS resolution lookup"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"traceroute"})," - Trace network path"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"nc (netcat)"})," - TCP port connectivity test"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"nmap"})," - Port scanning"]})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Execution Locations"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Control Plane"})," - Run from the central server"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Gateways"})," - Run from VPN gateways"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Mesh Hubs"})," - Run from hub servers"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Mesh Spokes"})," - Run from spoke clients"]})]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Remote Sessions"}),e.jsxs("p",{className:"text-gray-600 mb-4",children:["Connect to and execute shell commands on remote hubs, gateways, and spokes. Access via ",e.jsx("strong",{children:"Administration  Diagnostics  Remote Sessions"}),"."]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"How It Works"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-2",children:[e.jsxs("li",{children:[" Agents connect ",e.jsx("strong",{children:"outbound"})," to the control plane (no inbound firewall rules needed)"]}),e.jsxs("li",{children:[" Enable remote sessions by setting ",e.jsx("code",{className:"bg-gray-200 px-1 rounded",children:"session_enabled: true"})," in agent config"]}),e.jsx("li",{children:" Connected agents appear in the Remote Sessions list"}),e.jsx("li",{children:' Click "Connect" to open an interactive terminal'})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"CLI Commands"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-700",children:`# Network Troubleshooting
gatekey-admin troubleshoot ping 8.8.8.8
gatekey-admin troubleshoot nslookup google.com
gatekey-admin troubleshoot traceroute 10.0.0.1
gatekey-admin troubleshoot nc api.internal.com 443
gatekey-admin troubleshoot nmap 10.0.0.1 --ports 22,80,443

# Remote Sessions
gatekey-admin session list              # List connected agents
gatekey-admin session exec hub-1 "ip addr"  # Execute single command
gatekey-admin session connect hub-1     # Interactive shell`})})]})}),e.jsx("section",{id:"mesh",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Mesh Networking"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Connect remote sites and networks using a hub-and-spoke VPN mesh. Mesh networking allows gateways behind NAT to connect to a central hub, enabling site-to-site connectivity without inbound firewall rules."}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Architecture Overview"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-700",children:`                 
                   Control Plane  
                    (GateKey UI)  
                 
                           API / Config Sync
                          
                 
                    Mesh Hub       OpenVPN Server
                   (gatekey-hub)      Runs on public endpoint
                 
                          
         
                                         
                                         
    
   Spoke A        Spoke B        Spoke C   
  10.0.0.0/8    192.168.0/24   172.16.0/16 
    
  Home Lab         AWS VPC         Office Network`})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Key Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Spoke-Initiated Connections"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Spokes connect TO the hub (outbound)"}),e.jsx("li",{children:" Works behind NAT/firewalls"}),e.jsx("li",{children:" No inbound ports required on spokes"})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Standalone Hub"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Hub runs separately from control plane"}),e.jsx("li",{children:" Deploy on any public server or cloud VM"}),e.jsx("li",{children:" Syncs configuration from control plane"})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Zero-Trust Access"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Fine-grained user/group access control"}),e.jsx("li",{children:" Per-spoke network permissions"}),e.jsx("li",{children:" Routes pushed based on access rules"})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Dynamic Routing"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Spokes advertise local networks"}),e.jsx("li",{children:" Hub aggregates and distributes routes"}),e.jsx("li",{children:" Automatic route updates"})]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Setting Up a Mesh Hub"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-gray-600 mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Mesh"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Hub"})," and configure:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"}),' Display name for the hub (e.g., "primary-hub")']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Public Endpoint:"})," Hostname or IP where spokes will connect"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"VPN Port:"})," OpenVPN port (default: 1194)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"VPN Protocol:"})," UDP (recommended) or TCP"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"VPN Subnet:"})," Tunnel IP range (e.g., 172.30.0.0/16)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Crypto Profile:"})," FIPS, Modern, or Compatible"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"TLS-Auth:"})," Enable for additional HMAC security layer (recommended)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Full Tunnel Mode:"})," Route all client traffic through hub"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Push DNS:"})," Push DNS servers to connected clients"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"DNS Servers:"})," Custom DNS servers (defaults to 1.1.1.1, 8.8.8.8)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Local Networks:"})," Networks directly reachable from the hub"]})]})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Save the API Token"})," - shown only once at creation"]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Install Script"})," to get the deployment script"]}),e.jsxs("li",{children:["Run the install script on your hub server:",e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto mt-2",children:e.jsx("code",{className:"text-green-400 text-sm",children:"sudo bash install-hub.sh"})})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Adding Mesh Spokes"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-gray-600 mb-6",children:[e.jsxs("li",{children:["In the ",e.jsx("strong",{children:"Mesh"})," page, switch to the ",e.jsx("strong",{children:"Spokes"})," tab"]}),e.jsx("li",{children:"Select the hub this spoke will connect to"}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Spoke"})," and configure:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"}),' Identifier for this spoke (e.g., "home-lab")']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Description:"})," Optional description"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Local Networks:"})," CIDR blocks behind this spoke (e.g., 10.0.0.0/8)"]})]})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Save the Spoke Token"})," - shown only once"]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Install Script"})," for the deployment script"]}),e.jsxs("li",{children:["Run on your spoke server:",e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto mt-2",children:e.jsx("code",{className:"text-green-400 text-sm",children:"sudo bash install-mesh-spoke.sh"})})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"How It Works"}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-blue-800 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Spoke Connects:"})," Mesh spoke initiates OpenVPN connection to hub"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Authentication:"})," Spoke authenticates using its provisioned certificate"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Route Advertisement:"})," Spoke tells hub about its local networks via ",e.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"iroute"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hub Aggregates:"})," Hub collects routes from all spokes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Traffic Routing:"})," Traffic between sites flows through the hub"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Control Plane Sync:"})," Hub periodically syncs access rules and config"]})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Mesh Binaries"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Binary"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey-hub"}),e.jsx("td",{className:"px-4 py-3",children:"Runs on the central hub server. Manages OpenVPN server and syncs with control plane."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey-mesh-gateway"}),e.jsx("td",{className:"px-4 py-3",children:"Runs on remote sites. Connects to hub and advertises local networks."})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Access Control"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Mesh networking supports fine-grained access control at both the hub and spoke level, allowing you to control which users can connect and which networks they can access."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Hub Access Control"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Control who can connect to the mesh network as a VPN client."}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Assign users directly to hub"}),e.jsx("li",{children:" Assign groups for team access"}),e.jsx("li",{children:" Users without access cannot generate mesh configs"})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Spoke Access Control"}),e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Control who can route traffic to networks behind each spoke."}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Per-spoke user/group assignments"}),e.jsx("li",{children:" Limit access to specific CIDR ranges"}),e.jsx("li",{children:" Fine-grained network segmentation"})]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Managing Hub Access"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-600 mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Mesh"})]}),e.jsxs("li",{children:["On the ",e.jsx("strong",{children:"Hubs"})," tab, click the actions menu on a hub"]}),e.jsxs("li",{children:["Select ",e.jsx("strong",{children:"Manage Access"})]}),e.jsx("li",{children:"Add users or groups that should be able to connect to this mesh network"}),e.jsx("li",{children:"Users can then generate VPN configs from the Connect page"})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Managing Spoke Access"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-600 mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Mesh  Spokes"})]}),e.jsx("li",{children:"Select the hub and find the spoke you want to configure"}),e.jsxs("li",{children:["Click the actions menu and select ",e.jsx("strong",{children:"Manage Access"})]}),e.jsx("li",{children:"The modal shows the networks accessible via this spoke"}),e.jsx("li",{children:"Add users or groups that should have access to these networks"})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Example: Network Segmentation"}),e.jsxs("p",{className:"mt-1 text-sm text-blue-700",children:["A spoke advertises networks ",e.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"10.0.0.0/24"})," (prod) and ",e.jsx("code",{className:"bg-blue-100 px-1 rounded",children:"10.0.1.0/24"}),' (dev). You can assign the "Developers" group to the spoke so they can access both networks, while the "QA" group only gets access via a different spoke that only advertises the dev network.']})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Connecting as a Client"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Users with hub access can download VPN configs to connect to the mesh network:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-600 mb-6",children:[e.jsxs("li",{children:["Navigate to the ",e.jsx("strong",{children:"Connect"})," page"]}),e.jsxs("li",{children:["Switch to the ",e.jsx("strong",{children:"Mesh Networks"})," tab"]}),e.jsx("li",{children:"Find the mesh hub you have access to"}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Download Config"})]}),e.jsxs("li",{children:["Import the ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:".ovpn"})," file into your OpenVPN client"]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Using the GateKey CLI"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"The GateKey CLI provides commands for connecting to mesh networks:"}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto mb-6",children:e.jsx("pre",{className:"text-green-400 text-sm",children:`# List available mesh hubs
gatekey mesh list

# Connect to a mesh hub
gatekey connect --mesh primary-hub

# Check connection status
gatekey status

# Disconnect
gatekey disconnect primary-hub`})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Troubleshooting"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Spoke Won't Connect"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Verify hub endpoint is reachable from spoke"}),e.jsx("li",{children:" Check firewall allows outbound UDP/1194 (or configured port)"}),e.jsx("li",{children:" Verify spoke token is correct"}),e.jsxs("li",{children:[" Check logs: ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"journalctl -u gatekey-mesh-gateway -f"})]})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Hub Shows Offline"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Verify hub can reach control plane"}),e.jsxs("li",{children:[" Check hub service: ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"systemctl status gatekey-hub"})]}),e.jsx("li",{children:" Verify API token is correct in hub config"}),e.jsxs("li",{children:[" Check logs: ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"journalctl -u gatekey-hub -f"})]})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Routes Not Working"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Verify spoke's local networks are correctly configured"}),e.jsx("li",{children:" Check IP forwarding is enabled on hub and spokes"}),e.jsx("li",{children:" Verify firewall rules allow forwarded traffic"}),e.jsxs("li",{children:[" Check OpenVPN routing: ",e.jsx("code",{className:"bg-gray-100 px-1 rounded",children:"ip route show"})]})]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Client Can't Access Spoke Networks"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Verify user has hub access (Manage Access  Users/Groups)"}),e.jsx("li",{children:" Check network is assigned to hub (Manage Access  Networks)"}),e.jsx("li",{children:" Verify user has access rules for the target network"}),e.jsx("li",{children:" Regenerate VPN config after making access changes"})]})]})]})]})}),e.jsx("section",{id:"general",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"General Settings"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Configure global settings for your GateKey deployment."}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Setting"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Session Timeout"}),e.jsx("td",{className:"px-4 py-3",children:"How long user sessions remain valid"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Config Validity"}),e.jsx("td",{className:"px-4 py-3",children:"Expiration time for generated VPN configs (default: 24 hours)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Default Crypto Profile"}),e.jsx("td",{className:"px-4 py-3",children:"Default encryption profile for new gateways"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Audit Logging"}),e.jsx("td",{className:"px-4 py-3",children:"Enable/disable detailed audit logging"})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-6 mb-3",children:"Crypto Profiles"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Profile"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Ciphers"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Use Case"})]})}),e.jsxs("tbody",{className:"bg-white divide-y divide-gray-200 text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Modern"}),e.jsx("td",{className:"px-4 py-3",children:"AES-256-GCM, CHACHA20-POLY1305"}),e.jsx("td",{className:"px-4 py-3",children:"Default, best performance"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"FIPS"}),e.jsx("td",{className:"px-4 py-3",children:"AES-256-GCM, AES-128-GCM"}),e.jsx("td",{className:"px-4 py-3",children:"FIPS 140-3 compliance"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Compatible"}),e.jsx("td",{className:"px-4 py-3",children:"AES-256-GCM, AES-128-GCM, AES-256-CBC, AES-128-CBC"}),e.jsx("td",{className:"px-4 py-3",children:"Legacy client support"})]})]})]})})]})}),e.jsx("section",{id:"certificate-ca",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Certificate Authority (CA)"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"GateKey includes an embedded Certificate Authority for issuing VPN certificates. Manage your CA from the Settings page."}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"How the CA Works"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:e.jsxs("ul",{className:"space-y-2 text-gray-600",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"GateKey generates a root CA on first startup"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Client certificates are issued on-demand when generating configs"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Certificates are short-lived (default: 24 hours) for security"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Gateways receive their server certificates during provisioning"]})]})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"CA Operations"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Download CA Certificate"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Download the CA public certificate. This can be used to verify certificates or for manual client configuration."})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Rotate CA"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Generate a new CA certificate and key. ",e.jsx("strong",{className:"text-red-600",children:"Warning:"})," This will invalidate all existing certificates. All gateways will need to reprovision and all active VPN connections will be terminated."]})]}),e.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Import CA"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Import an existing CA certificate and private key. Useful for migrating from another PKI system or using an enterprise CA."})]})]}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mt-6 mb-3",children:"Best Practices"}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:e.jsxs("ul",{className:"space-y-2 text-sm text-yellow-800",children:[e.jsx("li",{children:" Keep certificate validity short (24 hours recommended) to limit exposure"}),e.jsx("li",{children:" Rotate the CA periodically (annually) as part of security hygiene"}),e.jsx("li",{children:" Back up the CA certificate and key securely"}),e.jsx("li",{children:" Monitor audit logs for unusual certificate generation patterns"})]})})]})}),e.jsx("section",{className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Permission Flow"}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-6 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-700",children:`User requests VPN connection
        
        

 Is user assigned to gateway?  NO Connection Denied

                 YES
                

 Generate short-lived config   
 (certificate valid 24 hours)  

                
                

 Gateway verifies on connect:  
 - Certificate valid?          NO Connection Rejected
 - User still has access?      

                 YES
                

 Apply firewall rules:         
 - Default: DENY ALL           
 - Allow: user's access rules  

                
                

 User can only reach resources 
 permitted by their rules      
`})})]})})]})]})}function _1({isOpen:n,onToggle:r}){const{user:i,logout:o}=Ks(),u=Jt(),x=[{name:"Dashboard",href:"/",icon:"home"},{name:"Connect",href:"/connect",icon:"vpn"},{name:"Web Access",href:"/web-access",icon:"web"},{name:"My Configs",href:"/my-configs",icon:"configs"},{name:"API Keys",href:"/api-keys",icon:"key"}],f=[{label:"Identity & Access",items:[{name:"Users",href:"/admin/users",icon:"users"},{name:"OIDC Providers",href:"/admin/settings/oidc",icon:"oidc"},{name:"SAML Providers",href:"/admin/settings/saml",icon:"saml"}]},{label:"Network",items:[{name:"Topology",href:"/admin/topology",icon:"topology"},{name:"Gateways",href:"/admin/gateways",icon:"server"},{name:"Mesh",href:"/admin/mesh",icon:"mesh"},{name:"Networks",href:"/admin/networks",icon:"globe"},{name:"Access Rules",href:"/admin/access-rules",icon:"shield"}]},{label:"Applications",items:[{name:"Proxy Apps",href:"/admin/proxy-apps",icon:"apps"}]},{label:"Diagnostics",items:[{name:"Network Tools",href:"/admin/network-tools",icon:"tools"},{name:"Remote Sessions",href:"/admin/remote-sessions",icon:"terminal"}]},{label:"System",items:[{name:"Monitoring",href:"/admin/monitoring",icon:"monitoring"},{name:"All Configs",href:"/admin/configs",icon:"configs"},{name:"VPN Settings",href:"/admin/settings/general",icon:"cog"},{name:"Certificate CA",href:"/admin/settings/ca",icon:"certificate"}]}],v=p=>p==="/"?u.pathname==="/":u.pathname.startsWith(p),j=p=>{switch(p){case"home":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})});case"vpn":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})});case"web":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})});case"users":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})});case"server":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"})});case"globe":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})});case"shield":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})});case"apps":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})});case"cog":return e.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]});case"oidc":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})});case"saml":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})});case"certificate":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})});case"configs":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});case"key":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})});case"monitoring":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})});case"mesh":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})});case"topology":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})});case"tools":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065zM15 12a3 3 0 11-6 0 3 3 0 016 0z"})});case"terminal":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});default:return null}};return e.jsxs(e.Fragment,{children:[n&&e.jsx("div",{className:"fixed inset-0 z-40 lg:hidden",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:r}),e.jsx("aside",{className:`fixed top-0 left-0 z-50 h-full bg-white shadow-lg transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:static lg:z-auto ${n?"w-64":"lg:w-20"}`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[e.jsx(it,{to:"/",className:"flex items-center",children:e.jsx("img",{src:n?"/logo.png":"/logo-small.png",alt:"GateKey",className:`transition-all duration-300 object-contain ${n?"h-20":"h-10 lg:mx-auto"}`})}),e.jsx("button",{onClick:r,className:"hidden lg:flex items-center justify-center w-8 h-8 rounded-md hover:bg-gray-100 text-gray-500",title:n?"Collapse sidebar":"Expand sidebar",children:e.jsx("svg",{className:`h-5 w-5 transition-transform duration-300 ${n?"":"rotate-180"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),e.jsx("button",{onClick:r,className:"lg:hidden flex items-center justify-center w-8 h-8 rounded-md hover:bg-gray-100 text-gray-500",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto py-4",children:[e.jsx("div",{className:"px-3 space-y-1",children:x.map(p=>e.jsxs(it,{to:p.href,className:`flex items-center px-3 py-2.5 rounded-lg transition-colors ${v(p.href)?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,title:n?void 0:p.name,children:[e.jsx("span",{className:`flex-shrink-0 ${v(p.href)?"text-primary-600":"text-gray-500"}`,children:j(p.icon)}),e.jsx("span",{className:`ml-3 font-medium transition-opacity duration-300 ${n?"opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:p.name})]},p.name))}),i?.isAdmin&&e.jsx(e.Fragment,{children:f.map((p,g)=>e.jsxs("div",{children:[e.jsx("div",{className:`${g===0?"mt-6":"mt-4"} px-3 ${n?"":"lg:px-2"}`,children:e.jsx("div",{className:`flex items-center text-xs font-semibold text-gray-400 uppercase tracking-wider ${n?"px-3":"lg:justify-center"}`,children:n?p.label:e.jsx("span",{className:"hidden lg:block w-8 h-0.5 bg-gray-300 rounded"})})}),e.jsx("div",{className:"mt-2 px-3 space-y-1",children:p.items.map(y=>e.jsxs(it,{to:y.href,className:`flex items-center px-3 py-2.5 rounded-lg transition-colors ${v(y.href)?"bg-primary-50 text-primary-700":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"}`,title:n?void 0:y.name,children:[e.jsx("span",{className:`flex-shrink-0 ${v(y.href)?"text-primary-600":"text-gray-500"}`,children:j(y.icon)}),e.jsx("span",{className:`ml-3 font-medium transition-opacity duration-300 ${n?"opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:y.name})]},y.name))})]},p.label))})]}),e.jsxs("div",{className:"border-t border-gray-200 p-3 space-y-1",children:[e.jsxs(it,{to:"/help",className:"flex items-center px-3 py-2.5 rounded-lg text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors",title:n?void 0:"Help",children:[e.jsx("svg",{className:"h-5 w-5 text-gray-500 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:`ml-3 font-medium transition-opacity duration-300 ${n?"opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:"Help"})]}),e.jsxs("button",{onClick:o,className:"w-full flex items-center px-3 py-2.5 rounded-lg text-gray-600 hover:bg-gray-100 hover:text-gray-900 transition-colors",title:n?void 0:"Sign out",children:[e.jsx("svg",{className:"h-5 w-5 text-gray-500 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),e.jsx("span",{className:`ml-3 font-medium transition-opacity duration-300 ${n?"opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:"Sign out"})]})]})]})})]})}function tt({children:n}){const{user:r}=Ks(),[i,o]=m.useState(()=>{if(typeof window<"u"&&window.innerWidth>=1024){const u=localStorage.getItem("sidebarOpen");return u!==null?u==="true":!0}return!1});return m.useEffect(()=>{window.innerWidth>=1024&&localStorage.setItem("sidebarOpen",String(i))},[i]),m.useEffect(()=>{const u=()=>{window.innerWidth<1024&&o(!1)};return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]),e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsx(_1,{isOpen:i,onToggle:()=>o(!i)}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[e.jsx("header",{className:"bg-white shadow-sm sticky top-0 z-30",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>o(!i),className:"lg:hidden p-2 rounded-md text-gray-500 hover:text-gray-600 hover:bg-gray-100",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),e.jsx("img",{src:"/logo.png",alt:"GateKey",className:"h-16 ml-2 lg:hidden"})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"hidden sm:flex items-center text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Signed in as"}),e.jsx("span",{className:"ml-1 font-medium text-gray-900",children:r?.email})]})})]})})}),e.jsx("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:n})}),e.jsx("footer",{className:"bg-white border-t border-gray-200 mt-auto",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("p",{className:"text-sm text-gray-500 text-center sm:text-left",children:"GateKey - Zero Trust VPN with Software Defined Perimeter"})})})})]})]})}function en({children:n}){const{user:r,loading:i}=Ks();return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?e.jsx(e.Fragment,{children:n}):e.jsx(tn,{to:"/login",replace:!0})}function qt({children:n}){const{user:r,loading:i}=Ks();return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?r.isAdmin?e.jsx(e.Fragment,{children:n}):e.jsx(tn,{to:"/",replace:!0}):e.jsx(tn,{to:"/login",replace:!0})}function U1(){return e.jsxs(by,{children:[e.jsx(Ge,{path:"/login",element:e.jsx(Mb,{})}),e.jsx(Ge,{path:"/",element:e.jsx(en,{children:e.jsx(tt,{children:e.jsx(Lb,{})})})}),e.jsx(Ge,{path:"/connect",element:e.jsx(en,{children:e.jsx(tt,{children:e.jsx(Rb,{})})})}),e.jsx(Ge,{path:"/web-access",element:e.jsx(en,{children:e.jsx(tt,{children:e.jsx(Tb,{})})})}),e.jsx(Ge,{path:"/my-configs",element:e.jsx(en,{children:e.jsx(tt,{children:e.jsx(Db,{})})})}),e.jsx(Ge,{path:"/api-keys",element:e.jsx(en,{children:e.jsx(tt,{children:e.jsx(_b,{})})})}),e.jsx(Ge,{path:"/configs",element:e.jsx(tn,{to:"/connect",replace:!0})}),e.jsx(Ge,{path:"/admin/settings",element:e.jsx(tn,{to:"/admin/settings/oidc",replace:!0})}),e.jsx(Ge,{path:"/admin/settings/:tab",element:e.jsx(qt,{children:e.jsx(tt,{children:e.jsx(Hb,{})})})}),e.jsx(Ge,{path:"/admin/users",element:e.jsx(qt,{children:e.jsx(tt,{children:e.jsx($b,{})})})}),e.jsx(Ge,{path:"/admin/gateways",element:e.jsx(qt,{children:e.jsx(tt,{children:e.jsx(Wb,{})})})}),e.jsx(Ge,{path:"/admin/networks",element:e.jsx(qt,{children:e.jsx(tt,{children:e.jsx(n1,{})})})}),e.jsx(Ge,{path:"/admin/access-rules",element:e.jsx(qt,{children:e.jsx(tt,{children:e.jsx(i1,{})})})}),e.jsx(Ge,{path:"/admin/proxy-apps",element:e.jsx(qt,{children:e.jsx(tt,{children:e.jsx(o1,{})})})}),e.jsx(Ge,{path:"/admin/monitoring",element:e.jsx(qt,{children:e.jsx(tt,{children:e.jsx(m1,{})})})}),e.jsx(Ge,{path:"/admin/mesh",element:e.jsx(qt,{children:e.jsx(tt,{children:e.jsx(x1,{})})})}),e.jsx(Ge,{path:"/admin/topology",element:e.jsx(qt,{children:e.jsx(tt,{children:e.jsx(M1,{})})})}),e.jsx(Ge,{path:"/admin/network-tools",element:e.jsx(qt,{children:e.jsx(tt,{children:e.jsx(L1,{})})})}),e.jsx(Ge,{path:"/admin/remote-sessions",element:e.jsx(qt,{children:e.jsx(tt,{children:e.jsx(T1,{})})})}),e.jsx(Ge,{path:"/admin/configs",element:e.jsx(qt,{children:e.jsx(tt,{children:e.jsx(N1,{})})})}),e.jsx(Ge,{path:"/help",element:e.jsx(en,{children:e.jsx(tt,{children:e.jsx(D1,{})})})}),e.jsx(Ge,{path:"*",element:e.jsx(tn,{to:"/",replace:!0})})]})}function O1(){return e.jsx(Eb,{children:e.jsx(U1,{})})}wg.createRoot(document.getElementById("root")).render(e.jsx(fg.StrictMode,{children:e.jsx(Yy,{children:e.jsx(O1,{})})}));
//# sourceMappingURL=index-CFi5Gir-.js.map
