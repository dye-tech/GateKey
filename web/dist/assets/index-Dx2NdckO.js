(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))o(m);new MutationObserver(m=>{for(const h of m)if(h.type==="childList")for(const x of h.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&o(x)}).observe(document,{childList:!0,subtree:!0});function i(m){const h={};return m.integrity&&(h.integrity=m.integrity),m.referrerPolicy&&(h.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?h.credentials="include":m.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(m){if(m.ep)return;m.ep=!0;const h=i(m);fetch(m.href,h)}})();function qx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var go={exports:{}},nr={};var ex;function gy(){if(ex)return nr;ex=1;var n=Symbol.for("react.transitional.element"),l=Symbol.for("react.fragment");function i(o,m,h){var x=null;if(h!==void 0&&(x=""+h),m.key!==void 0&&(x=""+m.key),"key"in m){h={};for(var v in m)v!=="key"&&(h[v]=m[v])}else h=m;return m=h.ref,{$$typeof:n,type:o,key:x,ref:m!==void 0?m:null,props:h}}return nr.Fragment=l,nr.jsx=i,nr.jsxs=i,nr}var tx;function vy(){return tx||(tx=1,go.exports=gy()),go.exports}var e=vy(),vo={exports:{}},fe={};var sx;function by(){if(sx)return fe;sx=1;var n=Symbol.for("react.transitional.element"),l=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),x=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.activity"),C=Symbol.iterator;function O(j){return j===null||typeof j!="object"?null:(j=C&&j[C]||j["@@iterator"],typeof j=="function"?j:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,A={};function M(j,K,ie){this.props=j,this.context=K,this.refs=A,this.updater=ie||w}M.prototype.isReactComponent={},M.prototype.setState=function(j,K){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,K,"setState")},M.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function U(){}U.prototype=M.prototype;function B(j,K,ie){this.props=j,this.context=K,this.refs=A,this.updater=ie||w}var z=B.prototype=new U;z.constructor=B,k(z,M.prototype),z.isPureReactComponent=!0;var G=Array.isArray;function R(){}var T={H:null,A:null,T:null,S:null},se=Object.prototype.hasOwnProperty;function J(j,K,ie){var V=ie.ref;return{$$typeof:n,type:j,key:K,ref:V!==void 0?V:null,props:ie}}function Y(j,K){return J(j.type,K,j.props)}function te(j){return typeof j=="object"&&j!==null&&j.$$typeof===n}function re(j){var K={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(ie){return K[ie]})}var I=/\/+/g;function D(j,K){return typeof j=="object"&&j!==null&&j.key!=null?re(""+j.key):K.toString(36)}function E(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(R,R):(j.status="pending",j.then(function(K){j.status==="pending"&&(j.status="fulfilled",j.value=K)},function(K){j.status==="pending"&&(j.status="rejected",j.reason=K)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function S(j,K,ie,V,le){var he=typeof j;(he==="undefined"||he==="boolean")&&(j=null);var ye=!1;if(j===null)ye=!0;else switch(he){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(j.$$typeof){case n:case l:ye=!0;break;case f:return ye=j._init,S(ye(j._payload),K,ie,V,le)}}if(ye)return le=le(j),ye=V===""?"."+D(j,0):V,G(le)?(ie="",ye!=null&&(ie=ye.replace(I,"$&/")+"/"),S(le,K,ie,"",function(It){return It})):le!=null&&(te(le)&&(le=Y(le,ie+(le.key==null||j&&j.key===le.key?"":(""+le.key).replace(I,"$&/")+"/")+ye)),K.push(le)),1;ye=0;var Fe=V===""?".":V+":";if(G(j))for(var Ue=0;Ue<j.length;Ue++)V=j[Ue],he=Fe+D(V,Ue),ye+=S(V,K,ie,he,le);else if(Ue=O(j),typeof Ue=="function")for(j=Ue.call(j),Ue=0;!(V=j.next()).done;)V=V.value,he=Fe+D(V,Ue++),ye+=S(V,K,ie,he,le);else if(he==="object"){if(typeof j.then=="function")return S(E(j),K,ie,V,le);throw K=String(j),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return ye}function W(j,K,ie){if(j==null)return j;var V=[],le=0;return S(j,V,"","",function(he){return K.call(ie,he,le++)}),V}function F(j){if(j._status===-1){var K=j._result;K=K(),K.then(function(ie){(j._status===0||j._status===-1)&&(j._status=1,j._result=ie)},function(ie){(j._status===0||j._status===-1)&&(j._status=2,j._result=ie)}),j._status===-1&&(j._status=0,j._result=K)}if(j._status===1)return j._result.default;throw j._result}var me=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},pe={map:W,forEach:function(j,K,ie){W(j,function(){K.apply(this,arguments)},ie)},count:function(j){var K=0;return W(j,function(){K++}),K},toArray:function(j){return W(j,function(K){return K})||[]},only:function(j){if(!te(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return fe.Activity=g,fe.Children=pe,fe.Component=M,fe.Fragment=i,fe.Profiler=m,fe.PureComponent=B,fe.StrictMode=o,fe.Suspense=b,fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,fe.__COMPILER_RUNTIME={__proto__:null,c:function(j){return T.H.useMemoCache(j)}},fe.cache=function(j){return function(){return j.apply(null,arguments)}},fe.cacheSignal=function(){return null},fe.cloneElement=function(j,K,ie){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var V=k({},j.props),le=j.key;if(K!=null)for(he in K.key!==void 0&&(le=""+K.key),K)!se.call(K,he)||he==="key"||he==="__self"||he==="__source"||he==="ref"&&K.ref===void 0||(V[he]=K[he]);var he=arguments.length-2;if(he===1)V.children=ie;else if(1<he){for(var ye=Array(he),Fe=0;Fe<he;Fe++)ye[Fe]=arguments[Fe+2];V.children=ye}return J(j.type,le,V)},fe.createContext=function(j){return j={$$typeof:x,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:h,_context:j},j},fe.createElement=function(j,K,ie){var V,le={},he=null;if(K!=null)for(V in K.key!==void 0&&(he=""+K.key),K)se.call(K,V)&&V!=="key"&&V!=="__self"&&V!=="__source"&&(le[V]=K[V]);var ye=arguments.length-2;if(ye===1)le.children=ie;else if(1<ye){for(var Fe=Array(ye),Ue=0;Ue<ye;Ue++)Fe[Ue]=arguments[Ue+2];le.children=Fe}if(j&&j.defaultProps)for(V in ye=j.defaultProps,ye)le[V]===void 0&&(le[V]=ye[V]);return J(j,he,le)},fe.createRef=function(){return{current:null}},fe.forwardRef=function(j){return{$$typeof:v,render:j}},fe.isValidElement=te,fe.lazy=function(j){return{$$typeof:f,_payload:{_status:-1,_result:j},_init:F}},fe.memo=function(j,K){return{$$typeof:y,type:j,compare:K===void 0?null:K}},fe.startTransition=function(j){var K=T.T,ie={};T.T=ie;try{var V=j(),le=T.S;le!==null&&le(ie,V),typeof V=="object"&&V!==null&&typeof V.then=="function"&&V.then(R,me)}catch(he){me(he)}finally{K!==null&&ie.types!==null&&(K.types=ie.types),T.T=K}},fe.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},fe.use=function(j){return T.H.use(j)},fe.useActionState=function(j,K,ie){return T.H.useActionState(j,K,ie)},fe.useCallback=function(j,K){return T.H.useCallback(j,K)},fe.useContext=function(j){return T.H.useContext(j)},fe.useDebugValue=function(){},fe.useDeferredValue=function(j,K){return T.H.useDeferredValue(j,K)},fe.useEffect=function(j,K){return T.H.useEffect(j,K)},fe.useEffectEvent=function(j){return T.H.useEffectEvent(j)},fe.useId=function(){return T.H.useId()},fe.useImperativeHandle=function(j,K,ie){return T.H.useImperativeHandle(j,K,ie)},fe.useInsertionEffect=function(j,K){return T.H.useInsertionEffect(j,K)},fe.useLayoutEffect=function(j,K){return T.H.useLayoutEffect(j,K)},fe.useMemo=function(j,K){return T.H.useMemo(j,K)},fe.useOptimistic=function(j,K){return T.H.useOptimistic(j,K)},fe.useReducer=function(j,K,ie){return T.H.useReducer(j,K,ie)},fe.useRef=function(j){return T.H.useRef(j)},fe.useState=function(j){return T.H.useState(j)},fe.useSyncExternalStore=function(j,K,ie){return T.H.useSyncExternalStore(j,K,ie)},fe.useTransition=function(){return T.H.useTransition()},fe.version="19.2.3",fe}var ax;function Po(){return ax||(ax=1,vo.exports=by()),vo.exports}var u=Po();const jy=qx(u);var bo={exports:{}},rr={},jo={exports:{}},No={};var nx;function Ny(){return nx||(nx=1,(function(n){function l(S,W){var F=S.length;S.push(W);e:for(;0<F;){var me=F-1>>>1,pe=S[me];if(0<m(pe,W))S[me]=W,S[F]=pe,F=me;else break e}}function i(S){return S.length===0?null:S[0]}function o(S){if(S.length===0)return null;var W=S[0],F=S.pop();if(F!==W){S[0]=F;e:for(var me=0,pe=S.length,j=pe>>>1;me<j;){var K=2*(me+1)-1,ie=S[K],V=K+1,le=S[V];if(0>m(ie,F))V<pe&&0>m(le,ie)?(S[me]=le,S[V]=F,me=V):(S[me]=ie,S[K]=F,me=K);else if(V<pe&&0>m(le,F))S[me]=le,S[V]=F,me=V;else break e}}return W}function m(S,W){var F=S.sortIndex-W.sortIndex;return F!==0?F:S.id-W.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var x=Date,v=x.now();n.unstable_now=function(){return x.now()-v}}var b=[],y=[],f=1,g=null,C=3,O=!1,w=!1,k=!1,A=!1,M=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function z(S){for(var W=i(y);W!==null;){if(W.callback===null)o(y);else if(W.startTime<=S)o(y),W.sortIndex=W.expirationTime,l(b,W);else break;W=i(y)}}function G(S){if(k=!1,z(S),!w)if(i(b)!==null)w=!0,R||(R=!0,re());else{var W=i(y);W!==null&&E(G,W.startTime-S)}}var R=!1,T=-1,se=5,J=-1;function Y(){return A?!0:!(n.unstable_now()-J<se)}function te(){if(A=!1,R){var S=n.unstable_now();J=S;var W=!0;try{e:{w=!1,k&&(k=!1,U(T),T=-1),O=!0;var F=C;try{t:{for(z(S),g=i(b);g!==null&&!(g.expirationTime>S&&Y());){var me=g.callback;if(typeof me=="function"){g.callback=null,C=g.priorityLevel;var pe=me(g.expirationTime<=S);if(S=n.unstable_now(),typeof pe=="function"){g.callback=pe,z(S),W=!0;break t}g===i(b)&&o(b),z(S)}else o(b);g=i(b)}if(g!==null)W=!0;else{var j=i(y);j!==null&&E(G,j.startTime-S),W=!1}}break e}finally{g=null,C=F,O=!1}W=void 0}}finally{W?re():R=!1}}}var re;if(typeof B=="function")re=function(){B(te)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,D=I.port2;I.port1.onmessage=te,re=function(){D.postMessage(null)}}else re=function(){M(te,0)};function E(S,W){T=M(function(){S(n.unstable_now())},W)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(S){S.callback=null},n.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<S?Math.floor(1e3/S):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_next=function(S){switch(C){case 1:case 2:case 3:var W=3;break;default:W=C}var F=C;C=W;try{return S()}finally{C=F}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(S,W){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var F=C;C=S;try{return W()}finally{C=F}},n.unstable_scheduleCallback=function(S,W,F){var me=n.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?me+F:me):F=me,S){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=F+pe,S={id:f++,callback:W,priorityLevel:S,startTime:F,expirationTime:pe,sortIndex:-1},F>me?(S.sortIndex=F,l(y,S),i(b)===null&&S===i(y)&&(k?(U(T),T=-1):k=!0,E(G,F-me))):(S.sortIndex=pe,l(b,S),w||O||(w=!0,R||(R=!0,re()))),S},n.unstable_shouldYield=Y,n.unstable_wrapCallback=function(S){var W=C;return function(){var F=C;C=W;try{return S.apply(this,arguments)}finally{C=F}}}})(No)),No}var rx;function wy(){return rx||(rx=1,jo.exports=Ny()),jo.exports}var wo={exports:{}},ct={};var lx;function ky(){if(lx)return ct;lx=1;var n=Po();function l(b){var y="https://react.dev/errors/"+b;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)y+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+b+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(l(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},m=Symbol.for("react.portal");function h(b,y,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:g==null?null:""+g,children:b,containerInfo:y,implementation:f}}var x=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(b,y){if(b==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return ct.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,ct.createPortal=function(b,y){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(l(299));return h(b,y,null,f)},ct.flushSync=function(b){var y=x.T,f=o.p;try{if(x.T=null,o.p=2,b)return b()}finally{x.T=y,o.p=f,o.d.f()}},ct.preconnect=function(b,y){typeof b=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,o.d.C(b,y))},ct.prefetchDNS=function(b){typeof b=="string"&&o.d.D(b)},ct.preinit=function(b,y){if(typeof b=="string"&&y&&typeof y.as=="string"){var f=y.as,g=v(f,y.crossOrigin),C=typeof y.integrity=="string"?y.integrity:void 0,O=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;f==="style"?o.d.S(b,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:g,integrity:C,fetchPriority:O}):f==="script"&&o.d.X(b,{crossOrigin:g,integrity:C,fetchPriority:O,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},ct.preinitModule=function(b,y){if(typeof b=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var f=v(y.as,y.crossOrigin);o.d.M(b,{crossOrigin:f,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&o.d.M(b)},ct.preload=function(b,y){if(typeof b=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var f=y.as,g=v(f,y.crossOrigin);o.d.L(b,f,{crossOrigin:g,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},ct.preloadModule=function(b,y){if(typeof b=="string")if(y){var f=v(y.as,y.crossOrigin);o.d.m(b,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:f,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else o.d.m(b)},ct.requestFormReset=function(b){o.d.r(b)},ct.unstable_batchedUpdates=function(b,y){return b(y)},ct.useFormState=function(b,y,f){return x.H.useFormState(b,y,f)},ct.useFormStatus=function(){return x.H.useHostTransitionStatus()},ct.version="19.2.3",ct}var ix;function Fx(){if(ix)return wo.exports;ix=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),wo.exports=ky(),wo.exports}var cx;function Sy(){if(cx)return rr;cx=1;var n=wy(),l=Po(),i=Fx();function o(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function x(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function v(t){if(t.tag===31){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function b(t){if(h(t)!==t)throw Error(o(188))}function y(t){var s=t.alternate;if(!s){if(s=h(t),s===null)throw Error(o(188));return s!==t?null:t}for(var a=t,r=s;;){var c=a.return;if(c===null)break;var d=c.alternate;if(d===null){if(r=c.return,r!==null){a=r;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===a)return b(c),t;if(d===r)return b(c),s;d=d.sibling}throw Error(o(188))}if(a.return!==r.return)a=c,r=d;else{for(var p=!1,N=c.child;N;){if(N===a){p=!0,a=c,r=d;break}if(N===r){p=!0,r=c,a=d;break}N=N.sibling}if(!p){for(N=d.child;N;){if(N===a){p=!0,a=d,r=c;break}if(N===r){p=!0,r=d,a=c;break}N=N.sibling}if(!p)throw Error(o(189))}}if(a.alternate!==r)throw Error(o(190))}if(a.tag!==3)throw Error(o(188));return a.stateNode.current===a?t:s}function f(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=f(t),s!==null)return s;t=t.sibling}return null}var g=Object.assign,C=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),B=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),te=Symbol.iterator;function re(t){return t===null||typeof t!="object"?null:(t=te&&t[te]||t["@@iterator"],typeof t=="function"?t:null)}var I=Symbol.for("react.client.reference");function D(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===I?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case M:return"Profiler";case A:return"StrictMode";case G:return"Suspense";case R:return"SuspenseList";case J:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case B:return t.displayName||"Context";case U:return(t._context.displayName||"Context")+".Consumer";case z:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case T:return s=t.displayName||null,s!==null?s:D(t.type)||"Memo";case se:s=t._payload,t=t._init;try{return D(t(s))}catch{}}return null}var E=Array.isArray,S=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},me=[],pe=-1;function j(t){return{current:t}}function K(t){0>pe||(t.current=me[pe],me[pe]=null,pe--)}function ie(t,s){pe++,me[pe]=t.current,t.current=s}var V=j(null),le=j(null),he=j(null),ye=j(null);function Fe(t,s){switch(ie(he,s),ie(le,t),ie(V,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?wh(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=wh(s),t=kh(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}K(V),ie(V,t)}function Ue(){K(V),K(le),K(he)}function It(t){t.memoizedState!==null&&ie(ye,t);var s=V.current,a=kh(s,t.type);s!==a&&(ie(le,t),ie(V,a))}function ce(t){le.current===t&&(K(V),K(le)),ye.current===t&&(K(ye),er._currentValue=F)}var Ve,fr;function Is(t){if(Ve===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);Ve=s&&s[1]||"",fr=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ve+t+fr}var ei=!1;function ti(t,s){if(!t||ei)return"";ei=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(s){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var $=Q}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Q){$=Q}t.call(ne.prototype)}}else{try{throw Error()}catch(Q){$=Q}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=r.DetermineComponentFrameRoot(),p=d[0],N=d[1];if(p&&N){var L=p.split(`
`),q=N.split(`
`);for(c=r=0;r<L.length&&!L[r].includes("DetermineComponentFrameRoot");)r++;for(;c<q.length&&!q[c].includes("DetermineComponentFrameRoot");)c++;if(r===L.length||c===q.length)for(r=L.length-1,c=q.length-1;1<=r&&0<=c&&L[r]!==q[c];)c--;for(;1<=r&&0<=c;r--,c--)if(L[r]!==q[c]){if(r!==1||c!==1)do if(r--,c--,0>c||L[r]!==q[c]){var ee=`
`+L[r].replace(" at new "," at ");return t.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",t.displayName)),ee}while(1<=r&&0<=c);break}}}finally{ei=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Is(a):""}function Ip(t,s){switch(t.tag){case 26:case 27:case 5:return Is(t.type);case 16:return Is("Lazy");case 13:return t.child!==s&&s!==null?Is("Suspense Fallback"):Is("Suspense");case 19:return Is("SuspenseList");case 0:case 15:return ti(t.type,!1);case 11:return ti(t.type.render,!1);case 1:return ti(t.type,!0);case 31:return Is("Activity");default:return""}}function ed(t){try{var s="",a=null;do s+=Ip(t,a),a=t,t=t.return;while(t);return s}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var si=Object.prototype.hasOwnProperty,ai=n.unstable_scheduleCallback,ni=n.unstable_cancelCallback,Xp=n.unstable_shouldYield,Qp=n.unstable_requestPaint,bt=n.unstable_now,Zp=n.unstable_getCurrentPriorityLevel,td=n.unstable_ImmediatePriority,sd=n.unstable_UserBlockingPriority,yr=n.unstable_NormalPriority,Wp=n.unstable_LowPriority,ad=n.unstable_IdlePriority,Jp=n.log,ef=n.unstable_setDisableYieldValue,un=null,jt=null;function js(t){if(typeof Jp=="function"&&ef(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(un,t)}catch{}}var Nt=Math.clz32?Math.clz32:af,tf=Math.log,sf=Math.LN2;function af(t){return t>>>=0,t===0?32:31-(tf(t)/sf|0)|0}var gr=256,vr=262144,br=4194304;function Xs(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function jr(t,s,a){var r=t.pendingLanes;if(r===0)return 0;var c=0,d=t.suspendedLanes,p=t.pingedLanes;t=t.warmLanes;var N=r&134217727;return N!==0?(r=N&~d,r!==0?c=Xs(r):(p&=N,p!==0?c=Xs(p):a||(a=N&~t,a!==0&&(c=Xs(a))))):(N=r&~d,N!==0?c=Xs(N):p!==0?c=Xs(p):a||(a=r&~t,a!==0&&(c=Xs(a)))),c===0?0:s!==0&&s!==c&&(s&d)===0&&(d=c&-c,a=s&-s,d>=a||d===32&&(a&4194048)!==0)?s:c}function hn(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function nf(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nd(){var t=br;return br<<=1,(br&62914560)===0&&(br=4194304),t}function ri(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function xn(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rf(t,s,a,r,c,d){var p=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var N=t.entanglements,L=t.expirationTimes,q=t.hiddenUpdates;for(a=p&~a;0<a;){var ee=31-Nt(a),ne=1<<ee;N[ee]=0,L[ee]=-1;var $=q[ee];if($!==null)for(q[ee]=null,ee=0;ee<$.length;ee++){var Q=$[ee];Q!==null&&(Q.lane&=-536870913)}a&=~ne}r!==0&&rd(t,r,0),d!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=d&~(p&~s))}function rd(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var r=31-Nt(s);t.entangledLanes|=s,t.entanglements[r]=t.entanglements[r]|1073741824|a&261930}function ld(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var r=31-Nt(a),c=1<<r;c&s|t[r]&s&&(t[r]|=s),a&=~c}}function id(t,s){var a=s&-s;return a=(a&42)!==0?1:li(a),(a&(t.suspendedLanes|s))!==0?0:a}function li(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ii(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function cd(){var t=W.p;return t!==0?t:(t=window.event,t===void 0?32:Kh(t.type))}function od(t,s){var a=W.p;try{return W.p=t,s()}finally{W.p=a}}var Ns=Math.random().toString(36).slice(2),st="__reactFiber$"+Ns,mt="__reactProps$"+Ns,fa="__reactContainer$"+Ns,ci="__reactEvents$"+Ns,lf="__reactListeners$"+Ns,cf="__reactHandles$"+Ns,dd="__reactResources$"+Ns,pn="__reactMarker$"+Ns;function oi(t){delete t[st],delete t[mt],delete t[ci],delete t[lf],delete t[cf]}function ya(t){var s=t[st];if(s)return s;for(var a=t.parentNode;a;){if(s=a[fa]||a[st]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Rh(t);t!==null;){if(a=t[st])return a;t=Rh(t)}return s}t=a,a=t.parentNode}return null}function ga(t){if(t=t[st]||t[fa]){var s=t.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return t}return null}function fn(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(o(33))}function va(t){var s=t[dd];return s||(s=t[dd]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Je(t){t[pn]=!0}var md=new Set,ud={};function Qs(t,s){ba(t,s),ba(t+"Capture",s)}function ba(t,s){for(ud[t]=s,t=0;t<s.length;t++)md.add(s[t])}var of=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hd={},xd={};function df(t){return si.call(xd,t)?!0:si.call(hd,t)?!1:of.test(t)?xd[t]=!0:(hd[t]=!0,!1)}function Nr(t,s,a){if(df(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var r=s.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function wr(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function ts(t,s,a,r){if(r===null)t.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+r)}}function Tt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function pd(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function mf(t,s,a){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,s);if(!t.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,d=r.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return c.call(this)},set:function(p){a=""+p,d.call(this,p)}}),Object.defineProperty(t,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function di(t){if(!t._valueTracker){var s=pd(t)?"checked":"value";t._valueTracker=mf(t,s,""+t[s])}}function fd(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),r="";return t&&(r=pd(t)?t.checked?"true":"false":t.value),t=r,t!==a?(s.setValue(t),!0):!1}function kr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var uf=/[\n"\\]/g;function Dt(t){return t.replace(uf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function mi(t,s,a,r,c,d,p,N){t.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?t.type=p:t.removeAttribute("type"),s!=null?p==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+Tt(s)):t.value!==""+Tt(s)&&(t.value=""+Tt(s)):p!=="submit"&&p!=="reset"||t.removeAttribute("value"),s!=null?ui(t,p,Tt(s)):a!=null?ui(t,p,Tt(a)):r!=null&&t.removeAttribute("value"),c==null&&d!=null&&(t.defaultChecked=!!d),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?t.name=""+Tt(N):t.removeAttribute("name")}function yd(t,s,a,r,c,d,p,N){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),s!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){di(t);return}a=a!=null?""+Tt(a):"",s=s!=null?""+Tt(s):a,N||s===t.value||(t.value=s),t.defaultValue=s}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=N?t.checked:!!r,t.defaultChecked=!!r,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.name=p),di(t)}function ui(t,s,a){s==="number"&&kr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function ja(t,s,a,r){if(t=t.options,s){s={};for(var c=0;c<a.length;c++)s["$"+a[c]]=!0;for(a=0;a<t.length;a++)c=s.hasOwnProperty("$"+t[a].value),t[a].selected!==c&&(t[a].selected=c),c&&r&&(t[a].defaultSelected=!0)}else{for(a=""+Tt(a),s=null,c=0;c<t.length;c++){if(t[c].value===a){t[c].selected=!0,r&&(t[c].defaultSelected=!0);return}s!==null||t[c].disabled||(s=t[c])}s!==null&&(s.selected=!0)}}function gd(t,s,a){if(s!=null&&(s=""+Tt(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+Tt(a):""}function vd(t,s,a,r){if(s==null){if(r!=null){if(a!=null)throw Error(o(92));if(E(r)){if(1<r.length)throw Error(o(93));r=r[0]}a=r}a==null&&(a=""),s=a}a=Tt(s),t.defaultValue=a,r=t.textContent,r===a&&r!==""&&r!==null&&(t.value=r),di(t)}function Na(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var hf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function bd(t,s,a){var r=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":r?t.setProperty(s,a):typeof a!="number"||a===0||hf.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function jd(t,s,a){if(s!=null&&typeof s!="object")throw Error(o(62));if(t=t.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||s!=null&&s.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var c in s)r=s[c],s.hasOwnProperty(c)&&a[c]!==r&&bd(t,c,r)}else for(var d in s)s.hasOwnProperty(d)&&bd(t,d,s[d])}function hi(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),pf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sr(t){return pf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ss(){}var xi=null;function pi(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wa=null,ka=null;function Nd(t){var s=ga(t);if(s&&(t=s.stateNode)){var a=t[mt]||null;e:switch(t=s.stateNode,s.type){case"input":if(mi(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Dt(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var r=a[s];if(r!==t&&r.form===t.form){var c=r[mt]||null;if(!c)throw Error(o(90));mi(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(s=0;s<a.length;s++)r=a[s],r.form===t.form&&fd(r)}break e;case"textarea":gd(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&ja(t,!!a.multiple,s,!1)}}}var fi=!1;function wd(t,s,a){if(fi)return t(s,a);fi=!0;try{var r=t(s);return r}finally{if(fi=!1,(wa!==null||ka!==null)&&(ul(),wa&&(s=wa,t=ka,ka=wa=null,Nd(s),t)))for(s=0;s<t.length;s++)Nd(t[s])}}function yn(t,s){var a=t.stateNode;if(a===null)return null;var r=a[mt]||null;if(r===null)return null;a=r[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(o(231,s,typeof a));return a}var as=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yi=!1;if(as)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){yi=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{yi=!1}var ws=null,gi=null,Cr=null;function kd(){if(Cr)return Cr;var t,s=gi,a=s.length,r,c="value"in ws?ws.value:ws.textContent,d=c.length;for(t=0;t<a&&s[t]===c[t];t++);var p=a-t;for(r=1;r<=p&&s[a-r]===c[d-r];r++);return Cr=c.slice(t,1<r?1-r:void 0)}function Ar(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Er(){return!0}function Sd(){return!1}function ut(t){function s(a,r,c,d,p){this._reactName=a,this._targetInst=c,this.type=r,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var N in t)t.hasOwnProperty(N)&&(a=t[N],this[N]=a?a(d):d[N]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Er:Sd,this.isPropagationStopped=Sd,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),s}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mr=ut(Zs),vn=g({},Zs,{view:0,detail:0}),ff=ut(vn),vi,bi,bn,Lr=g({},vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ni,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bn&&(bn&&t.type==="mousemove"?(vi=t.screenX-bn.screenX,bi=t.screenY-bn.screenY):bi=vi=0,bn=t),vi)},movementY:function(t){return"movementY"in t?t.movementY:bi}}),Cd=ut(Lr),yf=g({},Lr,{dataTransfer:0}),gf=ut(yf),vf=g({},vn,{relatedTarget:0}),ji=ut(vf),bf=g({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),jf=ut(bf),Nf=g({},Zs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wf=ut(Nf),kf=g({},Zs,{data:0}),Ad=ut(kf),Sf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Af={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ef(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=Af[t])?!!s[t]:!1}function Ni(){return Ef}var Mf=g({},vn,{key:function(t){if(t.key){var s=Sf[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Ar(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cf[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ni,charCode:function(t){return t.type==="keypress"?Ar(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ar(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Lf=ut(Mf),Rf=g({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ed=ut(Rf),Tf=g({},vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ni}),Df=ut(Tf),_f=g({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Uf=ut(_f),Of=g({},Lr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),zf=ut(Of),Hf=g({},Zs,{newState:0,oldState:0}),Bf=ut(Hf),Gf=[9,13,27,32],wi=as&&"CompositionEvent"in window,jn=null;as&&"documentMode"in document&&(jn=document.documentMode);var Vf=as&&"TextEvent"in window&&!jn,Md=as&&(!wi||jn&&8<jn&&11>=jn),Ld=" ",Rd=!1;function Td(t,s){switch(t){case"keyup":return Gf.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Sa=!1;function Pf(t,s){switch(t){case"compositionend":return Dd(s);case"keypress":return s.which!==32?null:(Rd=!0,Ld);case"textInput":return t=s.data,t===Ld&&Rd?null:t;default:return null}}function qf(t,s){if(Sa)return t==="compositionend"||!wi&&Td(t,s)?(t=kd(),Cr=gi=ws=null,Sa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Md&&s.locale!=="ko"?null:s.data;default:return null}}var Ff={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _d(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!Ff[t.type]:s==="textarea"}function Ud(t,s,a,r){wa?ka?ka.push(r):ka=[r]:wa=r,s=vl(s,"onChange"),0<s.length&&(a=new Mr("onChange","change",null,a,r),t.push({event:a,listeners:s}))}var Nn=null,wn=null;function $f(t){yh(t,0)}function Rr(t){var s=fn(t);if(fd(s))return t}function Od(t,s){if(t==="change")return s}var zd=!1;if(as){var ki;if(as){var Si="oninput"in document;if(!Si){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),Si=typeof Hd.oninput=="function"}ki=Si}else ki=!1;zd=ki&&(!document.documentMode||9<document.documentMode)}function Bd(){Nn&&(Nn.detachEvent("onpropertychange",Gd),wn=Nn=null)}function Gd(t){if(t.propertyName==="value"&&Rr(wn)){var s=[];Ud(s,wn,t,pi(t)),wd($f,s)}}function Yf(t,s,a){t==="focusin"?(Bd(),Nn=s,wn=a,Nn.attachEvent("onpropertychange",Gd)):t==="focusout"&&Bd()}function Kf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rr(wn)}function If(t,s){if(t==="click")return Rr(s)}function Xf(t,s){if(t==="input"||t==="change")return Rr(s)}function Qf(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var wt=typeof Object.is=="function"?Object.is:Qf;function kn(t,s){if(wt(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),r=Object.keys(s);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var c=a[r];if(!si.call(s,c)||!wt(t[c],s[c]))return!1}return!0}function Vd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pd(t,s){var a=Vd(t);t=0;for(var r;a;){if(a.nodeType===3){if(r=t+a.textContent.length,t<=s&&r>=s)return{node:a,offset:s-t};t=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Vd(a)}}function qd(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?qd(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Fd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=kr(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=kr(t.document)}return s}function Ci(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var Zf=as&&"documentMode"in document&&11>=document.documentMode,Ca=null,Ai=null,Sn=null,Ei=!1;function $d(t,s,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ei||Ca==null||Ca!==kr(r)||(r=Ca,"selectionStart"in r&&Ci(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sn&&kn(Sn,r)||(Sn=r,r=vl(Ai,"onSelect"),0<r.length&&(s=new Mr("onSelect","select",null,s,a),t.push({event:s,listeners:r}),s.target=Ca)))}function Ws(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var Aa={animationend:Ws("Animation","AnimationEnd"),animationiteration:Ws("Animation","AnimationIteration"),animationstart:Ws("Animation","AnimationStart"),transitionrun:Ws("Transition","TransitionRun"),transitionstart:Ws("Transition","TransitionStart"),transitioncancel:Ws("Transition","TransitionCancel"),transitionend:Ws("Transition","TransitionEnd")},Mi={},Yd={};as&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function Js(t){if(Mi[t])return Mi[t];if(!Aa[t])return t;var s=Aa[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Yd)return Mi[t]=s[a];return t}var Kd=Js("animationend"),Id=Js("animationiteration"),Xd=Js("animationstart"),Wf=Js("transitionrun"),Jf=Js("transitionstart"),e0=Js("transitioncancel"),Qd=Js("transitionend"),Zd=new Map,Li="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Li.push("scrollEnd");function qt(t,s){Zd.set(t,s),Qs(s,[t])}var Tr=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},_t=[],Ea=0,Ri=0;function Dr(){for(var t=Ea,s=Ri=Ea=0;s<t;){var a=_t[s];_t[s++]=null;var r=_t[s];_t[s++]=null;var c=_t[s];_t[s++]=null;var d=_t[s];if(_t[s++]=null,r!==null&&c!==null){var p=r.pending;p===null?c.next=c:(c.next=p.next,p.next=c),r.pending=c}d!==0&&Wd(a,c,d)}}function _r(t,s,a,r){_t[Ea++]=t,_t[Ea++]=s,_t[Ea++]=a,_t[Ea++]=r,Ri|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function Ti(t,s,a,r){return _r(t,s,a,r),Ur(t)}function ea(t,s){return _r(t,null,null,s),Ur(t)}function Wd(t,s,a){t.lanes|=a;var r=t.alternate;r!==null&&(r.lanes|=a);for(var c=!1,d=t.return;d!==null;)d.childLanes|=a,r=d.alternate,r!==null&&(r.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(c=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,c&&s!==null&&(c=31-Nt(a),t=d.hiddenUpdates,r=t[c],r===null?t[c]=[s]:r.push(s),s.lane=a|536870912),d):null}function Ur(t){if(50<Kn)throw Kn=0,Vc=null,Error(o(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var Ma={};function t0(t,s,a,r){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(t,s,a,r){return new t0(t,s,a,r)}function Di(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ns(t,s){var a=t.alternate;return a===null?(a=kt(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jd(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function Or(t,s,a,r,c,d){var p=0;if(r=t,typeof t=="function")Di(t)&&(p=1);else if(typeof t=="string")p=ly(t,a,V.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case J:return t=kt(31,a,s,c),t.elementType=J,t.lanes=d,t;case k:return ta(a.children,c,d,s);case A:p=8,c|=24;break;case M:return t=kt(12,a,s,c|2),t.elementType=M,t.lanes=d,t;case G:return t=kt(13,a,s,c),t.elementType=G,t.lanes=d,t;case R:return t=kt(19,a,s,c),t.elementType=R,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case B:p=10;break e;case U:p=9;break e;case z:p=11;break e;case T:p=14;break e;case se:p=16,r=null;break e}p=29,a=Error(o(130,t===null?"null":typeof t,"")),r=null}return s=kt(p,a,s,c),s.elementType=t,s.type=r,s.lanes=d,s}function ta(t,s,a,r){return t=kt(7,t,r,s),t.lanes=a,t}function _i(t,s,a){return t=kt(6,t,null,s),t.lanes=a,t}function em(t){var s=kt(18,null,null,0);return s.stateNode=t,s}function Ui(t,s,a){return s=kt(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var tm=new WeakMap;function Ut(t,s){if(typeof t=="object"&&t!==null){var a=tm.get(t);return a!==void 0?a:(s={value:t,source:s,stack:ed(s)},tm.set(t,s),s)}return{value:t,source:s,stack:ed(s)}}var La=[],Ra=0,zr=null,Cn=0,Ot=[],zt=0,ks=null,Xt=1,Qt="";function rs(t,s){La[Ra++]=Cn,La[Ra++]=zr,zr=t,Cn=s}function sm(t,s,a){Ot[zt++]=Xt,Ot[zt++]=Qt,Ot[zt++]=ks,ks=t;var r=Xt;t=Qt;var c=32-Nt(r)-1;r&=~(1<<c),a+=1;var d=32-Nt(s)+c;if(30<d){var p=c-c%5;d=(r&(1<<p)-1).toString(32),r>>=p,c-=p,Xt=1<<32-Nt(s)+c|a<<c|r,Qt=d+t}else Xt=1<<d|a<<c|r,Qt=t}function Oi(t){t.return!==null&&(rs(t,1),sm(t,1,0))}function zi(t){for(;t===zr;)zr=La[--Ra],La[Ra]=null,Cn=La[--Ra],La[Ra]=null;for(;t===ks;)ks=Ot[--zt],Ot[zt]=null,Qt=Ot[--zt],Ot[zt]=null,Xt=Ot[--zt],Ot[zt]=null}function am(t,s){Ot[zt++]=Xt,Ot[zt++]=Qt,Ot[zt++]=ks,Xt=s.id,Qt=s.overflow,ks=t}var at=null,Oe=null,Se=!1,Ss=null,Ht=!1,Hi=Error(o(519));function Cs(t){var s=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw An(Ut(s,t)),Hi}function nm(t){var s=t.stateNode,a=t.type,r=t.memoizedProps;switch(s[st]=t,s[mt]=r,a){case"dialog":Ne("cancel",s),Ne("close",s);break;case"iframe":case"object":case"embed":Ne("load",s);break;case"video":case"audio":for(a=0;a<Xn.length;a++)Ne(Xn[a],s);break;case"source":Ne("error",s);break;case"img":case"image":case"link":Ne("error",s),Ne("load",s);break;case"details":Ne("toggle",s);break;case"input":Ne("invalid",s),yd(s,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ne("invalid",s);break;case"textarea":Ne("invalid",s),vd(s,r.value,r.defaultValue,r.children)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||r.suppressHydrationWarning===!0||jh(s.textContent,a)?(r.popover!=null&&(Ne("beforetoggle",s),Ne("toggle",s)),r.onScroll!=null&&Ne("scroll",s),r.onScrollEnd!=null&&Ne("scrollend",s),r.onClick!=null&&(s.onclick=ss),s=!0):s=!1,s||Cs(t,!0)}function rm(t){for(at=t.return;at;)switch(at.tag){case 5:case 31:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:at=at.return}}function Ta(t){if(t!==at)return!1;if(!Se)return rm(t),Se=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||so(t.type,t.memoizedProps)),a=!a),a&&Oe&&Cs(t),rm(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Oe=Lh(t)}else if(s===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(317));Oe=Lh(t)}else s===27?(s=Oe,Gs(t.type)?(t=io,io=null,Oe=t):Oe=s):Oe=at?Gt(t.stateNode.nextSibling):null;return!0}function sa(){Oe=at=null,Se=!1}function Bi(){var t=Ss;return t!==null&&(ft===null?ft=t:ft.push.apply(ft,t),Ss=null),t}function An(t){Ss===null?Ss=[t]:Ss.push(t)}var Gi=j(null),aa=null,ls=null;function As(t,s,a){ie(Gi,s._currentValue),s._currentValue=a}function is(t){t._currentValue=Gi.current,K(Gi)}function Vi(t,s,a){for(;t!==null;){var r=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,r!==null&&(r.childLanes|=s)):r!==null&&(r.childLanes&s)!==s&&(r.childLanes|=s),t===a)break;t=t.return}}function Pi(t,s,a,r){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var d=c.dependencies;if(d!==null){var p=c.child;d=d.firstContext;e:for(;d!==null;){var N=d;d=c;for(var L=0;L<s.length;L++)if(N.context===s[L]){d.lanes|=a,N=d.alternate,N!==null&&(N.lanes|=a),Vi(d.return,a,t),r||(p=null);break e}d=N.next}}else if(c.tag===18){if(p=c.return,p===null)throw Error(o(341));p.lanes|=a,d=p.alternate,d!==null&&(d.lanes|=a),Vi(p,a,t),p=null}else p=c.child;if(p!==null)p.return=c;else for(p=c;p!==null;){if(p===t){p=null;break}if(c=p.sibling,c!==null){c.return=p.return,p=c;break}p=p.return}c=p}}function Da(t,s,a,r){t=null;for(var c=s,d=!1;c!==null;){if(!d){if((c.flags&524288)!==0)d=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var p=c.alternate;if(p===null)throw Error(o(387));if(p=p.memoizedProps,p!==null){var N=c.type;wt(c.pendingProps.value,p.value)||(t!==null?t.push(N):t=[N])}}else if(c===ye.current){if(p=c.alternate,p===null)throw Error(o(387));p.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(er):t=[er])}c=c.return}t!==null&&Pi(s,t,a,r),s.flags|=262144}function Hr(t){for(t=t.firstContext;t!==null;){if(!wt(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function na(t){aa=t,ls=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function nt(t){return lm(aa,t)}function Br(t,s){return aa===null&&na(t),lm(t,s)}function lm(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ls===null){if(t===null)throw Error(o(308));ls=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ls=ls.next=s;return a}var s0=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,r){t.push(r)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},a0=n.unstable_scheduleCallback,n0=n.unstable_NormalPriority,Ie={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qi(){return{controller:new s0,data:new Map,refCount:0}}function En(t){t.refCount--,t.refCount===0&&a0(n0,function(){t.controller.abort()})}var Mn=null,Fi=0,_a=0,Ua=null;function r0(t,s){if(Mn===null){var a=Mn=[];Fi=0,_a=Kc(),Ua={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Fi++,s.then(im,im),s}function im(){if(--Fi===0&&Mn!==null){Ua!==null&&(Ua.status="fulfilled");var t=Mn;Mn=null,_a=0,Ua=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function l0(t,s){var a=[],r={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return t.then(function(){r.status="fulfilled",r.value=s;for(var c=0;c<a.length;c++)(0,a[c])(s)},function(c){for(r.status="rejected",r.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),r}var cm=S.S;S.S=function(t,s){$u=bt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&r0(t,s),cm!==null&&cm(t,s)};var ra=j(null);function $i(){var t=ra.current;return t!==null?t:_e.pooledCache}function Gr(t,s){s===null?ie(ra,ra.current):ie(ra,s.pool)}function om(){var t=$i();return t===null?null:{parent:Ie._currentValue,pool:t}}var Oa=Error(o(460)),Yi=Error(o(474)),Vr=Error(o(542)),Pr={then:function(){}};function dm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function mm(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(ss,ss),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,hm(t),t;default:if(typeof s.status=="string")s.then(ss,ss);else{if(t=_e,t!==null&&100<t.shellSuspendCounter)throw Error(o(482));t=s,t.status="pending",t.then(function(r){if(s.status==="pending"){var c=s;c.status="fulfilled",c.value=r}},function(r){if(s.status==="pending"){var c=s;c.status="rejected",c.reason=r}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,hm(t),t}throw ia=s,Oa}}function la(t){try{var s=t._init;return s(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(ia=a,Oa):a}}var ia=null;function um(){if(ia===null)throw Error(o(459));var t=ia;return ia=null,t}function hm(t){if(t===Oa||t===Vr)throw Error(o(483))}var za=null,Ln=0;function qr(t){var s=Ln;return Ln+=1,za===null&&(za=[]),mm(za,t,s)}function Rn(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function Fr(t,s){throw s.$$typeof===C?Error(o(525)):(t=Object.prototype.toString.call(s),Error(o(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function xm(t){function s(H,_){if(t){var P=H.deletions;P===null?(H.deletions=[_],H.flags|=16):P.push(_)}}function a(H,_){if(!t)return null;for(;_!==null;)s(H,_),_=_.sibling;return null}function r(H){for(var _=new Map;H!==null;)H.key!==null?_.set(H.key,H):_.set(H.index,H),H=H.sibling;return _}function c(H,_){return H=ns(H,_),H.index=0,H.sibling=null,H}function d(H,_,P){return H.index=P,t?(P=H.alternate,P!==null?(P=P.index,P<_?(H.flags|=67108866,_):P):(H.flags|=67108866,_)):(H.flags|=1048576,_)}function p(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function N(H,_,P,ae){return _===null||_.tag!==6?(_=_i(P,H.mode,ae),_.return=H,_):(_=c(_,P),_.return=H,_)}function L(H,_,P,ae){var ue=P.type;return ue===k?ee(H,_,P.props.children,ae,P.key):_!==null&&(_.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===se&&la(ue)===_.type)?(_=c(_,P.props),Rn(_,P),_.return=H,_):(_=Or(P.type,P.key,P.props,null,H.mode,ae),Rn(_,P),_.return=H,_)}function q(H,_,P,ae){return _===null||_.tag!==4||_.stateNode.containerInfo!==P.containerInfo||_.stateNode.implementation!==P.implementation?(_=Ui(P,H.mode,ae),_.return=H,_):(_=c(_,P.children||[]),_.return=H,_)}function ee(H,_,P,ae,ue){return _===null||_.tag!==7?(_=ta(P,H.mode,ae,ue),_.return=H,_):(_=c(_,P),_.return=H,_)}function ne(H,_,P){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return _=_i(""+_,H.mode,P),_.return=H,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case O:return P=Or(_.type,_.key,_.props,null,H.mode,P),Rn(P,_),P.return=H,P;case w:return _=Ui(_,H.mode,P),_.return=H,_;case se:return _=la(_),ne(H,_,P)}if(E(_)||re(_))return _=ta(_,H.mode,P,null),_.return=H,_;if(typeof _.then=="function")return ne(H,qr(_),P);if(_.$$typeof===B)return ne(H,Br(H,_),P);Fr(H,_)}return null}function $(H,_,P,ae){var ue=_!==null?_.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ue!==null?null:N(H,_,""+P,ae);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case O:return P.key===ue?L(H,_,P,ae):null;case w:return P.key===ue?q(H,_,P,ae):null;case se:return P=la(P),$(H,_,P,ae)}if(E(P)||re(P))return ue!==null?null:ee(H,_,P,ae,null);if(typeof P.then=="function")return $(H,_,qr(P),ae);if(P.$$typeof===B)return $(H,_,Br(H,P),ae);Fr(H,P)}return null}function Q(H,_,P,ae,ue){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return H=H.get(P)||null,N(_,H,""+ae,ue);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case O:return H=H.get(ae.key===null?P:ae.key)||null,L(_,H,ae,ue);case w:return H=H.get(ae.key===null?P:ae.key)||null,q(_,H,ae,ue);case se:return ae=la(ae),Q(H,_,P,ae,ue)}if(E(ae)||re(ae))return H=H.get(P)||null,ee(_,H,ae,ue,null);if(typeof ae.then=="function")return Q(H,_,P,qr(ae),ue);if(ae.$$typeof===B)return Q(H,_,P,Br(_,ae),ue);Fr(_,ae)}return null}function oe(H,_,P,ae){for(var ue=null,Ce=null,de=_,be=_=0,ke=null;de!==null&&be<P.length;be++){de.index>be?(ke=de,de=null):ke=de.sibling;var Ae=$(H,de,P[be],ae);if(Ae===null){de===null&&(de=ke);break}t&&de&&Ae.alternate===null&&s(H,de),_=d(Ae,_,be),Ce===null?ue=Ae:Ce.sibling=Ae,Ce=Ae,de=ke}if(be===P.length)return a(H,de),Se&&rs(H,be),ue;if(de===null){for(;be<P.length;be++)de=ne(H,P[be],ae),de!==null&&(_=d(de,_,be),Ce===null?ue=de:Ce.sibling=de,Ce=de);return Se&&rs(H,be),ue}for(de=r(de);be<P.length;be++)ke=Q(de,H,be,P[be],ae),ke!==null&&(t&&ke.alternate!==null&&de.delete(ke.key===null?be:ke.key),_=d(ke,_,be),Ce===null?ue=ke:Ce.sibling=ke,Ce=ke);return t&&de.forEach(function($s){return s(H,$s)}),Se&&rs(H,be),ue}function xe(H,_,P,ae){if(P==null)throw Error(o(151));for(var ue=null,Ce=null,de=_,be=_=0,ke=null,Ae=P.next();de!==null&&!Ae.done;be++,Ae=P.next()){de.index>be?(ke=de,de=null):ke=de.sibling;var $s=$(H,de,Ae.value,ae);if($s===null){de===null&&(de=ke);break}t&&de&&$s.alternate===null&&s(H,de),_=d($s,_,be),Ce===null?ue=$s:Ce.sibling=$s,Ce=$s,de=ke}if(Ae.done)return a(H,de),Se&&rs(H,be),ue;if(de===null){for(;!Ae.done;be++,Ae=P.next())Ae=ne(H,Ae.value,ae),Ae!==null&&(_=d(Ae,_,be),Ce===null?ue=Ae:Ce.sibling=Ae,Ce=Ae);return Se&&rs(H,be),ue}for(de=r(de);!Ae.done;be++,Ae=P.next())Ae=Q(de,H,be,Ae.value,ae),Ae!==null&&(t&&Ae.alternate!==null&&de.delete(Ae.key===null?be:Ae.key),_=d(Ae,_,be),Ce===null?ue=Ae:Ce.sibling=Ae,Ce=Ae);return t&&de.forEach(function(yy){return s(H,yy)}),Se&&rs(H,be),ue}function De(H,_,P,ae){if(typeof P=="object"&&P!==null&&P.type===k&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case O:e:{for(var ue=P.key;_!==null;){if(_.key===ue){if(ue=P.type,ue===k){if(_.tag===7){a(H,_.sibling),ae=c(_,P.props.children),ae.return=H,H=ae;break e}}else if(_.elementType===ue||typeof ue=="object"&&ue!==null&&ue.$$typeof===se&&la(ue)===_.type){a(H,_.sibling),ae=c(_,P.props),Rn(ae,P),ae.return=H,H=ae;break e}a(H,_);break}else s(H,_);_=_.sibling}P.type===k?(ae=ta(P.props.children,H.mode,ae,P.key),ae.return=H,H=ae):(ae=Or(P.type,P.key,P.props,null,H.mode,ae),Rn(ae,P),ae.return=H,H=ae)}return p(H);case w:e:{for(ue=P.key;_!==null;){if(_.key===ue)if(_.tag===4&&_.stateNode.containerInfo===P.containerInfo&&_.stateNode.implementation===P.implementation){a(H,_.sibling),ae=c(_,P.children||[]),ae.return=H,H=ae;break e}else{a(H,_);break}else s(H,_);_=_.sibling}ae=Ui(P,H.mode,ae),ae.return=H,H=ae}return p(H);case se:return P=la(P),De(H,_,P,ae)}if(E(P))return oe(H,_,P,ae);if(re(P)){if(ue=re(P),typeof ue!="function")throw Error(o(150));return P=ue.call(P),xe(H,_,P,ae)}if(typeof P.then=="function")return De(H,_,qr(P),ae);if(P.$$typeof===B)return De(H,_,Br(H,P),ae);Fr(H,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,_!==null&&_.tag===6?(a(H,_.sibling),ae=c(_,P),ae.return=H,H=ae):(a(H,_),ae=_i(P,H.mode,ae),ae.return=H,H=ae),p(H)):a(H,_)}return function(H,_,P,ae){try{Ln=0;var ue=De(H,_,P,ae);return za=null,ue}catch(de){if(de===Oa||de===Vr)throw de;var Ce=kt(29,de,null,H.mode);return Ce.lanes=ae,Ce.return=H,Ce}}}var ca=xm(!0),pm=xm(!1),Es=!1;function Ki(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ii(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ms(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(t,s,a){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Ee&2)!==0){var c=r.pending;return c===null?s.next=s:(s.next=c.next,c.next=s),r.pending=s,s=Ur(t),Wd(t,null,a),s}return _r(t,r,s,a),Ur(t)}function Tn(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,ld(t,a)}}function Xi(t,s){var a=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var c=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?c=d=p:d=d.next=p,a=a.next}while(a!==null);d===null?c=d=s:d=d.next=s}else c=d=s;a={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:r.shared,callbacks:r.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Qi=!1;function Dn(){if(Qi){var t=Ua;if(t!==null)throw t}}function _n(t,s,a,r){Qi=!1;var c=t.updateQueue;Es=!1;var d=c.firstBaseUpdate,p=c.lastBaseUpdate,N=c.shared.pending;if(N!==null){c.shared.pending=null;var L=N,q=L.next;L.next=null,p===null?d=q:p.next=q,p=L;var ee=t.alternate;ee!==null&&(ee=ee.updateQueue,N=ee.lastBaseUpdate,N!==p&&(N===null?ee.firstBaseUpdate=q:N.next=q,ee.lastBaseUpdate=L))}if(d!==null){var ne=c.baseState;p=0,ee=q=L=null,N=d;do{var $=N.lane&-536870913,Q=$!==N.lane;if(Q?(we&$)===$:(r&$)===$){$!==0&&$===_a&&(Qi=!0),ee!==null&&(ee=ee.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var oe=t,xe=N;$=s;var De=a;switch(xe.tag){case 1:if(oe=xe.payload,typeof oe=="function"){ne=oe.call(De,ne,$);break e}ne=oe;break e;case 3:oe.flags=oe.flags&-65537|128;case 0:if(oe=xe.payload,$=typeof oe=="function"?oe.call(De,ne,$):oe,$==null)break e;ne=g({},ne,$);break e;case 2:Es=!0}}$=N.callback,$!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=c.callbacks,Q===null?c.callbacks=[$]:Q.push($))}else Q={lane:$,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ee===null?(q=ee=Q,L=ne):ee=ee.next=Q,p|=$;if(N=N.next,N===null){if(N=c.shared.pending,N===null)break;Q=N,N=Q.next,Q.next=null,c.lastBaseUpdate=Q,c.shared.pending=null}}while(!0);ee===null&&(L=ne),c.baseState=L,c.firstBaseUpdate=q,c.lastBaseUpdate=ee,d===null&&(c.shared.lanes=0),Us|=p,t.lanes=p,t.memoizedState=ne}}function fm(t,s){if(typeof t!="function")throw Error(o(191,t));t.call(s)}function ym(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)fm(a[t],s)}var Ha=j(null),$r=j(0);function gm(t,s){t=fs,ie($r,t),ie(Ha,s),fs=t|s.baseLanes}function Zi(){ie($r,fs),ie(Ha,Ha.current)}function Wi(){fs=$r.current,K(Ha),K($r)}var St=j(null),Bt=null;function Rs(t){var s=t.alternate;ie($e,$e.current&1),ie(St,t),Bt===null&&(s===null||Ha.current!==null||s.memoizedState!==null)&&(Bt=t)}function Ji(t){ie($e,$e.current),ie(St,t),Bt===null&&(Bt=t)}function vm(t){t.tag===22?(ie($e,$e.current),ie(St,t),Bt===null&&(Bt=t)):Ts()}function Ts(){ie($e,$e.current),ie(St,St.current)}function Ct(t){K(St),Bt===t&&(Bt=null),K($e)}var $e=j(0);function Yr(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ro(a)||lo(a)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var cs=0,ge=null,Re=null,Xe=null,Kr=!1,Ba=!1,oa=!1,Ir=0,Un=0,Ga=null,i0=0;function Pe(){throw Error(o(321))}function ec(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!wt(t[a],s[a]))return!1;return!0}function tc(t,s,a,r,c,d){return cs=d,ge=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,S.H=t===null||t.memoizedState===null?su:fc,oa=!1,d=a(r,c),oa=!1,Ba&&(d=jm(s,a,r,c)),bm(t),d}function bm(t){S.H=Hn;var s=Re!==null&&Re.next!==null;if(cs=0,Xe=Re=ge=null,Kr=!1,Un=0,Ga=null,s)throw Error(o(300));t===null||Qe||(t=t.dependencies,t!==null&&Hr(t)&&(Qe=!0))}function jm(t,s,a,r){ge=t;var c=0;do{if(Ba&&(Ga=null),Un=0,Ba=!1,25<=c)throw Error(o(301));if(c+=1,Xe=Re=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}S.H=au,d=s(a,r)}while(Ba);return d}function c0(){var t=S.H,s=t.useState()[0];return s=typeof s.then=="function"?On(s):s,t=t.useState()[0],(Re!==null?Re.memoizedState:null)!==t&&(ge.flags|=1024),s}function sc(){var t=Ir!==0;return Ir=0,t}function ac(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function nc(t){if(Kr){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}Kr=!1}cs=0,Xe=Re=ge=null,Ba=!1,Un=Ir=0,Ga=null}function dt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?ge.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function Ye(){if(Re===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Re.next;var s=Xe===null?ge.memoizedState:Xe.next;if(s!==null)Xe=s,Re=t;else{if(t===null)throw ge.alternate===null?Error(o(467)):Error(o(310));Re=t,t={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},Xe===null?ge.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function Xr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function On(t){var s=Un;return Un+=1,Ga===null&&(Ga=[]),t=mm(Ga,t,s),s=ge,(Xe===null?s.memoizedState:Xe.next)===null&&(s=s.alternate,S.H=s===null||s.memoizedState===null?su:fc),t}function Qr(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return On(t);if(t.$$typeof===B)return nt(t)}throw Error(o(438,String(t)))}function rc(t){var s=null,a=ge.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var r=ge.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(s={data:r.data.map(function(c){return c.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=Xr(),ge.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),r=0;r<t;r++)a[r]=Y;return s.index++,a}function os(t,s){return typeof s=="function"?s(t):s}function Zr(t){var s=Ye();return lc(s,Re,t)}function lc(t,s,a){var r=t.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=a;var c=t.baseQueue,d=r.pending;if(d!==null){if(c!==null){var p=c.next;c.next=d.next,d.next=p}s.baseQueue=c=d,r.pending=null}if(d=t.baseState,c===null)t.memoizedState=d;else{s=c.next;var N=p=null,L=null,q=s,ee=!1;do{var ne=q.lane&-536870913;if(ne!==q.lane?(we&ne)===ne:(cs&ne)===ne){var $=q.revertLane;if($===0)L!==null&&(L=L.next={lane:0,revertLane:0,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null}),ne===_a&&(ee=!0);else if((cs&$)===$){q=q.next,$===_a&&(ee=!0);continue}else ne={lane:0,revertLane:q.revertLane,gesture:null,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(N=L=ne,p=d):L=L.next=ne,ge.lanes|=$,Us|=$;ne=q.action,oa&&a(d,ne),d=q.hasEagerState?q.eagerState:a(d,ne)}else $={lane:ne,revertLane:q.revertLane,gesture:q.gesture,action:q.action,hasEagerState:q.hasEagerState,eagerState:q.eagerState,next:null},L===null?(N=L=$,p=d):L=L.next=$,ge.lanes|=ne,Us|=ne;q=q.next}while(q!==null&&q!==s);if(L===null?p=d:L.next=N,!wt(d,t.memoizedState)&&(Qe=!0,ee&&(a=Ua,a!==null)))throw a;t.memoizedState=d,t.baseState=p,t.baseQueue=L,r.lastRenderedState=d}return c===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function ic(t){var s=Ye(),a=s.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=t;var r=a.dispatch,c=a.pending,d=s.memoizedState;if(c!==null){a.pending=null;var p=c=c.next;do d=t(d,p.action),p=p.next;while(p!==c);wt(d,s.memoizedState)||(Qe=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),a.lastRenderedState=d}return[d,r]}function Nm(t,s,a){var r=ge,c=Ye(),d=Se;if(d){if(a===void 0)throw Error(o(407));a=a()}else a=s();var p=!wt((Re||c).memoizedState,a);if(p&&(c.memoizedState=a,Qe=!0),c=c.queue,dc(Sm.bind(null,r,c,t),[t]),c.getSnapshot!==s||p||Xe!==null&&Xe.memoizedState.tag&1){if(r.flags|=2048,Va(9,{destroy:void 0},km.bind(null,r,c,a,s),null),_e===null)throw Error(o(349));d||(cs&127)!==0||wm(r,s,a)}return a}function wm(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ge.updateQueue,s===null?(s=Xr(),ge.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function km(t,s,a,r){s.value=a,s.getSnapshot=r,Cm(s)&&Am(t)}function Sm(t,s,a){return a(function(){Cm(s)&&Am(t)})}function Cm(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!wt(t,a)}catch{return!0}}function Am(t){var s=ea(t,2);s!==null&&yt(s,t,2)}function cc(t){var s=dt();if(typeof t=="function"){var a=t;if(t=a(),oa){js(!0);try{a()}finally{js(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:t},s}function Em(t,s,a,r){return t.baseState=a,lc(t,Re,typeof r=="function"?r:os)}function o0(t,s,a,r,c){if(el(t))throw Error(o(485));if(t=s.action,t!==null){var d={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};S.T!==null?a(!0):d.isTransition=!1,r(d),a=s.pending,a===null?(d.next=s.pending=d,Mm(s,d)):(d.next=a.next,s.pending=a.next=d)}}function Mm(t,s){var a=s.action,r=s.payload,c=t.state;if(s.isTransition){var d=S.T,p={};S.T=p;try{var N=a(c,r),L=S.S;L!==null&&L(p,N),Lm(t,s,N)}catch(q){oc(t,s,q)}finally{d!==null&&p.types!==null&&(d.types=p.types),S.T=d}}else try{d=a(c,r),Lm(t,s,d)}catch(q){oc(t,s,q)}}function Lm(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Rm(t,s,r)},function(r){return oc(t,s,r)}):Rm(t,s,a)}function Rm(t,s,a){s.status="fulfilled",s.value=a,Tm(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Mm(t,a)))}function oc(t,s,a){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do s.status="rejected",s.reason=a,Tm(s),s=s.next;while(s!==r)}t.action=null}function Tm(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function Dm(t,s){return s}function _m(t,s){if(Se){var a=_e.formState;if(a!==null){e:{var r=ge;if(Se){if(Oe){t:{for(var c=Oe,d=Ht;c.nodeType!==8;){if(!d){c=null;break t}if(c=Gt(c.nextSibling),c===null){c=null;break t}}d=c.data,c=d==="F!"||d==="F"?c:null}if(c){Oe=Gt(c.nextSibling),r=c.data==="F!";break e}}Cs(r)}r=!1}r&&(s=a[0])}}return a=dt(),a.memoizedState=a.baseState=s,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:s},a.queue=r,a=Jm.bind(null,ge,r),r.dispatch=a,r=cc(!1),d=pc.bind(null,ge,!1,r.queue),r=dt(),c={state:s,dispatch:null,action:t,pending:null},r.queue=c,a=o0.bind(null,ge,c,d,a),c.dispatch=a,r.memoizedState=t,[s,a,!1]}function Um(t){var s=Ye();return Om(s,Re,t)}function Om(t,s,a){if(s=lc(t,s,Dm)[0],t=Zr(os)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var r=On(s)}catch(p){throw p===Oa?Vr:p}else r=s;s=Ye();var c=s.queue,d=c.dispatch;return a!==s.memoizedState&&(ge.flags|=2048,Va(9,{destroy:void 0},d0.bind(null,c,a),null)),[r,d,t]}function d0(t,s){t.action=s}function zm(t){var s=Ye(),a=Re;if(a!==null)return Om(s,a,t);Ye(),s=s.memoizedState,a=Ye();var r=a.queue.dispatch;return a.memoizedState=t,[s,r,!1]}function Va(t,s,a,r){return t={tag:t,create:a,deps:r,inst:s,next:null},s=ge.updateQueue,s===null&&(s=Xr(),ge.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(r=a.next,a.next=t,t.next=r,s.lastEffect=t),t}function Hm(){return Ye().memoizedState}function Wr(t,s,a,r){var c=dt();ge.flags|=t,c.memoizedState=Va(1|s,{destroy:void 0},a,r===void 0?null:r)}function Jr(t,s,a,r){var c=Ye();r=r===void 0?null:r;var d=c.memoizedState.inst;Re!==null&&r!==null&&ec(r,Re.memoizedState.deps)?c.memoizedState=Va(s,d,a,r):(ge.flags|=t,c.memoizedState=Va(1|s,d,a,r))}function Bm(t,s){Wr(8390656,8,t,s)}function dc(t,s){Jr(2048,8,t,s)}function m0(t){ge.flags|=4;var s=ge.updateQueue;if(s===null)s=Xr(),ge.updateQueue=s,s.events=[t];else{var a=s.events;a===null?s.events=[t]:a.push(t)}}function Gm(t){var s=Ye().memoizedState;return m0({ref:s,nextImpl:t}),function(){if((Ee&2)!==0)throw Error(o(440));return s.impl.apply(void 0,arguments)}}function Vm(t,s){return Jr(4,2,t,s)}function Pm(t,s){return Jr(4,4,t,s)}function qm(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function Fm(t,s,a){a=a!=null?a.concat([t]):null,Jr(4,4,qm.bind(null,s,t),a)}function mc(){}function $m(t,s){var a=Ye();s=s===void 0?null:s;var r=a.memoizedState;return s!==null&&ec(s,r[1])?r[0]:(a.memoizedState=[t,s],t)}function Ym(t,s){var a=Ye();s=s===void 0?null:s;var r=a.memoizedState;if(s!==null&&ec(s,r[1]))return r[0];if(r=t(),oa){js(!0);try{t()}finally{js(!1)}}return a.memoizedState=[r,s],r}function uc(t,s,a){return a===void 0||(cs&1073741824)!==0&&(we&261930)===0?t.memoizedState=s:(t.memoizedState=a,t=Ku(),ge.lanes|=t,Us|=t,a)}function Km(t,s,a,r){return wt(a,s)?a:Ha.current!==null?(t=uc(t,a,r),wt(t,s)||(Qe=!0),t):(cs&42)===0||(cs&1073741824)!==0&&(we&261930)===0?(Qe=!0,t.memoizedState=a):(t=Ku(),ge.lanes|=t,Us|=t,s)}function Im(t,s,a,r,c){var d=W.p;W.p=d!==0&&8>d?d:8;var p=S.T,N={};S.T=N,pc(t,!1,s,a);try{var L=c(),q=S.S;if(q!==null&&q(N,L),L!==null&&typeof L=="object"&&typeof L.then=="function"){var ee=l0(L,r);zn(t,s,ee,Mt(t))}else zn(t,s,r,Mt(t))}catch(ne){zn(t,s,{then:function(){},status:"rejected",reason:ne},Mt())}finally{W.p=d,p!==null&&N.types!==null&&(p.types=N.types),S.T=p}}function u0(){}function hc(t,s,a,r){if(t.tag!==5)throw Error(o(476));var c=Xm(t).queue;Im(t,c,s,F,a===null?u0:function(){return Qm(t),a(r)})}function Xm(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:F},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:os,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Qm(t){var s=Xm(t);s.next===null&&(s=t.alternate.memoizedState),zn(t,s.next.queue,{},Mt())}function xc(){return nt(er)}function Zm(){return Ye().memoizedState}function Wm(){return Ye().memoizedState}function h0(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=Mt();t=Ms(a);var r=Ls(s,t,a);r!==null&&(yt(r,s,a),Tn(r,s,a)),s={cache:qi()},t.payload=s;return}s=s.return}}function x0(t,s,a){var r=Mt();a={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},el(t)?eu(s,a):(a=Ti(t,s,a,r),a!==null&&(yt(a,t,r),tu(a,s,r)))}function Jm(t,s,a){var r=Mt();zn(t,s,a,r)}function zn(t,s,a,r){var c={lane:r,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(el(t))eu(s,c);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var p=s.lastRenderedState,N=d(p,a);if(c.hasEagerState=!0,c.eagerState=N,wt(N,p))return _r(t,s,c,0),_e===null&&Dr(),!1}catch{}if(a=Ti(t,s,c,r),a!==null)return yt(a,t,r),tu(a,s,r),!0}return!1}function pc(t,s,a,r){if(r={lane:2,revertLane:Kc(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},el(t)){if(s)throw Error(o(479))}else s=Ti(t,a,r,2),s!==null&&yt(s,t,2)}function el(t){var s=t.alternate;return t===ge||s!==null&&s===ge}function eu(t,s){Ba=Kr=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function tu(t,s,a){if((a&4194048)!==0){var r=s.lanes;r&=t.pendingLanes,a|=r,s.lanes=a,ld(t,a)}}var Hn={readContext:nt,use:Qr,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useLayoutEffect:Pe,useInsertionEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useSyncExternalStore:Pe,useId:Pe,useHostTransitionStatus:Pe,useFormState:Pe,useActionState:Pe,useOptimistic:Pe,useMemoCache:Pe,useCacheRefresh:Pe};Hn.useEffectEvent=Pe;var su={readContext:nt,use:Qr,useCallback:function(t,s){return dt().memoizedState=[t,s===void 0?null:s],t},useContext:nt,useEffect:Bm,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,Wr(4194308,4,qm.bind(null,s,t),a)},useLayoutEffect:function(t,s){return Wr(4194308,4,t,s)},useInsertionEffect:function(t,s){Wr(4,2,t,s)},useMemo:function(t,s){var a=dt();s=s===void 0?null:s;var r=t();if(oa){js(!0);try{t()}finally{js(!1)}}return a.memoizedState=[r,s],r},useReducer:function(t,s,a){var r=dt();if(a!==void 0){var c=a(s);if(oa){js(!0);try{a(s)}finally{js(!1)}}}else c=s;return r.memoizedState=r.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},r.queue=t,t=t.dispatch=x0.bind(null,ge,t),[r.memoizedState,t]},useRef:function(t){var s=dt();return t={current:t},s.memoizedState=t},useState:function(t){t=cc(t);var s=t.queue,a=Jm.bind(null,ge,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:mc,useDeferredValue:function(t,s){var a=dt();return uc(a,t,s)},useTransition:function(){var t=cc(!1);return t=Im.bind(null,ge,t.queue,!0,!1),dt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var r=ge,c=dt();if(Se){if(a===void 0)throw Error(o(407));a=a()}else{if(a=s(),_e===null)throw Error(o(349));(we&127)!==0||wm(r,s,a)}c.memoizedState=a;var d={value:a,getSnapshot:s};return c.queue=d,Bm(Sm.bind(null,r,d,t),[t]),r.flags|=2048,Va(9,{destroy:void 0},km.bind(null,r,d,a,s),null),a},useId:function(){var t=dt(),s=_e.identifierPrefix;if(Se){var a=Qt,r=Xt;a=(r&~(1<<32-Nt(r)-1)).toString(32)+a,s="_"+s+"R_"+a,a=Ir++,0<a&&(s+="H"+a.toString(32)),s+="_"}else a=i0++,s="_"+s+"r_"+a.toString(32)+"_";return t.memoizedState=s},useHostTransitionStatus:xc,useFormState:_m,useActionState:_m,useOptimistic:function(t){var s=dt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=pc.bind(null,ge,!0,a),a.dispatch=s,[t,s]},useMemoCache:rc,useCacheRefresh:function(){return dt().memoizedState=h0.bind(null,ge)},useEffectEvent:function(t){var s=dt(),a={impl:t};return s.memoizedState=a,function(){if((Ee&2)!==0)throw Error(o(440));return a.impl.apply(void 0,arguments)}}},fc={readContext:nt,use:Qr,useCallback:$m,useContext:nt,useEffect:dc,useImperativeHandle:Fm,useInsertionEffect:Vm,useLayoutEffect:Pm,useMemo:Ym,useReducer:Zr,useRef:Hm,useState:function(){return Zr(os)},useDebugValue:mc,useDeferredValue:function(t,s){var a=Ye();return Km(a,Re.memoizedState,t,s)},useTransition:function(){var t=Zr(os)[0],s=Ye().memoizedState;return[typeof t=="boolean"?t:On(t),s]},useSyncExternalStore:Nm,useId:Zm,useHostTransitionStatus:xc,useFormState:Um,useActionState:Um,useOptimistic:function(t,s){var a=Ye();return Em(a,Re,t,s)},useMemoCache:rc,useCacheRefresh:Wm};fc.useEffectEvent=Gm;var au={readContext:nt,use:Qr,useCallback:$m,useContext:nt,useEffect:dc,useImperativeHandle:Fm,useInsertionEffect:Vm,useLayoutEffect:Pm,useMemo:Ym,useReducer:ic,useRef:Hm,useState:function(){return ic(os)},useDebugValue:mc,useDeferredValue:function(t,s){var a=Ye();return Re===null?uc(a,t,s):Km(a,Re.memoizedState,t,s)},useTransition:function(){var t=ic(os)[0],s=Ye().memoizedState;return[typeof t=="boolean"?t:On(t),s]},useSyncExternalStore:Nm,useId:Zm,useHostTransitionStatus:xc,useFormState:zm,useActionState:zm,useOptimistic:function(t,s){var a=Ye();return Re!==null?Em(a,Re,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:rc,useCacheRefresh:Wm};au.useEffectEvent=Gm;function yc(t,s,a,r){s=t.memoizedState,a=a(r,s),a=a==null?s:g({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var gc={enqueueSetState:function(t,s,a){t=t._reactInternals;var r=Mt(),c=Ms(r);c.payload=s,a!=null&&(c.callback=a),s=Ls(t,c,r),s!==null&&(yt(s,t,r),Tn(s,t,r))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var r=Mt(),c=Ms(r);c.tag=1,c.payload=s,a!=null&&(c.callback=a),s=Ls(t,c,r),s!==null&&(yt(s,t,r),Tn(s,t,r))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=Mt(),r=Ms(a);r.tag=2,s!=null&&(r.callback=s),s=Ls(t,r,a),s!==null&&(yt(s,t,a),Tn(s,t,a))}};function nu(t,s,a,r,c,d,p){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,d,p):s.prototype&&s.prototype.isPureReactComponent?!kn(a,r)||!kn(c,d):!0}function ru(t,s,a,r){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,r),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,r),s.state!==t&&gc.enqueueReplaceState(s,s.state,null)}function da(t,s){var a=s;if("ref"in s){a={};for(var r in s)r!=="ref"&&(a[r]=s[r])}if(t=t.defaultProps){a===s&&(a=g({},a));for(var c in t)a[c]===void 0&&(a[c]=t[c])}return a}function lu(t){Tr(t)}function iu(t){console.error(t)}function cu(t){Tr(t)}function tl(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(r){setTimeout(function(){throw r})}}function ou(t,s,a){try{var r=t.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function vc(t,s,a){return a=Ms(a),a.tag=3,a.payload={element:null},a.callback=function(){tl(t,s)},a}function du(t){return t=Ms(t),t.tag=3,t}function mu(t,s,a,r){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;t.payload=function(){return c(d)},t.callback=function(){ou(s,a,r)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(t.callback=function(){ou(s,a,r),typeof c!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var N=r.stack;this.componentDidCatch(r.value,{componentStack:N!==null?N:""})})}function p0(t,s,a,r,c){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(s=a.alternate,s!==null&&Da(s,a,c,!0),a=St.current,a!==null){switch(a.tag){case 31:case 13:return Bt===null?hl():a.alternate===null&&qe===0&&(qe=3),a.flags&=-257,a.flags|=65536,a.lanes=c,r===Pr?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([r]):s.add(r),Fc(t,r,c)),!1;case 22:return a.flags|=65536,r===Pr?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([r]):a.add(r)),Fc(t,r,c)),!1}throw Error(o(435,a.tag))}return Fc(t,r,c),hl(),!1}if(Se)return s=St.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=c,r!==Hi&&(t=Error(o(422),{cause:r}),An(Ut(t,a)))):(r!==Hi&&(s=Error(o(423),{cause:r}),An(Ut(s,a))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,r=Ut(r,a),c=vc(t.stateNode,r,c),Xi(t,c),qe!==4&&(qe=2)),!1;var d=Error(o(520),{cause:r});if(d=Ut(d,a),Yn===null?Yn=[d]:Yn.push(d),qe!==4&&(qe=2),s===null)return!0;r=Ut(r,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=c&-c,a.lanes|=t,t=vc(a.stateNode,r,t),Xi(a,t),!1;case 1:if(s=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Os===null||!Os.has(d))))return a.flags|=65536,c&=-c,a.lanes|=c,c=du(c),mu(c,t,a,r),Xi(a,c),!1}a=a.return}while(a!==null);return!1}var bc=Error(o(461)),Qe=!1;function rt(t,s,a,r){s.child=t===null?pm(s,null,a,r):ca(s,t.child,a,r)}function uu(t,s,a,r,c){a=a.render;var d=s.ref;if("ref"in r){var p={};for(var N in r)N!=="ref"&&(p[N]=r[N])}else p=r;return na(s),r=tc(t,s,a,p,d,c),N=sc(),t!==null&&!Qe?(ac(t,s,c),ds(t,s,c)):(Se&&N&&Oi(s),s.flags|=1,rt(t,s,r,c),s.child)}function hu(t,s,a,r,c){if(t===null){var d=a.type;return typeof d=="function"&&!Di(d)&&d.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=d,xu(t,s,d,r,c)):(t=Or(a.type,null,r,s,s.mode,c),t.ref=s.ref,t.return=s,s.child=t)}if(d=t.child,!Ec(t,c)){var p=d.memoizedProps;if(a=a.compare,a=a!==null?a:kn,a(p,r)&&t.ref===s.ref)return ds(t,s,c)}return s.flags|=1,t=ns(d,r),t.ref=s.ref,t.return=s,s.child=t}function xu(t,s,a,r,c){if(t!==null){var d=t.memoizedProps;if(kn(d,r)&&t.ref===s.ref)if(Qe=!1,s.pendingProps=r=d,Ec(t,c))(t.flags&131072)!==0&&(Qe=!0);else return s.lanes=t.lanes,ds(t,s,c)}return jc(t,s,a,r,c)}function pu(t,s,a,r){var c=r.children,d=t!==null?t.memoizedState:null;if(t===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(r=s.child=t.child,c=0;r!==null;)c=c|r.lanes|r.childLanes,r=r.sibling;r=c&~d}else r=0,s.child=null;return fu(t,s,d,a,r)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gr(s,d!==null?d.cachePool:null),d!==null?gm(s,d):Zi(),vm(s);else return r=s.lanes=536870912,fu(t,s,d!==null?d.baseLanes|a:a,a,r)}else d!==null?(Gr(s,d.cachePool),gm(s,d),Ts(),s.memoizedState=null):(t!==null&&Gr(s,null),Zi(),Ts());return rt(t,s,c,a),s.child}function Bn(t,s){return t!==null&&t.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function fu(t,s,a,r,c){var d=$i();return d=d===null?null:{parent:Ie._currentValue,pool:d},s.memoizedState={baseLanes:a,cachePool:d},t!==null&&Gr(s,null),Zi(),vm(s),t!==null&&Da(t,s,r,!0),s.childLanes=c,null}function sl(t,s){return s=nl({mode:s.mode,children:s.children},t.mode),s.ref=t.ref,t.child=s,s.return=t,s}function yu(t,s,a){return ca(s,t.child,null,a),t=sl(s,s.pendingProps),t.flags|=2,Ct(s),s.memoizedState=null,t}function f0(t,s,a){var r=s.pendingProps,c=(s.flags&128)!==0;if(s.flags&=-129,t===null){if(Se){if(r.mode==="hidden")return t=sl(s,r),s.lanes=536870912,Bn(null,t);if(Ji(s),(t=Oe)?(t=Mh(t,Ht),t=t!==null&&t.data==="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Xt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},a=em(t),a.return=s,s.child=a,at=s,Oe=null)):t=null,t===null)throw Cs(s);return s.lanes=536870912,null}return sl(s,r)}var d=t.memoizedState;if(d!==null){var p=d.dehydrated;if(Ji(s),c)if(s.flags&256)s.flags&=-257,s=yu(t,s,a);else if(s.memoizedState!==null)s.child=t.child,s.flags|=128,s=null;else throw Error(o(558));else if(Qe||Da(t,s,a,!1),c=(a&t.childLanes)!==0,Qe||c){if(r=_e,r!==null&&(p=id(r,a),p!==0&&p!==d.retryLane))throw d.retryLane=p,ea(t,p),yt(r,t,p),bc;hl(),s=yu(t,s,a)}else t=d.treeContext,Oe=Gt(p.nextSibling),at=s,Se=!0,Ss=null,Ht=!1,t!==null&&am(s,t),s=sl(s,r),s.flags|=4096;return s}return t=ns(t.child,{mode:r.mode,children:r.children}),t.ref=s.ref,s.child=t,t.return=s,t}function al(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(o(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function jc(t,s,a,r,c){return na(s),a=tc(t,s,a,r,void 0,c),r=sc(),t!==null&&!Qe?(ac(t,s,c),ds(t,s,c)):(Se&&r&&Oi(s),s.flags|=1,rt(t,s,a,c),s.child)}function gu(t,s,a,r,c,d){return na(s),s.updateQueue=null,a=jm(s,r,a,c),bm(t),r=sc(),t!==null&&!Qe?(ac(t,s,d),ds(t,s,d)):(Se&&r&&Oi(s),s.flags|=1,rt(t,s,a,d),s.child)}function vu(t,s,a,r,c){if(na(s),s.stateNode===null){var d=Ma,p=a.contextType;typeof p=="object"&&p!==null&&(d=nt(p)),d=new a(r,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gc,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=r,d.state=s.memoizedState,d.refs={},Ki(s),p=a.contextType,d.context=typeof p=="object"&&p!==null?nt(p):Ma,d.state=s.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(yc(s,a,p,r),d.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&gc.enqueueReplaceState(d,d.state,null),_n(s,r,d,c),Dn(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),r=!0}else if(t===null){d=s.stateNode;var N=s.memoizedProps,L=da(a,N);d.props=L;var q=d.context,ee=a.contextType;p=Ma,typeof ee=="object"&&ee!==null&&(p=nt(ee));var ne=a.getDerivedStateFromProps;ee=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",N=s.pendingProps!==N,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(N||q!==p)&&ru(s,d,r,p),Es=!1;var $=s.memoizedState;d.state=$,_n(s,r,d,c),Dn(),q=s.memoizedState,N||$!==q||Es?(typeof ne=="function"&&(yc(s,a,ne,r),q=s.memoizedState),(L=Es||nu(s,a,L,r,$,q,p))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=r,s.memoizedState=q),d.props=r,d.state=q,d.context=p,r=L):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),r=!1)}else{d=s.stateNode,Ii(t,s),p=s.memoizedProps,ee=da(a,p),d.props=ee,ne=s.pendingProps,$=d.context,q=a.contextType,L=Ma,typeof q=="object"&&q!==null&&(L=nt(q)),N=a.getDerivedStateFromProps,(q=typeof N=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==ne||$!==L)&&ru(s,d,r,L),Es=!1,$=s.memoizedState,d.state=$,_n(s,r,d,c),Dn();var Q=s.memoizedState;p!==ne||$!==Q||Es||t!==null&&t.dependencies!==null&&Hr(t.dependencies)?(typeof N=="function"&&(yc(s,a,N,r),Q=s.memoizedState),(ee=Es||nu(s,a,ee,r,$,Q,L)||t!==null&&t.dependencies!==null&&Hr(t.dependencies))?(q||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(r,Q,L),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(r,Q,L)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===t.memoizedProps&&$===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&$===t.memoizedState||(s.flags|=1024),s.memoizedProps=r,s.memoizedState=Q),d.props=r,d.state=Q,d.context=L,r=ee):(typeof d.componentDidUpdate!="function"||p===t.memoizedProps&&$===t.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===t.memoizedProps&&$===t.memoizedState||(s.flags|=1024),r=!1)}return d=r,al(t,s),r=(s.flags&128)!==0,d||r?(d=s.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,t!==null&&r?(s.child=ca(s,t.child,null,c),s.child=ca(s,null,a,c)):rt(t,s,a,c),s.memoizedState=d.state,t=s.child):t=ds(t,s,c),t}function bu(t,s,a,r){return sa(),s.flags|=256,rt(t,s,a,r),s.child}var Nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function wc(t){return{baseLanes:t,cachePool:om()}}function kc(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Et),t}function ju(t,s,a){var r=s.pendingProps,c=!1,d=(s.flags&128)!==0,p;if((p=d)||(p=t!==null&&t.memoizedState===null?!1:($e.current&2)!==0),p&&(c=!0,s.flags&=-129),p=(s.flags&32)!==0,s.flags&=-33,t===null){if(Se){if(c?Rs(s):Ts(),(t=Oe)?(t=Mh(t,Ht),t=t!==null&&t.data!=="&"?t:null,t!==null&&(s.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Xt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},a=em(t),a.return=s,s.child=a,at=s,Oe=null)):t=null,t===null)throw Cs(s);return lo(t)?s.lanes=32:s.lanes=536870912,null}var N=r.children;return r=r.fallback,c?(Ts(),c=s.mode,N=nl({mode:"hidden",children:N},c),r=ta(r,c,a,null),N.return=s,r.return=s,N.sibling=r,s.child=N,r=s.child,r.memoizedState=wc(a),r.childLanes=kc(t,p,a),s.memoizedState=Nc,Bn(null,r)):(Rs(s),Sc(s,N))}var L=t.memoizedState;if(L!==null&&(N=L.dehydrated,N!==null)){if(d)s.flags&256?(Rs(s),s.flags&=-257,s=Cc(t,s,a)):s.memoizedState!==null?(Ts(),s.child=t.child,s.flags|=128,s=null):(Ts(),N=r.fallback,c=s.mode,r=nl({mode:"visible",children:r.children},c),N=ta(N,c,a,null),N.flags|=2,r.return=s,N.return=s,r.sibling=N,s.child=r,ca(s,t.child,null,a),r=s.child,r.memoizedState=wc(a),r.childLanes=kc(t,p,a),s.memoizedState=Nc,s=Bn(null,r));else if(Rs(s),lo(N)){if(p=N.nextSibling&&N.nextSibling.dataset,p)var q=p.dgst;p=q,r=Error(o(419)),r.stack="",r.digest=p,An({value:r,source:null,stack:null}),s=Cc(t,s,a)}else if(Qe||Da(t,s,a,!1),p=(a&t.childLanes)!==0,Qe||p){if(p=_e,p!==null&&(r=id(p,a),r!==0&&r!==L.retryLane))throw L.retryLane=r,ea(t,r),yt(p,t,r),bc;ro(N)||hl(),s=Cc(t,s,a)}else ro(N)?(s.flags|=192,s.child=t.child,s=null):(t=L.treeContext,Oe=Gt(N.nextSibling),at=s,Se=!0,Ss=null,Ht=!1,t!==null&&am(s,t),s=Sc(s,r.children),s.flags|=4096);return s}return c?(Ts(),N=r.fallback,c=s.mode,L=t.child,q=L.sibling,r=ns(L,{mode:"hidden",children:r.children}),r.subtreeFlags=L.subtreeFlags&65011712,q!==null?N=ns(q,N):(N=ta(N,c,a,null),N.flags|=2),N.return=s,r.return=s,r.sibling=N,s.child=r,Bn(null,r),r=s.child,N=t.child.memoizedState,N===null?N=wc(a):(c=N.cachePool,c!==null?(L=Ie._currentValue,c=c.parent!==L?{parent:L,pool:L}:c):c=om(),N={baseLanes:N.baseLanes|a,cachePool:c}),r.memoizedState=N,r.childLanes=kc(t,p,a),s.memoizedState=Nc,Bn(t.child,r)):(Rs(s),a=t.child,t=a.sibling,a=ns(a,{mode:"visible",children:r.children}),a.return=s,a.sibling=null,t!==null&&(p=s.deletions,p===null?(s.deletions=[t],s.flags|=16):p.push(t)),s.child=a,s.memoizedState=null,a)}function Sc(t,s){return s=nl({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function nl(t,s){return t=kt(22,t,null,s),t.lanes=0,t}function Cc(t,s,a){return ca(s,t.child,null,a),t=Sc(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function Nu(t,s,a){t.lanes|=s;var r=t.alternate;r!==null&&(r.lanes|=s),Vi(t.return,s,a)}function Ac(t,s,a,r,c,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:c,treeForkCount:d}:(p.isBackwards=s,p.rendering=null,p.renderingStartTime=0,p.last=r,p.tail=a,p.tailMode=c,p.treeForkCount=d)}function wu(t,s,a){var r=s.pendingProps,c=r.revealOrder,d=r.tail;r=r.children;var p=$e.current,N=(p&2)!==0;if(N?(p=p&1|2,s.flags|=128):p&=1,ie($e,p),rt(t,s,r,a),r=Se?Cn:0,!N&&t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Nu(t,a,s);else if(t.tag===19)Nu(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(c){case"forwards":for(a=s.child,c=null;a!==null;)t=a.alternate,t!==null&&Yr(t)===null&&(c=a),a=a.sibling;a=c,a===null?(c=s.child,s.child=null):(c=a.sibling,a.sibling=null),Ac(s,!1,c,a,d,r);break;case"backwards":case"unstable_legacy-backwards":for(a=null,c=s.child,s.child=null;c!==null;){if(t=c.alternate,t!==null&&Yr(t)===null){s.child=c;break}t=c.sibling,c.sibling=a,a=c,c=t}Ac(s,!0,a,null,d,r);break;case"together":Ac(s,!1,null,null,void 0,r);break;default:s.memoizedState=null}return s.child}function ds(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),Us|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(Da(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(o(153));if(s.child!==null){for(t=s.child,a=ns(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=ns(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Ec(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&Hr(t)))}function y0(t,s,a){switch(s.tag){case 3:Fe(s,s.stateNode.containerInfo),As(s,Ie,t.memoizedState.cache),sa();break;case 27:case 5:It(s);break;case 4:Fe(s,s.stateNode.containerInfo);break;case 10:As(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Ji(s),null;break;case 13:var r=s.memoizedState;if(r!==null)return r.dehydrated!==null?(Rs(s),s.flags|=128,null):(a&s.child.childLanes)!==0?ju(t,s,a):(Rs(s),t=ds(t,s,a),t!==null?t.sibling:null);Rs(s);break;case 19:var c=(t.flags&128)!==0;if(r=(a&s.childLanes)!==0,r||(Da(t,s,a,!1),r=(a&s.childLanes)!==0),c){if(r)return wu(t,s,a);s.flags|=128}if(c=s.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ie($e,$e.current),r)break;return null;case 22:return s.lanes=0,pu(t,s,a,s.pendingProps);case 24:As(s,Ie,t.memoizedState.cache)}return ds(t,s,a)}function ku(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)Qe=!0;else{if(!Ec(t,a)&&(s.flags&128)===0)return Qe=!1,y0(t,s,a);Qe=(t.flags&131072)!==0}else Qe=!1,Se&&(s.flags&1048576)!==0&&sm(s,Cn,s.index);switch(s.lanes=0,s.tag){case 16:e:{var r=s.pendingProps;if(t=la(s.elementType),s.type=t,typeof t=="function")Di(t)?(r=da(t,r),s.tag=1,s=vu(null,s,t,r,a)):(s.tag=0,s=jc(null,s,t,r,a));else{if(t!=null){var c=t.$$typeof;if(c===z){s.tag=11,s=uu(null,s,t,r,a);break e}else if(c===T){s.tag=14,s=hu(null,s,t,r,a);break e}}throw s=D(t)||t,Error(o(306,s,""))}}return s;case 0:return jc(t,s,s.type,s.pendingProps,a);case 1:return r=s.type,c=da(r,s.pendingProps),vu(t,s,r,c,a);case 3:e:{if(Fe(s,s.stateNode.containerInfo),t===null)throw Error(o(387));r=s.pendingProps;var d=s.memoizedState;c=d.element,Ii(t,s),_n(s,r,null,a);var p=s.memoizedState;if(r=p.cache,As(s,Ie,r),r!==d.cache&&Pi(s,[Ie],a,!0),Dn(),r=p.element,d.isDehydrated)if(d={element:r,isDehydrated:!1,cache:p.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=bu(t,s,r,a);break e}else if(r!==c){c=Ut(Error(o(424)),s),An(c),s=bu(t,s,r,a);break e}else for(t=s.stateNode.containerInfo,t.nodeType===9?t=t.body:t=t.nodeName==="HTML"?t.ownerDocument.body:t,Oe=Gt(t.firstChild),at=s,Se=!0,Ss=null,Ht=!0,a=pm(s,null,r,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(sa(),r===c){s=ds(t,s,a);break e}rt(t,s,r,a)}s=s.child}return s;case 26:return al(t,s),t===null?(a=Uh(s.type,null,s.pendingProps,null))?s.memoizedState=a:Se||(a=s.type,t=s.pendingProps,r=bl(he.current).createElement(a),r[st]=s,r[mt]=t,lt(r,a,t),Je(r),s.stateNode=r):s.memoizedState=Uh(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return It(s),t===null&&Se&&(r=s.stateNode=Th(s.type,s.pendingProps,he.current),at=s,Ht=!0,c=Oe,Gs(s.type)?(io=c,Oe=Gt(r.firstChild)):Oe=c),rt(t,s,s.pendingProps.children,a),al(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&Se&&((c=r=Oe)&&(r=K0(r,s.type,s.pendingProps,Ht),r!==null?(s.stateNode=r,at=s,Oe=Gt(r.firstChild),Ht=!1,c=!0):c=!1),c||Cs(s)),It(s),c=s.type,d=s.pendingProps,p=t!==null?t.memoizedProps:null,r=d.children,so(c,d)?r=null:p!==null&&so(c,p)&&(s.flags|=32),s.memoizedState!==null&&(c=tc(t,s,c0,null,null,a),er._currentValue=c),al(t,s),rt(t,s,r,a),s.child;case 6:return t===null&&Se&&((t=a=Oe)&&(a=I0(a,s.pendingProps,Ht),a!==null?(s.stateNode=a,at=s,Oe=null,t=!0):t=!1),t||Cs(s)),null;case 13:return ju(t,s,a);case 4:return Fe(s,s.stateNode.containerInfo),r=s.pendingProps,t===null?s.child=ca(s,null,r,a):rt(t,s,r,a),s.child;case 11:return uu(t,s,s.type,s.pendingProps,a);case 7:return rt(t,s,s.pendingProps,a),s.child;case 8:return rt(t,s,s.pendingProps.children,a),s.child;case 12:return rt(t,s,s.pendingProps.children,a),s.child;case 10:return r=s.pendingProps,As(s,s.type,r.value),rt(t,s,r.children,a),s.child;case 9:return c=s.type._context,r=s.pendingProps.children,na(s),c=nt(c),r=r(c),s.flags|=1,rt(t,s,r,a),s.child;case 14:return hu(t,s,s.type,s.pendingProps,a);case 15:return xu(t,s,s.type,s.pendingProps,a);case 19:return wu(t,s,a);case 31:return f0(t,s,a);case 22:return pu(t,s,a,s.pendingProps);case 24:return na(s),r=nt(Ie),t===null?(c=$i(),c===null&&(c=_e,d=qi(),c.pooledCache=d,d.refCount++,d!==null&&(c.pooledCacheLanes|=a),c=d),s.memoizedState={parent:r,cache:c},Ki(s),As(s,Ie,c)):((t.lanes&a)!==0&&(Ii(t,s),_n(s,null,null,a),Dn()),c=t.memoizedState,d=s.memoizedState,c.parent!==r?(c={parent:r,cache:r},s.memoizedState=c,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=c),As(s,Ie,r)):(r=d.cache,As(s,Ie,r),r!==c.cache&&Pi(s,[Ie],a,!0))),rt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(o(156,s.tag))}function ms(t){t.flags|=4}function Mc(t,s,a,r,c){if((s=(t.mode&32)!==0)&&(s=!1),s){if(t.flags|=16777216,(c&335544128)===c)if(t.stateNode.complete)t.flags|=8192;else if(Zu())t.flags|=8192;else throw ia=Pr,Yi}else t.flags&=-16777217}function Su(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gh(s))if(Zu())t.flags|=8192;else throw ia=Pr,Yi}function rl(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?nd():536870912,t.lanes|=s,$a|=s)}function Gn(t,s){if(!Se)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ze(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,r=0;if(s)for(var c=t.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=r,t.childLanes=a,s}function g0(t,s,a){var r=s.pendingProps;switch(zi(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(s),null;case 1:return ze(s),null;case 3:return a=s.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),s.memoizedState.cache!==r&&(s.flags|=2048),is(Ie),Ue(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ta(s)?ms(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bi())),ze(s),null;case 26:var c=s.type,d=s.memoizedState;return t===null?(ms(s),d!==null?(ze(s),Su(s,d)):(ze(s),Mc(s,c,null,r,a))):d?d!==t.memoizedState?(ms(s),ze(s),Su(s,d)):(ze(s),s.flags&=-16777217):(t=t.memoizedProps,t!==r&&ms(s),ze(s),Mc(s,c,t,r,a)),null;case 27:if(ce(s),a=he.current,c=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==r&&ms(s);else{if(!r){if(s.stateNode===null)throw Error(o(166));return ze(s),null}t=V.current,Ta(s)?nm(s):(t=Th(c,r,a),s.stateNode=t,ms(s))}return ze(s),null;case 5:if(ce(s),c=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==r&&ms(s);else{if(!r){if(s.stateNode===null)throw Error(o(166));return ze(s),null}if(d=V.current,Ta(s))nm(s);else{var p=bl(he.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof r.is=="string"?p.createElement("select",{is:r.is}):p.createElement("select"),r.multiple?d.multiple=!0:r.size&&(d.size=r.size);break;default:d=typeof r.is=="string"?p.createElement(c,{is:r.is}):p.createElement(c)}}d[st]=s,d[mt]=r;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=d;e:switch(lt(d,c,r),c){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&ms(s)}}return ze(s),Mc(s,s.type,t===null?null:t.memoizedProps,s.pendingProps,a),null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==r&&ms(s);else{if(typeof r!="string"&&s.stateNode===null)throw Error(o(166));if(t=he.current,Ta(s)){if(t=s.stateNode,a=s.memoizedProps,r=null,c=at,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}t[st]=s,t=!!(t.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||jh(t.nodeValue,a)),t||Cs(s,!0)}else t=bl(t).createTextNode(r),t[st]=s,s.stateNode=t}return ze(s),null;case 31:if(a=s.memoizedState,t===null||t.memoizedState!==null){if(r=Ta(s),a!==null){if(t===null){if(!r)throw Error(o(318));if(t=s.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(o(557));t[st]=s}else sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ze(s),t=!1}else a=Bi(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return s.flags&256?(Ct(s),s):(Ct(s),null);if((s.flags&128)!==0)throw Error(o(558))}return ze(s),null;case 13:if(r=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ta(s),r!==null&&r.dehydrated!==null){if(t===null){if(!c)throw Error(o(318));if(c=s.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(o(317));c[st]=s}else sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ze(s),c=!1}else c=Bi(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return s.flags&256?(Ct(s),s):(Ct(s),null)}return Ct(s),(s.flags&128)!==0?(s.lanes=a,s):(a=r!==null,t=t!==null&&t.memoizedState!==null,a&&(r=s.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool),d=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(d=r.memoizedState.cachePool.pool),d!==c&&(r.flags|=2048)),a!==t&&a&&(s.child.flags|=8192),rl(s,s.updateQueue),ze(s),null);case 4:return Ue(),t===null&&Zc(s.stateNode.containerInfo),ze(s),null;case 10:return is(s.type),ze(s),null;case 19:if(K($e),r=s.memoizedState,r===null)return ze(s),null;if(c=(s.flags&128)!==0,d=r.rendering,d===null)if(c)Gn(r,!1);else{if(qe!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(d=Yr(t),d!==null){for(s.flags|=128,Gn(r,!1),t=d.updateQueue,s.updateQueue=t,rl(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)Jd(a,t),a=a.sibling;return ie($e,$e.current&1|2),Se&&rs(s,r.treeForkCount),s.child}t=t.sibling}r.tail!==null&&bt()>dl&&(s.flags|=128,c=!0,Gn(r,!1),s.lanes=4194304)}else{if(!c)if(t=Yr(d),t!==null){if(s.flags|=128,c=!0,t=t.updateQueue,s.updateQueue=t,rl(s,t),Gn(r,!0),r.tail===null&&r.tailMode==="hidden"&&!d.alternate&&!Se)return ze(s),null}else 2*bt()-r.renderingStartTime>dl&&a!==536870912&&(s.flags|=128,c=!0,Gn(r,!1),s.lanes=4194304);r.isBackwards?(d.sibling=s.child,s.child=d):(t=r.last,t!==null?t.sibling=d:s.child=d,r.last=d)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=bt(),t.sibling=null,a=$e.current,ie($e,c?a&1|2:a&1),Se&&rs(s,r.treeForkCount),t):(ze(s),null);case 22:case 23:return Ct(s),Wi(),r=s.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(s.flags|=8192):r&&(s.flags|=8192),r?(a&536870912)!==0&&(s.flags&128)===0&&(ze(s),s.subtreeFlags&6&&(s.flags|=8192)):ze(s),a=s.updateQueue,a!==null&&rl(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(s.flags|=2048),t!==null&&K(ra),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),is(Ie),ze(s),null;case 25:return null;case 30:return null}throw Error(o(156,s.tag))}function v0(t,s){switch(zi(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return is(Ie),Ue(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return ce(s),null;case 31:if(s.memoizedState!==null){if(Ct(s),s.alternate===null)throw Error(o(340));sa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 13:if(Ct(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(o(340));sa()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return K($e),null;case 4:return Ue(),null;case 10:return is(s.type),null;case 22:case 23:return Ct(s),Wi(),t!==null&&K(ra),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return is(Ie),null;case 25:return null;default:return null}}function Cu(t,s){switch(zi(s),s.tag){case 3:is(Ie),Ue();break;case 26:case 27:case 5:ce(s);break;case 4:Ue();break;case 31:s.memoizedState!==null&&Ct(s);break;case 13:Ct(s);break;case 19:K($e);break;case 10:is(s.type);break;case 22:case 23:Ct(s),Wi(),t!==null&&K(ra);break;case 24:is(Ie)}}function Vn(t,s){try{var a=s.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var c=r.next;a=c;do{if((a.tag&t)===t){r=void 0;var d=a.create,p=a.inst;r=d(),p.destroy=r}a=a.next}while(a!==c)}}catch(N){Le(s,s.return,N)}}function Ds(t,s,a){try{var r=s.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var d=c.next;r=d;do{if((r.tag&t)===t){var p=r.inst,N=p.destroy;if(N!==void 0){p.destroy=void 0,c=s;var L=a,q=N;try{q()}catch(ee){Le(c,L,ee)}}}r=r.next}while(r!==d)}}catch(ee){Le(s,s.return,ee)}}function Au(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{ym(s,a)}catch(r){Le(t,t.return,r)}}}function Eu(t,s,a){a.props=da(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(r){Le(t,s,r)}}function Pn(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof a=="function"?t.refCleanup=a(r):a.current=r}}catch(c){Le(t,s,c)}}function Zt(t,s){var a=t.ref,r=t.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(c){Le(t,s,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Le(t,s,c)}else a.current=null}function Mu(t){var s=t.type,a=t.memoizedProps,r=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(c){Le(t,t.return,c)}}function Lc(t,s,a){try{var r=t.stateNode;V0(r,t.type,a,s),r[mt]=s}catch(c){Le(t,t.return,c)}}function Lu(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gs(t.type)||t.tag===4}function Rc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Lu(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Tc(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=ss));else if(r!==4&&(r===27&&Gs(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Tc(t,s,a),t=t.sibling;t!==null;)Tc(t,s,a),t=t.sibling}function ll(t,s,a){var r=t.tag;if(r===5||r===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(r!==4&&(r===27&&Gs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(ll(t,s,a),t=t.sibling;t!==null;)ll(t,s,a),t=t.sibling}function Ru(t){var s=t.stateNode,a=t.memoizedProps;try{for(var r=t.type,c=s.attributes;c.length;)s.removeAttributeNode(c[0]);lt(s,r,a),s[st]=t,s[mt]=a}catch(d){Le(t,t.return,d)}}var us=!1,Ze=!1,Dc=!1,Tu=typeof WeakSet=="function"?WeakSet:Set,et=null;function b0(t,s){if(t=t.containerInfo,eo=Al,t=Fd(t),Ci(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var c=r.anchorOffset,d=r.focusNode;r=r.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var p=0,N=-1,L=-1,q=0,ee=0,ne=t,$=null;t:for(;;){for(var Q;ne!==a||c!==0&&ne.nodeType!==3||(N=p+c),ne!==d||r!==0&&ne.nodeType!==3||(L=p+r),ne.nodeType===3&&(p+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)$=ne,ne=Q;for(;;){if(ne===t)break t;if($===a&&++q===c&&(N=p),$===d&&++ee===r&&(L=p),(Q=ne.nextSibling)!==null)break;ne=$,$=ne.parentNode}ne=Q}a=N===-1||L===-1?null:{start:N,end:L}}else a=null}a=a||{start:0,end:0}}else a=null;for(to={focusedElem:t,selectionRange:a},Al=!1,et=s;et!==null;)if(s=et,t=s.child,(s.subtreeFlags&1028)!==0&&t!==null)t.return=s,et=t;else for(;et!==null;){switch(s=et,d=s.alternate,t=s.flags,s.tag){case 0:if((t&4)!==0&&(t=s.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)c=t[a],c.ref.impl=c.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=s,c=d.memoizedProps,d=d.memoizedState,r=a.stateNode;try{var oe=da(a.type,c);t=r.getSnapshotBeforeUpdate(oe,d),r.__reactInternalSnapshotBeforeUpdate=t}catch(xe){Le(a,a.return,xe)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)no(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":no(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(o(163))}if(t=s.sibling,t!==null){t.return=s.return,et=t;break}et=s.return}}function Du(t,s,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:xs(t,a),r&4&&Vn(5,a);break;case 1:if(xs(t,a),r&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(p){Le(a,a.return,p)}else{var c=da(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(c,s,t.__reactInternalSnapshotBeforeUpdate)}catch(p){Le(a,a.return,p)}}r&64&&Au(a),r&512&&Pn(a,a.return);break;case 3:if(xs(t,a),r&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{ym(t,s)}catch(p){Le(a,a.return,p)}}break;case 27:s===null&&r&4&&Ru(a);case 26:case 5:xs(t,a),s===null&&r&4&&Mu(a),r&512&&Pn(a,a.return);break;case 12:xs(t,a);break;case 31:xs(t,a),r&4&&Ou(t,a);break;case 13:xs(t,a),r&4&&zu(t,a),r&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=M0.bind(null,a),X0(t,a))));break;case 22:if(r=a.memoizedState!==null||us,!r){s=s!==null&&s.memoizedState!==null||Ze,c=us;var d=Ze;us=r,(Ze=s)&&!d?ps(t,a,(a.subtreeFlags&8772)!==0):xs(t,a),us=c,Ze=d}break;case 30:break;default:xs(t,a)}}function _u(t){var s=t.alternate;s!==null&&(t.alternate=null,_u(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&oi(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var He=null,ht=!1;function hs(t,s,a){for(a=a.child;a!==null;)Uu(t,s,a),a=a.sibling}function Uu(t,s,a){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(un,a)}catch{}switch(a.tag){case 26:Ze||Zt(a,s),hs(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ze||Zt(a,s);var r=He,c=ht;Gs(a.type)&&(He=a.stateNode,ht=!1),hs(t,s,a),Zn(a.stateNode),He=r,ht=c;break;case 5:Ze||Zt(a,s);case 6:if(r=He,c=ht,He=null,hs(t,s,a),He=r,ht=c,He!==null)if(ht)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(d){Le(a,s,d)}else try{He.removeChild(a.stateNode)}catch(d){Le(a,s,d)}break;case 18:He!==null&&(ht?(t=He,Ah(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Ja(t)):Ah(He,a.stateNode));break;case 4:r=He,c=ht,He=a.stateNode.containerInfo,ht=!0,hs(t,s,a),He=r,ht=c;break;case 0:case 11:case 14:case 15:Ds(2,a,s),Ze||Ds(4,a,s),hs(t,s,a);break;case 1:Ze||(Zt(a,s),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Eu(a,s,r)),hs(t,s,a);break;case 21:hs(t,s,a);break;case 22:Ze=(r=Ze)||a.memoizedState!==null,hs(t,s,a),Ze=r;break;default:hs(t,s,a)}}function Ou(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Ja(t)}catch(a){Le(s,s.return,a)}}}function zu(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ja(t)}catch(a){Le(s,s.return,a)}}function j0(t){switch(t.tag){case 31:case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Tu),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Tu),s;default:throw Error(o(435,t.tag))}}function il(t,s){var a=j0(t);s.forEach(function(r){if(!a.has(r)){a.add(r);var c=L0.bind(null,t,r);r.then(c,c)}})}function xt(t,s){var a=s.deletions;if(a!==null)for(var r=0;r<a.length;r++){var c=a[r],d=t,p=s,N=p;e:for(;N!==null;){switch(N.tag){case 27:if(Gs(N.type)){He=N.stateNode,ht=!1;break e}break;case 5:He=N.stateNode,ht=!1;break e;case 3:case 4:He=N.stateNode.containerInfo,ht=!0;break e}N=N.return}if(He===null)throw Error(o(160));Uu(d,p,c),He=null,ht=!1,d=c.alternate,d!==null&&(d.return=null),c.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Hu(s,t),s=s.sibling}var Ft=null;function Hu(t,s){var a=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:xt(s,t),pt(t),r&4&&(Ds(3,t,t.return),Vn(3,t),Ds(5,t,t.return));break;case 1:xt(s,t),pt(t),r&512&&(Ze||a===null||Zt(a,a.return)),r&64&&us&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var c=Ft;if(xt(s,t),pt(t),r&512&&(Ze||a===null||Zt(a,a.return)),r&4){var d=a!==null?a.memoizedState:null;if(r=t.memoizedState,a===null)if(r===null)if(t.stateNode===null){e:{r=t.type,a=t.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":d=c.getElementsByTagName("title")[0],(!d||d[pn]||d[st]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=c.createElement(r),c.head.insertBefore(d,c.querySelector("head > title"))),lt(d,r,a),d[st]=t,Je(d),r=d;break e;case"link":var p=Hh("link","href",c).get(r+(a.href||""));if(p){for(var N=0;N<p.length;N++)if(d=p[N],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(N,1);break t}}d=c.createElement(r),lt(d,r,a),c.head.appendChild(d);break;case"meta":if(p=Hh("meta","content",c).get(r+(a.content||""))){for(N=0;N<p.length;N++)if(d=p[N],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(N,1);break t}}d=c.createElement(r),lt(d,r,a),c.head.appendChild(d);break;default:throw Error(o(468,r))}d[st]=t,Je(d),r=d}t.stateNode=r}else Bh(c,t.type,t.stateNode);else t.stateNode=zh(c,r,t.memoizedProps);else d!==r?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,r===null?Bh(c,t.type,t.stateNode):zh(c,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Lc(t,t.memoizedProps,a.memoizedProps)}break;case 27:xt(s,t),pt(t),r&512&&(Ze||a===null||Zt(a,a.return)),a!==null&&r&4&&Lc(t,t.memoizedProps,a.memoizedProps);break;case 5:if(xt(s,t),pt(t),r&512&&(Ze||a===null||Zt(a,a.return)),t.flags&32){c=t.stateNode;try{Na(c,"")}catch(oe){Le(t,t.return,oe)}}r&4&&t.stateNode!=null&&(c=t.memoizedProps,Lc(t,c,a!==null?a.memoizedProps:c)),r&1024&&(Dc=!0);break;case 6:if(xt(s,t),pt(t),r&4){if(t.stateNode===null)throw Error(o(162));r=t.memoizedProps,a=t.stateNode;try{a.nodeValue=r}catch(oe){Le(t,t.return,oe)}}break;case 3:if(wl=null,c=Ft,Ft=jl(s.containerInfo),xt(s,t),Ft=c,pt(t),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Ja(s.containerInfo)}catch(oe){Le(t,t.return,oe)}Dc&&(Dc=!1,Bu(t));break;case 4:r=Ft,Ft=jl(t.stateNode.containerInfo),xt(s,t),pt(t),Ft=r;break;case 12:xt(s,t),pt(t);break;case 31:xt(s,t),pt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,il(t,r)));break;case 13:xt(s,t),pt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ol=bt()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,il(t,r)));break;case 22:c=t.memoizedState!==null;var L=a!==null&&a.memoizedState!==null,q=us,ee=Ze;if(us=q||c,Ze=ee||L,xt(s,t),Ze=ee,us=q,pt(t),r&8192)e:for(s=t.stateNode,s._visibility=c?s._visibility&-2:s._visibility|1,c&&(a===null||L||us||Ze||ma(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){L=a=s;try{if(d=L.stateNode,c)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{N=L.stateNode;var ne=L.memoizedProps.style,$=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;N.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(oe){Le(L,L.return,oe)}}}else if(s.tag===6){if(a===null){L=s;try{L.stateNode.nodeValue=c?"":L.memoizedProps}catch(oe){Le(L,L.return,oe)}}}else if(s.tag===18){if(a===null){L=s;try{var Q=L.stateNode;c?Eh(Q,!0):Eh(L.stateNode,!1)}catch(oe){Le(L,L.return,oe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}r&4&&(r=t.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,il(t,a))));break;case 19:xt(s,t),pt(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,il(t,r)));break;case 30:break;case 21:break;default:xt(s,t),pt(t)}}function pt(t){var s=t.flags;if(s&2){try{for(var a,r=t.return;r!==null;){if(Lu(r)){a=r;break}r=r.return}if(a==null)throw Error(o(160));switch(a.tag){case 27:var c=a.stateNode,d=Rc(t);ll(t,d,c);break;case 5:var p=a.stateNode;a.flags&32&&(Na(p,""),a.flags&=-33);var N=Rc(t);ll(t,N,p);break;case 3:case 4:var L=a.stateNode.containerInfo,q=Rc(t);Tc(t,q,L);break;default:throw Error(o(161))}}catch(ee){Le(t,t.return,ee)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function Bu(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;Bu(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function xs(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Du(t,s.alternate,s),s=s.sibling}function ma(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Ds(4,s,s.return),ma(s);break;case 1:Zt(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&Eu(s,s.return,a),ma(s);break;case 27:Zn(s.stateNode);case 26:case 5:Zt(s,s.return),ma(s);break;case 22:s.memoizedState===null&&ma(s);break;case 30:ma(s);break;default:ma(s)}t=t.sibling}}function ps(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var r=s.alternate,c=t,d=s,p=d.flags;switch(d.tag){case 0:case 11:case 15:ps(c,d,a),Vn(4,d);break;case 1:if(ps(c,d,a),r=d,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(q){Le(r,r.return,q)}if(r=d,c=r.updateQueue,c!==null){var N=r.stateNode;try{var L=c.shared.hiddenCallbacks;if(L!==null)for(c.shared.hiddenCallbacks=null,c=0;c<L.length;c++)fm(L[c],N)}catch(q){Le(r,r.return,q)}}a&&p&64&&Au(d),Pn(d,d.return);break;case 27:Ru(d);case 26:case 5:ps(c,d,a),a&&r===null&&p&4&&Mu(d),Pn(d,d.return);break;case 12:ps(c,d,a);break;case 31:ps(c,d,a),a&&p&4&&Ou(c,d);break;case 13:ps(c,d,a),a&&p&4&&zu(c,d);break;case 22:d.memoizedState===null&&ps(c,d,a),Pn(d,d.return);break;case 30:break;default:ps(c,d,a)}s=s.sibling}}function _c(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&En(a))}function Uc(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&En(t))}function $t(t,s,a,r){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gu(t,s,a,r),s=s.sibling}function Gu(t,s,a,r){var c=s.flags;switch(s.tag){case 0:case 11:case 15:$t(t,s,a,r),c&2048&&Vn(9,s);break;case 1:$t(t,s,a,r);break;case 3:$t(t,s,a,r),c&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&En(t)));break;case 12:if(c&2048){$t(t,s,a,r),t=s.stateNode;try{var d=s.memoizedProps,p=d.id,N=d.onPostCommit;typeof N=="function"&&N(p,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(L){Le(s,s.return,L)}}else $t(t,s,a,r);break;case 31:$t(t,s,a,r);break;case 13:$t(t,s,a,r);break;case 23:break;case 22:d=s.stateNode,p=s.alternate,s.memoizedState!==null?d._visibility&2?$t(t,s,a,r):qn(t,s):d._visibility&2?$t(t,s,a,r):(d._visibility|=2,Pa(t,s,a,r,(s.subtreeFlags&10256)!==0||!1)),c&2048&&_c(p,s);break;case 24:$t(t,s,a,r),c&2048&&Uc(s.alternate,s);break;default:$t(t,s,a,r)}}function Pa(t,s,a,r,c){for(c=c&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=t,p=s,N=a,L=r,q=p.flags;switch(p.tag){case 0:case 11:case 15:Pa(d,p,N,L,c),Vn(8,p);break;case 23:break;case 22:var ee=p.stateNode;p.memoizedState!==null?ee._visibility&2?Pa(d,p,N,L,c):qn(d,p):(ee._visibility|=2,Pa(d,p,N,L,c)),c&&q&2048&&_c(p.alternate,p);break;case 24:Pa(d,p,N,L,c),c&&q&2048&&Uc(p.alternate,p);break;default:Pa(d,p,N,L,c)}s=s.sibling}}function qn(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,r=s,c=r.flags;switch(r.tag){case 22:qn(a,r),c&2048&&_c(r.alternate,r);break;case 24:qn(a,r),c&2048&&Uc(r.alternate,r);break;default:qn(a,r)}s=s.sibling}}var Fn=8192;function qa(t,s,a){if(t.subtreeFlags&Fn)for(t=t.child;t!==null;)Vu(t,s,a),t=t.sibling}function Vu(t,s,a){switch(t.tag){case 26:qa(t,s,a),t.flags&Fn&&t.memoizedState!==null&&iy(a,Ft,t.memoizedState,t.memoizedProps);break;case 5:qa(t,s,a);break;case 3:case 4:var r=Ft;Ft=jl(t.stateNode.containerInfo),qa(t,s,a),Ft=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Fn,Fn=16777216,qa(t,s,a),Fn=r):qa(t,s,a));break;default:qa(t,s,a)}}function Pu(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function $n(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];et=r,Fu(r,t)}Pu(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)qu(t),t=t.sibling}function qu(t){switch(t.tag){case 0:case 11:case 15:$n(t),t.flags&2048&&Ds(9,t,t.return);break;case 3:$n(t);break;case 12:$n(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,cl(t)):$n(t);break;default:$n(t)}}function cl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var r=s[a];et=r,Fu(r,t)}Pu(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Ds(8,s,s.return),cl(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,cl(s));break;default:cl(s)}t=t.sibling}}function Fu(t,s){for(;et!==null;){var a=et;switch(a.tag){case 0:case 11:case 15:Ds(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:En(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,et=r;else e:for(a=t;et!==null;){r=et;var c=r.sibling,d=r.return;if(_u(r),r===a){et=null;break e}if(c!==null){c.return=d,et=c;break e}et=d}}}var N0={getCacheForType:function(t){var s=nt(Ie),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a},cacheSignal:function(){return nt(Ie).controller.signal}},w0=typeof WeakMap=="function"?WeakMap:Map,Ee=0,_e=null,je=null,we=0,Me=0,At=null,_s=!1,Fa=!1,Oc=!1,fs=0,qe=0,Us=0,ua=0,zc=0,Et=0,$a=0,Yn=null,ft=null,Hc=!1,ol=0,$u=0,dl=1/0,ml=null,Os=null,We=0,zs=null,Ya=null,ys=0,Bc=0,Gc=null,Yu=null,Kn=0,Vc=null;function Mt(){return(Ee&2)!==0&&we!==0?we&-we:S.T!==null?Kc():cd()}function Ku(){if(Et===0)if((we&536870912)===0||Se){var t=vr;vr<<=1,(vr&3932160)===0&&(vr=262144),Et=t}else Et=536870912;return t=St.current,t!==null&&(t.flags|=32),Et}function yt(t,s,a){(t===_e&&(Me===2||Me===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Hs(t,we,Et,!1)),xn(t,a),((Ee&2)===0||t!==_e)&&(t===_e&&((Ee&2)===0&&(ua|=a),qe===4&&Hs(t,we,Et,!1)),Wt(t))}function Iu(t,s,a){if((Ee&6)!==0)throw Error(o(327));var r=!a&&(s&127)===0&&(s&t.expiredLanes)===0||hn(t,s),c=r?C0(t,s):qc(t,s,!0),d=r;do{if(c===0){Fa&&!r&&Hs(t,s,0,!1);break}else{if(a=t.current.alternate,d&&!k0(a)){c=qc(t,s,!1),d=!1;continue}if(c===2){if(d=s,t.errorRecoveryDisabledLanes&d)var p=0;else p=t.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){s=p;e:{var N=t;c=Yn;var L=N.current.memoizedState.isDehydrated;if(L&&(Ka(N,p).flags|=256),p=qc(N,p,!1),p!==2){if(Oc&&!L){N.errorRecoveryDisabledLanes|=d,ua|=d,c=4;break e}d=ft,ft=c,d!==null&&(ft===null?ft=d:ft.push.apply(ft,d))}c=p}if(d=!1,c!==2)continue}}if(c===1){Ka(t,0),Hs(t,s,0,!0);break}e:{switch(r=t,d=c,d){case 0:case 1:throw Error(o(345));case 4:if((s&4194048)!==s)break;case 6:Hs(r,s,Et,!_s);break e;case 2:ft=null;break;case 3:case 5:break;default:throw Error(o(329))}if((s&62914560)===s&&(c=ol+300-bt(),10<c)){if(Hs(r,s,Et,!_s),jr(r,0,!0)!==0)break e;ys=s,r.timeoutHandle=Sh(Xu.bind(null,r,a,ft,ml,Hc,s,Et,ua,$a,_s,d,"Throttled",-0,0),c);break e}Xu(r,a,ft,ml,Hc,s,Et,ua,$a,_s,d,null,-0,0)}}break}while(!0);Wt(t)}function Xu(t,s,a,r,c,d,p,N,L,q,ee,ne,$,Q){if(t.timeoutHandle=-1,ne=s.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ss},Vu(s,d,ne);var oe=(d&62914560)===d?ol-bt():(d&4194048)===d?$u-bt():0;if(oe=cy(ne,oe),oe!==null){ys=d,t.cancelPendingCommit=oe(ah.bind(null,t,s,d,a,r,c,p,N,L,ee,ne,null,$,Q)),Hs(t,d,p,!q);return}}ah(t,s,d,a,r,c,p,N,L)}function k0(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var c=a[r],d=c.getSnapshot;c=c.value;try{if(!wt(d(),c))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Hs(t,s,a,r){s&=~zc,s&=~ua,t.suspendedLanes|=s,t.pingedLanes&=~s,r&&(t.warmLanes|=s),r=t.expirationTimes;for(var c=s;0<c;){var d=31-Nt(c),p=1<<d;r[d]=-1,c&=~p}a!==0&&rd(t,a,s)}function ul(){return(Ee&6)===0?(In(0),!1):!0}function Pc(){if(je!==null){if(Me===0)var t=je.return;else t=je,ls=aa=null,nc(t),za=null,Ln=0,t=je;for(;t!==null;)Cu(t.alternate,t),t=t.return;je=null}}function Ka(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,F0(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ys=0,Pc(),_e=t,je=a=ns(t.current,null),we=s,Me=0,At=null,_s=!1,Fa=hn(t,s),Oc=!1,$a=Et=zc=ua=Us=qe=0,ft=Yn=null,Hc=!1,(s&8)!==0&&(s|=s&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=s;0<r;){var c=31-Nt(r),d=1<<c;s|=t[c],r&=~d}return fs=s,Dr(),a}function Qu(t,s){ge=null,S.H=Hn,s===Oa||s===Vr?(s=um(),Me=3):s===Yi?(s=um(),Me=4):Me=s===bc?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,At=s,je===null&&(qe=1,tl(t,Ut(s,t.current)))}function Zu(){var t=St.current;return t===null?!0:(we&4194048)===we?Bt===null:(we&62914560)===we||(we&536870912)!==0?t===Bt:!1}function Wu(){var t=S.H;return S.H=Hn,t===null?Hn:t}function Ju(){var t=S.A;return S.A=N0,t}function hl(){qe=4,_s||(we&4194048)!==we&&St.current!==null||(Fa=!0),(Us&134217727)===0&&(ua&134217727)===0||_e===null||Hs(_e,we,Et,!1)}function qc(t,s,a){var r=Ee;Ee|=2;var c=Wu(),d=Ju();(_e!==t||we!==s)&&(ml=null,Ka(t,s)),s=!1;var p=qe;e:do try{if(Me!==0&&je!==null){var N=je,L=At;switch(Me){case 8:Pc(),p=6;break e;case 3:case 2:case 9:case 6:St.current===null&&(s=!0);var q=Me;if(Me=0,At=null,Ia(t,N,L,q),a&&Fa){p=0;break e}break;default:q=Me,Me=0,At=null,Ia(t,N,L,q)}}S0(),p=qe;break}catch(ee){Qu(t,ee)}while(!0);return s&&t.shellSuspendCounter++,ls=aa=null,Ee=r,S.H=c,S.A=d,je===null&&(_e=null,we=0,Dr()),p}function S0(){for(;je!==null;)eh(je)}function C0(t,s){var a=Ee;Ee|=2;var r=Wu(),c=Ju();_e!==t||we!==s?(ml=null,dl=bt()+500,Ka(t,s)):Fa=hn(t,s);e:do try{if(Me!==0&&je!==null){s=je;var d=At;t:switch(Me){case 1:Me=0,At=null,Ia(t,s,d,1);break;case 2:case 9:if(dm(d)){Me=0,At=null,th(s);break}s=function(){Me!==2&&Me!==9||_e!==t||(Me=7),Wt(t)},d.then(s,s);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:dm(d)?(Me=0,At=null,th(s)):(Me=0,At=null,Ia(t,s,d,7));break;case 5:var p=null;switch(je.tag){case 26:p=je.memoizedState;case 5:case 27:var N=je;if(p?Gh(p):N.stateNode.complete){Me=0,At=null;var L=N.sibling;if(L!==null)je=L;else{var q=N.return;q!==null?(je=q,xl(q)):je=null}break t}}Me=0,At=null,Ia(t,s,d,5);break;case 6:Me=0,At=null,Ia(t,s,d,6);break;case 8:Pc(),qe=6;break e;default:throw Error(o(462))}}A0();break}catch(ee){Qu(t,ee)}while(!0);return ls=aa=null,S.H=r,S.A=c,Ee=a,je!==null?0:(_e=null,we=0,Dr(),qe)}function A0(){for(;je!==null&&!Xp();)eh(je)}function eh(t){var s=ku(t.alternate,t,fs);t.memoizedProps=t.pendingProps,s===null?xl(t):je=s}function th(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=gu(a,s,s.pendingProps,s.type,void 0,we);break;case 11:s=gu(a,s,s.pendingProps,s.type.render,s.ref,we);break;case 5:nc(s);default:Cu(a,s),s=je=Jd(s,fs),s=ku(a,s,fs)}t.memoizedProps=t.pendingProps,s===null?xl(t):je=s}function Ia(t,s,a,r){ls=aa=null,nc(s),za=null,Ln=0;var c=s.return;try{if(p0(t,c,s,a,we)){qe=1,tl(t,Ut(a,t.current)),je=null;return}}catch(d){if(c!==null)throw je=c,d;qe=1,tl(t,Ut(a,t.current)),je=null;return}s.flags&32768?(Se||r===1?t=!0:Fa||(we&536870912)!==0?t=!1:(_s=t=!0,(r===2||r===9||r===3||r===6)&&(r=St.current,r!==null&&r.tag===13&&(r.flags|=16384))),sh(s,t)):xl(s)}function xl(t){var s=t;do{if((s.flags&32768)!==0){sh(s,_s);return}t=s.return;var a=g0(s.alternate,s,fs);if(a!==null){je=a;return}if(s=s.sibling,s!==null){je=s;return}je=s=t}while(s!==null);qe===0&&(qe=5)}function sh(t,s){do{var a=v0(t.alternate,t);if(a!==null){a.flags&=32767,je=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){je=t;return}je=t=a}while(t!==null);qe=6,je=null}function ah(t,s,a,r,c,d,p,N,L){t.cancelPendingCommit=null;do pl();while(We!==0);if((Ee&6)!==0)throw Error(o(327));if(s!==null){if(s===t.current)throw Error(o(177));if(d=s.lanes|s.childLanes,d|=Ri,rf(t,a,d,p,N,L),t===_e&&(je=_e=null,we=0),Ya=s,zs=t,ys=a,Bc=d,Gc=c,Yu=r,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,R0(yr,function(){return ch(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||r){r=S.T,S.T=null,c=W.p,W.p=2,p=Ee,Ee|=4;try{b0(t,s,a)}finally{Ee=p,W.p=c,S.T=r}}We=1,nh(),rh(),lh()}}function nh(){if(We===1){We=0;var t=zs,s=Ya,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=S.T,S.T=null;var r=W.p;W.p=2;var c=Ee;Ee|=4;try{Hu(s,t);var d=to,p=Fd(t.containerInfo),N=d.focusedElem,L=d.selectionRange;if(p!==N&&N&&N.ownerDocument&&qd(N.ownerDocument.documentElement,N)){if(L!==null&&Ci(N)){var q=L.start,ee=L.end;if(ee===void 0&&(ee=q),"selectionStart"in N)N.selectionStart=q,N.selectionEnd=Math.min(ee,N.value.length);else{var ne=N.ownerDocument||document,$=ne&&ne.defaultView||window;if($.getSelection){var Q=$.getSelection(),oe=N.textContent.length,xe=Math.min(L.start,oe),De=L.end===void 0?xe:Math.min(L.end,oe);!Q.extend&&xe>De&&(p=De,De=xe,xe=p);var H=Pd(N,xe),_=Pd(N,De);if(H&&_&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==_.node||Q.focusOffset!==_.offset)){var P=ne.createRange();P.setStart(H.node,H.offset),Q.removeAllRanges(),xe>De?(Q.addRange(P),Q.extend(_.node,_.offset)):(P.setEnd(_.node,_.offset),Q.addRange(P))}}}}for(ne=[],Q=N;Q=Q.parentNode;)Q.nodeType===1&&ne.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<ne.length;N++){var ae=ne[N];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}Al=!!eo,to=eo=null}finally{Ee=c,W.p=r,S.T=a}}t.current=s,We=2}}function rh(){if(We===2){We=0;var t=zs,s=Ya,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=S.T,S.T=null;var r=W.p;W.p=2;var c=Ee;Ee|=4;try{Du(t,s.alternate,s)}finally{Ee=c,W.p=r,S.T=a}}We=3}}function lh(){if(We===4||We===3){We=0,Qp();var t=zs,s=Ya,a=ys,r=Yu;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?We=5:(We=0,Ya=zs=null,ih(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Os=null),ii(a),s=s.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(un,s,void 0,(s.current.flags&128)===128)}catch{}if(r!==null){s=S.T,c=W.p,W.p=2,S.T=null;try{for(var d=t.onRecoverableError,p=0;p<r.length;p++){var N=r[p];d(N.value,{componentStack:N.stack})}}finally{S.T=s,W.p=c}}(ys&3)!==0&&pl(),Wt(t),c=t.pendingLanes,(a&261930)!==0&&(c&42)!==0?t===Vc?Kn++:(Kn=0,Vc=t):Kn=0,In(0)}}function ih(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,En(s)))}function pl(){return nh(),rh(),lh(),ch()}function ch(){if(We!==5)return!1;var t=zs,s=Bc;Bc=0;var a=ii(ys),r=S.T,c=W.p;try{W.p=32>a?32:a,S.T=null,a=Gc,Gc=null;var d=zs,p=ys;if(We=0,Ya=zs=null,ys=0,(Ee&6)!==0)throw Error(o(331));var N=Ee;if(Ee|=4,qu(d.current),Gu(d,d.current,p,a),Ee=N,In(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(un,d)}catch{}return!0}finally{W.p=c,S.T=r,ih(t,s)}}function oh(t,s,a){s=Ut(a,s),s=vc(t.stateNode,s,2),t=Ls(t,s,2),t!==null&&(xn(t,2),Wt(t))}function Le(t,s,a){if(t.tag===3)oh(t,t,a);else for(;s!==null;){if(s.tag===3){oh(s,t,a);break}else if(s.tag===1){var r=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Os===null||!Os.has(r))){t=Ut(a,t),a=du(2),r=Ls(s,a,2),r!==null&&(mu(a,r,s,t),xn(r,2),Wt(r));break}}s=s.return}}function Fc(t,s,a){var r=t.pingCache;if(r===null){r=t.pingCache=new w0;var c=new Set;r.set(s,c)}else c=r.get(s),c===void 0&&(c=new Set,r.set(s,c));c.has(a)||(Oc=!0,c.add(a),t=E0.bind(null,t,s,a),s.then(t,t))}function E0(t,s,a){var r=t.pingCache;r!==null&&r.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,_e===t&&(we&a)===a&&(qe===4||qe===3&&(we&62914560)===we&&300>bt()-ol?(Ee&2)===0&&Ka(t,0):zc|=a,$a===we&&($a=0)),Wt(t)}function dh(t,s){s===0&&(s=nd()),t=ea(t,s),t!==null&&(xn(t,s),Wt(t))}function M0(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),dh(t,a)}function L0(t,s){var a=0;switch(t.tag){case 31:case 13:var r=t.stateNode,c=t.memoizedState;c!==null&&(a=c.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(o(314))}r!==null&&r.delete(s),dh(t,a)}function R0(t,s){return ai(t,s)}var fl=null,Xa=null,$c=!1,yl=!1,Yc=!1,Bs=0;function Wt(t){t!==Xa&&t.next===null&&(Xa===null?fl=Xa=t:Xa=Xa.next=t),yl=!0,$c||($c=!0,D0())}function In(t,s){if(!Yc&&yl){Yc=!0;do for(var a=!1,r=fl;r!==null;){if(t!==0){var c=r.pendingLanes;if(c===0)var d=0;else{var p=r.suspendedLanes,N=r.pingedLanes;d=(1<<31-Nt(42|t)+1)-1,d&=c&~(p&~N),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,xh(r,d))}else d=we,d=jr(r,r===_e?d:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(d&3)===0||hn(r,d)||(a=!0,xh(r,d));r=r.next}while(a);Yc=!1}}function T0(){mh()}function mh(){yl=$c=!1;var t=0;Bs!==0&&q0()&&(t=Bs);for(var s=bt(),a=null,r=fl;r!==null;){var c=r.next,d=uh(r,s);d===0?(r.next=null,a===null?fl=c:a.next=c,c===null&&(Xa=a)):(a=r,(t!==0||(d&3)!==0)&&(yl=!0)),r=c}We!==0&&We!==5||In(t),Bs!==0&&(Bs=0)}function uh(t,s){for(var a=t.suspendedLanes,r=t.pingedLanes,c=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var p=31-Nt(d),N=1<<p,L=c[p];L===-1?((N&a)===0||(N&r)!==0)&&(c[p]=nf(N,s)):L<=s&&(t.expiredLanes|=N),d&=~N}if(s=_e,a=we,a=jr(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,a===0||t===s&&(Me===2||Me===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&ni(r),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||hn(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(r!==null&&ni(r),ii(a)){case 2:case 8:a=sd;break;case 32:a=yr;break;case 268435456:a=ad;break;default:a=yr}return r=hh.bind(null,t),a=ai(a,r),t.callbackPriority=s,t.callbackNode=a,s}return r!==null&&r!==null&&ni(r),t.callbackPriority=2,t.callbackNode=null,2}function hh(t,s){if(We!==0&&We!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(pl()&&t.callbackNode!==a)return null;var r=we;return r=jr(t,t===_e?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(Iu(t,r,s),uh(t,bt()),t.callbackNode!=null&&t.callbackNode===a?hh.bind(null,t):null)}function xh(t,s){if(pl())return null;Iu(t,s,!0)}function D0(){$0(function(){(Ee&6)!==0?ai(td,T0):mh()})}function Kc(){if(Bs===0){var t=_a;t===0&&(t=gr,gr<<=1,(gr&261888)===0&&(gr=256)),Bs=t}return Bs}function ph(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Sr(""+t)}function fh(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function _0(t,s,a,r,c){if(s==="submit"&&a&&a.stateNode===c){var d=ph((c[mt]||null).action),p=r.submitter;p&&(s=(s=p[mt]||null)?ph(s.formAction):p.getAttribute("formAction"),s!==null&&(d=s,p=null));var N=new Mr("action","action",null,r,c);t.push({event:N,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Bs!==0){var L=p?fh(c,p):new FormData(c);hc(a,{pending:!0,data:L,method:c.method,action:d},null,L)}}else typeof d=="function"&&(N.preventDefault(),L=p?fh(c,p):new FormData(c),hc(a,{pending:!0,data:L,method:c.method,action:d},d,L))},currentTarget:c}]})}}for(var Ic=0;Ic<Li.length;Ic++){var Xc=Li[Ic],U0=Xc.toLowerCase(),O0=Xc[0].toUpperCase()+Xc.slice(1);qt(U0,"on"+O0)}qt(Kd,"onAnimationEnd"),qt(Id,"onAnimationIteration"),qt(Xd,"onAnimationStart"),qt("dblclick","onDoubleClick"),qt("focusin","onFocus"),qt("focusout","onBlur"),qt(Wf,"onTransitionRun"),qt(Jf,"onTransitionStart"),qt(e0,"onTransitionCancel"),qt(Qd,"onTransitionEnd"),ba("onMouseEnter",["mouseout","mouseover"]),ba("onMouseLeave",["mouseout","mouseover"]),ba("onPointerEnter",["pointerout","pointerover"]),ba("onPointerLeave",["pointerout","pointerover"]),Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),z0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Xn));function yh(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var r=t[a],c=r.event;r=r.listeners;e:{var d=void 0;if(s)for(var p=r.length-1;0<=p;p--){var N=r[p],L=N.instance,q=N.currentTarget;if(N=N.listener,L!==d&&c.isPropagationStopped())break e;d=N,c.currentTarget=q;try{d(c)}catch(ee){Tr(ee)}c.currentTarget=null,d=L}else for(p=0;p<r.length;p++){if(N=r[p],L=N.instance,q=N.currentTarget,N=N.listener,L!==d&&c.isPropagationStopped())break e;d=N,c.currentTarget=q;try{d(c)}catch(ee){Tr(ee)}c.currentTarget=null,d=L}}}}function Ne(t,s){var a=s[ci];a===void 0&&(a=s[ci]=new Set);var r=t+"__bubble";a.has(r)||(gh(s,t,2,!1),a.add(r))}function Qc(t,s,a){var r=0;s&&(r|=4),gh(a,t,r,s)}var gl="_reactListening"+Math.random().toString(36).slice(2);function Zc(t){if(!t[gl]){t[gl]=!0,md.forEach(function(a){a!=="selectionchange"&&(z0.has(a)||Qc(a,!1,t),Qc(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[gl]||(s[gl]=!0,Qc("selectionchange",!1,s))}}function gh(t,s,a,r){switch(Kh(s)){case 2:var c=my;break;case 8:c=uy;break;default:c=ho}a=c.bind(null,s,a,t),c=void 0,!yi||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(c=!0),r?c!==void 0?t.addEventListener(s,a,{capture:!0,passive:c}):t.addEventListener(s,a,!0):c!==void 0?t.addEventListener(s,a,{passive:c}):t.addEventListener(s,a,!1)}function Wc(t,s,a,r,c){var d=r;if((s&1)===0&&(s&2)===0&&r!==null)e:for(;;){if(r===null)return;var p=r.tag;if(p===3||p===4){var N=r.stateNode.containerInfo;if(N===c)break;if(p===4)for(p=r.return;p!==null;){var L=p.tag;if((L===3||L===4)&&p.stateNode.containerInfo===c)return;p=p.return}for(;N!==null;){if(p=ya(N),p===null)return;if(L=p.tag,L===5||L===6||L===26||L===27){r=d=p;continue e}N=N.parentNode}}r=r.return}wd(function(){var q=d,ee=pi(a),ne=[];e:{var $=Zd.get(t);if($!==void 0){var Q=Mr,oe=t;switch(t){case"keypress":if(Ar(a)===0)break e;case"keydown":case"keyup":Q=Lf;break;case"focusin":oe="focus",Q=ji;break;case"focusout":oe="blur",Q=ji;break;case"beforeblur":case"afterblur":Q=ji;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Cd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=gf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Df;break;case Kd:case Id:case Xd:Q=jf;break;case Qd:Q=Uf;break;case"scroll":case"scrollend":Q=ff;break;case"wheel":Q=zf;break;case"copy":case"cut":case"paste":Q=wf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Ed;break;case"toggle":case"beforetoggle":Q=Bf}var xe=(s&4)!==0,De=!xe&&(t==="scroll"||t==="scrollend"),H=xe?$!==null?$+"Capture":null:$;xe=[];for(var _=q,P;_!==null;){var ae=_;if(P=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||P===null||H===null||(ae=yn(_,H),ae!=null&&xe.push(Qn(_,ae,P))),De)break;_=_.return}0<xe.length&&($=new Q($,oe,null,a,ee),ne.push({event:$,listeners:xe}))}}if((s&7)===0){e:{if($=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",$&&a!==xi&&(oe=a.relatedTarget||a.fromElement)&&(ya(oe)||oe[fa]))break e;if((Q||$)&&($=ee.window===ee?ee:($=ee.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(oe=a.relatedTarget||a.toElement,Q=q,oe=oe?ya(oe):null,oe!==null&&(De=h(oe),xe=oe.tag,oe!==De||xe!==5&&xe!==27&&xe!==6)&&(oe=null)):(Q=null,oe=q),Q!==oe)){if(xe=Cd,ae="onMouseLeave",H="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(xe=Ed,ae="onPointerLeave",H="onPointerEnter",_="pointer"),De=Q==null?$:fn(Q),P=oe==null?$:fn(oe),$=new xe(ae,_+"leave",Q,a,ee),$.target=De,$.relatedTarget=P,ae=null,ya(ee)===q&&(xe=new xe(H,_+"enter",oe,a,ee),xe.target=P,xe.relatedTarget=De,ae=xe),De=ae,Q&&oe)t:{for(xe=H0,H=Q,_=oe,P=0,ae=H;ae;ae=xe(ae))P++;ae=0;for(var ue=_;ue;ue=xe(ue))ae++;for(;0<P-ae;)H=xe(H),P--;for(;0<ae-P;)_=xe(_),ae--;for(;P--;){if(H===_||_!==null&&H===_.alternate){xe=H;break t}H=xe(H),_=xe(_)}xe=null}else xe=null;Q!==null&&vh(ne,$,Q,xe,!1),oe!==null&&De!==null&&vh(ne,De,oe,xe,!0)}}e:{if($=q?fn(q):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var Ce=Od;else if(_d($))if(zd)Ce=Xf;else{Ce=Kf;var de=Yf}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?q&&hi(q.elementType)&&(Ce=Od):Ce=If;if(Ce&&(Ce=Ce(t,q))){Ud(ne,Ce,a,ee);break e}de&&de(t,$,q),t==="focusout"&&q&&$.type==="number"&&q.memoizedProps.value!=null&&ui($,"number",$.value)}switch(de=q?fn(q):window,t){case"focusin":(_d(de)||de.contentEditable==="true")&&(Ca=de,Ai=q,Sn=null);break;case"focusout":Sn=Ai=Ca=null;break;case"mousedown":Ei=!0;break;case"contextmenu":case"mouseup":case"dragend":Ei=!1,$d(ne,a,ee);break;case"selectionchange":if(Zf)break;case"keydown":case"keyup":$d(ne,a,ee)}var be;if(wi)e:{switch(t){case"compositionstart":var ke="onCompositionStart";break e;case"compositionend":ke="onCompositionEnd";break e;case"compositionupdate":ke="onCompositionUpdate";break e}ke=void 0}else Sa?Td(t,a)&&(ke="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ke="onCompositionStart");ke&&(Md&&a.locale!=="ko"&&(Sa||ke!=="onCompositionStart"?ke==="onCompositionEnd"&&Sa&&(be=kd()):(ws=ee,gi="value"in ws?ws.value:ws.textContent,Sa=!0)),de=vl(q,ke),0<de.length&&(ke=new Ad(ke,t,null,a,ee),ne.push({event:ke,listeners:de}),be?ke.data=be:(be=Dd(a),be!==null&&(ke.data=be)))),(be=Vf?Pf(t,a):qf(t,a))&&(ke=vl(q,"onBeforeInput"),0<ke.length&&(de=new Ad("onBeforeInput","beforeinput",null,a,ee),ne.push({event:de,listeners:ke}),de.data=be)),_0(ne,t,q,a,ee)}yh(ne,s)})}function Qn(t,s,a){return{instance:t,listener:s,currentTarget:a}}function vl(t,s){for(var a=s+"Capture",r=[];t!==null;){var c=t,d=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||d===null||(c=yn(t,a),c!=null&&r.unshift(Qn(t,c,d)),c=yn(t,s),c!=null&&r.push(Qn(t,c,d))),t.tag===3)return r;t=t.return}return[]}function H0(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function vh(t,s,a,r,c){for(var d=s._reactName,p=[];a!==null&&a!==r;){var N=a,L=N.alternate,q=N.stateNode;if(N=N.tag,L!==null&&L===r)break;N!==5&&N!==26&&N!==27||q===null||(L=q,c?(q=yn(a,d),q!=null&&p.unshift(Qn(a,q,L))):c||(q=yn(a,d),q!=null&&p.push(Qn(a,q,L)))),a=a.return}p.length!==0&&t.push({event:s,listeners:p})}var B0=/\r\n?/g,G0=/\u0000|\uFFFD/g;function bh(t){return(typeof t=="string"?t:""+t).replace(B0,`
`).replace(G0,"")}function jh(t,s){return s=bh(s),bh(t)===s}function Te(t,s,a,r,c,d){switch(a){case"children":typeof r=="string"?s==="body"||s==="textarea"&&r===""||Na(t,r):(typeof r=="number"||typeof r=="bigint")&&s!=="body"&&Na(t,""+r);break;case"className":wr(t,"class",r);break;case"tabIndex":wr(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":wr(t,a,r);break;case"style":jd(t,r,d);break;case"data":if(s!=="object"){wr(t,"data",r);break}case"src":case"href":if(r===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=Sr(""+r),t.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(s!=="input"&&Te(t,s,"name",c.name,c,null),Te(t,s,"formEncType",c.formEncType,c,null),Te(t,s,"formMethod",c.formMethod,c,null),Te(t,s,"formTarget",c.formTarget,c,null)):(Te(t,s,"encType",c.encType,c,null),Te(t,s,"method",c.method,c,null),Te(t,s,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(a);break}r=Sr(""+r),t.setAttribute(a,r);break;case"onClick":r!=null&&(t.onclick=ss);break;case"onScroll":r!=null&&Ne("scroll",t);break;case"onScrollEnd":r!=null&&Ne("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}a=Sr(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""+r):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":r===!0?t.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(a,r):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(a,r):t.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(a):t.setAttribute(a,r);break;case"popover":Ne("beforetoggle",t),Ne("toggle",t),Nr(t,"popover",r);break;case"xlinkActuate":ts(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":ts(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":ts(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":ts(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":ts(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":ts(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":ts(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":ts(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":ts(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Nr(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=xf.get(a)||a,Nr(t,a,r))}}function Jc(t,s,a,r,c,d){switch(a){case"style":jd(t,r,d);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(o(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(o(60));t.innerHTML=a}}break;case"children":typeof r=="string"?Na(t,r):(typeof r=="number"||typeof r=="bigint")&&Na(t,""+r);break;case"onScroll":r!=null&&Ne("scroll",t);break;case"onScrollEnd":r!=null&&Ne("scrollend",t);break;case"onClick":r!=null&&(t.onclick=ss);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ud.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),s=a.slice(2,c?a.length-7:void 0),d=t[mt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(s,d,c),typeof r=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,r,c);break e}a in t?t[a]=r:r===!0?t.setAttribute(a,""):Nr(t,a,r)}}}function lt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",t),Ne("load",t);var r=!1,c=!1,d;for(d in a)if(a.hasOwnProperty(d)){var p=a[d];if(p!=null)switch(d){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Te(t,s,d,p,a,null)}}c&&Te(t,s,"srcSet",a.srcSet,a,null),r&&Te(t,s,"src",a.src,a,null);return;case"input":Ne("invalid",t);var N=d=p=c=null,L=null,q=null;for(r in a)if(a.hasOwnProperty(r)){var ee=a[r];if(ee!=null)switch(r){case"name":c=ee;break;case"type":p=ee;break;case"checked":L=ee;break;case"defaultChecked":q=ee;break;case"value":d=ee;break;case"defaultValue":N=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(o(137,s));break;default:Te(t,s,r,ee,a,null)}}yd(t,d,N,L,q,p,c,!1);return;case"select":Ne("invalid",t),r=p=d=null;for(c in a)if(a.hasOwnProperty(c)&&(N=a[c],N!=null))switch(c){case"value":d=N;break;case"defaultValue":p=N;break;case"multiple":r=N;default:Te(t,s,c,N,a,null)}s=d,a=p,t.multiple=!!r,s!=null?ja(t,!!r,s,!1):a!=null&&ja(t,!!r,a,!0);return;case"textarea":Ne("invalid",t),d=c=r=null;for(p in a)if(a.hasOwnProperty(p)&&(N=a[p],N!=null))switch(p){case"value":r=N;break;case"defaultValue":c=N;break;case"children":d=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(o(91));break;default:Te(t,s,p,N,a,null)}vd(t,r,c,d);return;case"option":for(L in a)a.hasOwnProperty(L)&&(r=a[L],r!=null)&&(L==="selected"?t.selected=r&&typeof r!="function"&&typeof r!="symbol":Te(t,s,L,r,a,null));return;case"dialog":Ne("beforetoggle",t),Ne("toggle",t),Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":Ne("load",t);break;case"video":case"audio":for(r=0;r<Xn.length;r++)Ne(Xn[r],t);break;case"image":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"embed":case"source":case"link":Ne("error",t),Ne("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(q in a)if(a.hasOwnProperty(q)&&(r=a[q],r!=null))switch(q){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,s));default:Te(t,s,q,r,a,null)}return;default:if(hi(s)){for(ee in a)a.hasOwnProperty(ee)&&(r=a[ee],r!==void 0&&Jc(t,s,ee,r,a,void 0));return}}for(N in a)a.hasOwnProperty(N)&&(r=a[N],r!=null&&Te(t,s,N,r,a,null))}function V0(t,s,a,r){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,d=null,p=null,N=null,L=null,q=null,ee=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":L=ne;default:r.hasOwnProperty(Q)||Te(t,s,Q,null,r,ne)}}for(var $ in r){var Q=r[$];if(ne=a[$],r.hasOwnProperty($)&&(Q!=null||ne!=null))switch($){case"type":d=Q;break;case"name":c=Q;break;case"checked":q=Q;break;case"defaultChecked":ee=Q;break;case"value":p=Q;break;case"defaultValue":N=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(o(137,s));break;default:Q!==ne&&Te(t,s,$,Q,r,ne)}}mi(t,p,N,L,q,ee,d,c);return;case"select":Q=p=N=$=null;for(d in a)if(L=a[d],a.hasOwnProperty(d)&&L!=null)switch(d){case"value":break;case"multiple":Q=L;default:r.hasOwnProperty(d)||Te(t,s,d,null,r,L)}for(c in r)if(d=r[c],L=a[c],r.hasOwnProperty(c)&&(d!=null||L!=null))switch(c){case"value":$=d;break;case"defaultValue":N=d;break;case"multiple":p=d;default:d!==L&&Te(t,s,c,d,r,L)}s=N,a=p,r=Q,$!=null?ja(t,!!a,$,!1):!!r!=!!a&&(s!=null?ja(t,!!a,s,!0):ja(t,!!a,a?[]:"",!1));return;case"textarea":Q=$=null;for(N in a)if(c=a[N],a.hasOwnProperty(N)&&c!=null&&!r.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:Te(t,s,N,null,r,c)}for(p in r)if(c=r[p],d=a[p],r.hasOwnProperty(p)&&(c!=null||d!=null))switch(p){case"value":$=c;break;case"defaultValue":Q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(o(91));break;default:c!==d&&Te(t,s,p,c,r,d)}gd(t,$,Q);return;case"option":for(var oe in a)$=a[oe],a.hasOwnProperty(oe)&&$!=null&&!r.hasOwnProperty(oe)&&(oe==="selected"?t.selected=!1:Te(t,s,oe,null,r,$));for(L in r)$=r[L],Q=a[L],r.hasOwnProperty(L)&&$!==Q&&($!=null||Q!=null)&&(L==="selected"?t.selected=$&&typeof $!="function"&&typeof $!="symbol":Te(t,s,L,$,r,Q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in a)$=a[xe],a.hasOwnProperty(xe)&&$!=null&&!r.hasOwnProperty(xe)&&Te(t,s,xe,null,r,$);for(q in r)if($=r[q],Q=a[q],r.hasOwnProperty(q)&&$!==Q&&($!=null||Q!=null))switch(q){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(o(137,s));break;default:Te(t,s,q,$,r,Q)}return;default:if(hi(s)){for(var De in a)$=a[De],a.hasOwnProperty(De)&&$!==void 0&&!r.hasOwnProperty(De)&&Jc(t,s,De,void 0,r,$);for(ee in r)$=r[ee],Q=a[ee],!r.hasOwnProperty(ee)||$===Q||$===void 0&&Q===void 0||Jc(t,s,ee,$,r,Q);return}}for(var H in a)$=a[H],a.hasOwnProperty(H)&&$!=null&&!r.hasOwnProperty(H)&&Te(t,s,H,null,r,$);for(ne in r)$=r[ne],Q=a[ne],!r.hasOwnProperty(ne)||$===Q||$==null&&Q==null||Te(t,s,ne,$,r,Q)}function Nh(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P0(){if(typeof performance.getEntriesByType=="function"){for(var t=0,s=0,a=performance.getEntriesByType("resource"),r=0;r<a.length;r++){var c=a[r],d=c.transferSize,p=c.initiatorType,N=c.duration;if(d&&N&&Nh(p)){for(p=0,N=c.responseEnd,r+=1;r<a.length;r++){var L=a[r],q=L.startTime;if(q>N)break;var ee=L.transferSize,ne=L.initiatorType;ee&&Nh(ne)&&(L=L.responseEnd,p+=ee*(L<N?1:(N-q)/(L-q)))}if(--r,s+=8*(d+p)/(c.duration/1e3),t++,10<t)break}}if(0<t)return s/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var eo=null,to=null;function bl(t){return t.nodeType===9?t:t.ownerDocument}function wh(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kh(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function so(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var ao=null;function q0(){var t=window.event;return t&&t.type==="popstate"?t===ao?!1:(ao=t,!0):(ao=null,!1)}var Sh=typeof setTimeout=="function"?setTimeout:void 0,F0=typeof clearTimeout=="function"?clearTimeout:void 0,Ch=typeof Promise=="function"?Promise:void 0,$0=typeof queueMicrotask=="function"?queueMicrotask:typeof Ch<"u"?function(t){return Ch.resolve(null).then(t).catch(Y0)}:Sh;function Y0(t){setTimeout(function(){throw t})}function Gs(t){return t==="head"}function Ah(t,s){var a=s,r=0;do{var c=a.nextSibling;if(t.removeChild(a),c&&c.nodeType===8)if(a=c.data,a==="/$"||a==="/&"){if(r===0){t.removeChild(c),Ja(s);return}r--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")r++;else if(a==="html")Zn(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Zn(a);for(var d=a.firstChild;d;){var p=d.nextSibling,N=d.nodeName;d[pn]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=p}}else a==="body"&&Zn(t.ownerDocument.body);a=c}while(a);Ja(s)}function Eh(t,s){var a=t;t=0;do{var r=a.nextSibling;if(a.nodeType===1?s?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(s?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),r&&r.nodeType===8)if(a=r.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=r}while(a)}function no(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":no(a),oi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function K0(t,s,a,r){for(;t.nodeType===1;){var c=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[pn])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var d=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Gt(t.nextSibling),t===null)break}return null}function I0(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gt(t.nextSibling),t===null))return null;return t}function Mh(t,s){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!s||(t=Gt(t.nextSibling),t===null))return null;return t}function ro(t){return t.data==="$?"||t.data==="$~"}function lo(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function X0(t,s){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=s;else if(t.data!=="$?"||a.readyState!=="loading")s();else{var r=function(){s(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Gt(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return t}var io=null;function Lh(t){t=t.nextSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(s===0)return Gt(t.nextSibling);s--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||s++}t=t.nextSibling}return null}function Rh(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(s===0)return t;s--}else a!=="/$"&&a!=="/&"||s++}t=t.previousSibling}return null}function Th(t,s,a){switch(s=bl(a),t){case"html":if(t=s.documentElement,!t)throw Error(o(452));return t;case"head":if(t=s.head,!t)throw Error(o(453));return t;case"body":if(t=s.body,!t)throw Error(o(454));return t;default:throw Error(o(451))}}function Zn(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);oi(t)}var Vt=new Map,Dh=new Set;function jl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var gs=W.d;W.d={f:Q0,r:Z0,D:W0,C:J0,L:ey,m:ty,X:ay,S:sy,M:ny};function Q0(){var t=gs.f(),s=ul();return t||s}function Z0(t){var s=ga(t);s!==null&&s.tag===5&&s.type==="form"?Qm(s):gs.r(t)}var Qa=typeof document>"u"?null:document;function _h(t,s,a){var r=Qa;if(r&&typeof s=="string"&&s){var c=Dt(s);c='link[rel="'+t+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Dh.has(c)||(Dh.add(c),t={rel:t,crossOrigin:a,href:s},r.querySelector(c)===null&&(s=r.createElement("link"),lt(s,"link",t),Je(s),r.head.appendChild(s)))}}function W0(t){gs.D(t),_h("dns-prefetch",t,null)}function J0(t,s){gs.C(t,s),_h("preconnect",t,s)}function ey(t,s,a){gs.L(t,s,a);var r=Qa;if(r&&t&&s){var c='link[rel="preload"][as="'+Dt(s)+'"]';s==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+Dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+Dt(a.imageSizes)+'"]')):c+='[href="'+Dt(t)+'"]';var d=c;switch(s){case"style":d=Za(t);break;case"script":d=Wa(t)}Vt.has(d)||(t=g({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Vt.set(d,t),r.querySelector(c)!==null||s==="style"&&r.querySelector(Wn(d))||s==="script"&&r.querySelector(Jn(d))||(s=r.createElement("link"),lt(s,"link",t),Je(s),r.head.appendChild(s)))}}function ty(t,s){gs.m(t,s);var a=Qa;if(a&&t){var r=s&&typeof s.as=="string"?s.as:"script",c='link[rel="modulepreload"][as="'+Dt(r)+'"][href="'+Dt(t)+'"]',d=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!Vt.has(d)&&(t=g({rel:"modulepreload",href:t},s),Vt.set(d,t),a.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Jn(d)))return}r=a.createElement("link"),lt(r,"link",t),Je(r),a.head.appendChild(r)}}}function sy(t,s,a){gs.S(t,s,a);var r=Qa;if(r&&t){var c=va(r).hoistableStyles,d=Za(t);s=s||"default";var p=c.get(d);if(!p){var N={loading:0,preload:null};if(p=r.querySelector(Wn(d)))N.loading=5;else{t=g({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Vt.get(d))&&co(t,a);var L=p=r.createElement("link");Je(L),lt(L,"link",t),L._p=new Promise(function(q,ee){L.onload=q,L.onerror=ee}),L.addEventListener("load",function(){N.loading|=1}),L.addEventListener("error",function(){N.loading|=2}),N.loading|=4,Nl(p,s,r)}p={type:"stylesheet",instance:p,count:1,state:N},c.set(d,p)}}}function ay(t,s){gs.X(t,s);var a=Qa;if(a&&t){var r=va(a).hoistableScripts,c=Wa(t),d=r.get(c);d||(d=a.querySelector(Jn(c)),d||(t=g({src:t,async:!0},s),(s=Vt.get(c))&&oo(t,s),d=a.createElement("script"),Je(d),lt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function ny(t,s){gs.M(t,s);var a=Qa;if(a&&t){var r=va(a).hoistableScripts,c=Wa(t),d=r.get(c);d||(d=a.querySelector(Jn(c)),d||(t=g({src:t,async:!0,type:"module"},s),(s=Vt.get(c))&&oo(t,s),d=a.createElement("script"),Je(d),lt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},r.set(c,d))}}function Uh(t,s,a,r){var c=(c=he.current)?jl(c):null;if(!c)throw Error(o(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Za(a.href),a=va(c).hoistableStyles,r=a.get(s),r||(r={type:"style",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var d=va(c).hoistableStyles,p=d.get(t);if(p||(c=c.ownerDocument||c,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,p),(d=c.querySelector(Wn(t)))&&!d._p&&(p.instance=d,p.state.loading=5),Vt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vt.set(t,a),d||ry(c,t,a,p.state))),s&&r===null)throw Error(o(528,""));return p}if(s&&r!==null)throw Error(o(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wa(a),a=va(c).hoistableScripts,r=a.get(s),r||(r={type:"script",instance:null,count:0,state:null},a.set(s,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,t))}}function Za(t){return'href="'+Dt(t)+'"'}function Wn(t){return'link[rel="stylesheet"]['+t+"]"}function Oh(t){return g({},t,{"data-precedence":t.precedence,precedence:null})}function ry(t,s,a,r){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?r.loading=1:(s=t.createElement("link"),r.preload=s,s.addEventListener("load",function(){return r.loading|=1}),s.addEventListener("error",function(){return r.loading|=2}),lt(s,"link",a),Je(s),t.head.appendChild(s))}function Wa(t){return'[src="'+Dt(t)+'"]'}function Jn(t){return"script[async]"+t}function zh(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var r=t.querySelector('style[data-href~="'+Dt(a.href)+'"]');if(r)return s.instance=r,Je(r),r;var c=g({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Je(r),lt(r,"style",c),Nl(r,a.precedence,t),s.instance=r;case"stylesheet":c=Za(a.href);var d=t.querySelector(Wn(c));if(d)return s.state.loading|=4,s.instance=d,Je(d),d;r=Oh(a),(c=Vt.get(c))&&co(r,c),d=(t.ownerDocument||t).createElement("link"),Je(d);var p=d;return p._p=new Promise(function(N,L){p.onload=N,p.onerror=L}),lt(d,"link",r),s.state.loading|=4,Nl(d,a.precedence,t),s.instance=d;case"script":return d=Wa(a.src),(c=t.querySelector(Jn(d)))?(s.instance=c,Je(c),c):(r=a,(c=Vt.get(d))&&(r=g({},a),oo(r,c)),t=t.ownerDocument||t,c=t.createElement("script"),Je(c),lt(c,"link",r),t.head.appendChild(c),s.instance=c);case"void":return null;default:throw Error(o(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(r=s.instance,s.state.loading|=4,Nl(r,a.precedence,t));return s.instance}function Nl(t,s,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,d=c,p=0;p<r.length;p++){var N=r[p];if(N.dataset.precedence===s)d=N;else if(d!==c)break}d?d.parentNode.insertBefore(t,d.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function co(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function oo(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var wl=null;function Hh(t,s,a){if(wl===null){var r=new Map,c=wl=new Map;c.set(a,r)}else c=wl,r=c.get(a),r||(r=new Map,c.set(a,r));if(r.has(t))return r;for(r.set(t,null),a=a.getElementsByTagName(t),c=0;c<a.length;c++){var d=a[c];if(!(d[pn]||d[st]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(s)||"";p=t+p;var N=r.get(p);N?N.push(d):r.set(p,[d])}}return r}function Bh(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function ly(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;return s.rel==="stylesheet"?(t=s.disabled,typeof s.precedence=="string"&&t==null):!0;case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Gh(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function iy(t,s,a,r){if(a.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var c=Za(r.href),d=s.querySelector(Wn(c));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(t.count++,t=kl.bind(t),s.then(t,t)),a.state.loading|=4,a.instance=d,Je(d);return}d=s.ownerDocument||s,r=Oh(r),(c=Vt.get(c))&&co(r,c),d=d.createElement("link"),Je(d);var p=d;p._p=new Promise(function(N,L){p.onload=N,p.onerror=L}),lt(d,"link",r),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,s),(s=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=kl.bind(t),s.addEventListener("load",a),s.addEventListener("error",a))}}var mo=0;function cy(t,s){return t.stylesheets&&t.count===0&&Cl(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var r=setTimeout(function(){if(t.stylesheets&&Cl(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+s);0<t.imgBytes&&mo===0&&(mo=62500*P0());var c=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Cl(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>mo?50:800)+s);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(c)}}:null}function kl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cl(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Sl=null;function Cl(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Sl=new Map,s.forEach(oy,t),Sl=null,kl.call(t))}function oy(t,s){if(!(s.state.loading&4)){var a=Sl.get(t);if(a)var r=a.get(null);else{a=new Map,Sl.set(t,a);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<c.length;d++){var p=c[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),r=p)}r&&a.set(null,r)}c=s.instance,p=c.getAttribute("data-precedence"),d=a.get(p)||r,d===r&&a.set(null,c),a.set(p,c),this.count++,r=kl.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),d?d.parentNode.insertBefore(c,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),s.state.loading|=4}}var er={$$typeof:B,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function dy(t,s,a,r,c,d,p,N,L){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=L,this.incompleteTransitions=new Map}function Vh(t,s,a,r,c,d,p,N,L,q,ee,ne){return t=new dy(t,s,a,p,L,q,ee,ne,N),s=1,d===!0&&(s|=24),d=kt(3,null,null,s),t.current=d,d.stateNode=t,s=qi(),s.refCount++,t.pooledCache=s,s.refCount++,d.memoizedState={element:r,isDehydrated:a,cache:s},Ki(d),t}function Ph(t){return t?(t=Ma,t):Ma}function qh(t,s,a,r,c,d){c=Ph(c),r.context===null?r.context=c:r.pendingContext=c,r=Ms(s),r.payload={element:a},d=d===void 0?null:d,d!==null&&(r.callback=d),a=Ls(t,r,s),a!==null&&(yt(a,t,s),Tn(a,t,s))}function Fh(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function uo(t,s){Fh(t,s),(t=t.alternate)&&Fh(t,s)}function $h(t){if(t.tag===13||t.tag===31){var s=ea(t,67108864);s!==null&&yt(s,t,67108864),uo(t,67108864)}}function Yh(t){if(t.tag===13||t.tag===31){var s=Mt();s=li(s);var a=ea(t,s);a!==null&&yt(a,t,s),uo(t,s)}}var Al=!0;function my(t,s,a,r){var c=S.T;S.T=null;var d=W.p;try{W.p=2,ho(t,s,a,r)}finally{W.p=d,S.T=c}}function uy(t,s,a,r){var c=S.T;S.T=null;var d=W.p;try{W.p=8,ho(t,s,a,r)}finally{W.p=d,S.T=c}}function ho(t,s,a,r){if(Al){var c=xo(r);if(c===null)Wc(t,s,r,El,a),Ih(t,r);else if(xy(c,t,s,a,r))r.stopPropagation();else if(Ih(t,r),s&4&&-1<hy.indexOf(t)){for(;c!==null;){var d=ga(c);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=Xs(d.pendingLanes);if(p!==0){var N=d;for(N.pendingLanes|=2,N.entangledLanes|=2;p;){var L=1<<31-Nt(p);N.entanglements[1]|=L,p&=~L}Wt(d),(Ee&6)===0&&(dl=bt()+500,In(0))}}break;case 31:case 13:N=ea(d,2),N!==null&&yt(N,d,2),ul(),uo(d,2)}if(d=xo(r),d===null&&Wc(t,s,r,El,a),d===c)break;c=d}c!==null&&r.stopPropagation()}else Wc(t,s,r,null,a)}}function xo(t){return t=pi(t),po(t)}var El=null;function po(t){if(El=null,t=ya(t),t!==null){var s=h(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=x(s),t!==null)return t;t=null}else if(a===31){if(t=v(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return El=t,null}function Kh(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zp()){case td:return 2;case sd:return 8;case yr:case Wp:return 32;case ad:return 268435456;default:return 32}default:return 32}}var fo=!1,Vs=null,Ps=null,qs=null,tr=new Map,sr=new Map,Fs=[],hy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ih(t,s){switch(t){case"focusin":case"focusout":Vs=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":tr.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":sr.delete(s.pointerId)}}function ar(t,s,a,r,c,d){return t===null||t.nativeEvent!==d?(t={blockedOn:s,domEventName:a,eventSystemFlags:r,nativeEvent:d,targetContainers:[c]},s!==null&&(s=ga(s),s!==null&&$h(s)),t):(t.eventSystemFlags|=r,s=t.targetContainers,c!==null&&s.indexOf(c)===-1&&s.push(c),t)}function xy(t,s,a,r,c){switch(s){case"focusin":return Vs=ar(Vs,t,s,a,r,c),!0;case"dragenter":return Ps=ar(Ps,t,s,a,r,c),!0;case"mouseover":return qs=ar(qs,t,s,a,r,c),!0;case"pointerover":var d=c.pointerId;return tr.set(d,ar(tr.get(d)||null,t,s,a,r,c)),!0;case"gotpointercapture":return d=c.pointerId,sr.set(d,ar(sr.get(d)||null,t,s,a,r,c)),!0}return!1}function Xh(t){var s=ya(t.target);if(s!==null){var a=h(s);if(a!==null){if(s=a.tag,s===13){if(s=x(a),s!==null){t.blockedOn=s,od(t.priority,function(){Yh(a)});return}}else if(s===31){if(s=v(a),s!==null){t.blockedOn=s,od(t.priority,function(){Yh(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ml(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=xo(t.nativeEvent);if(a===null){a=t.nativeEvent;var r=new a.constructor(a.type,a);xi=r,a.target.dispatchEvent(r),xi=null}else return s=ga(a),s!==null&&$h(s),t.blockedOn=a,!1;s.shift()}return!0}function Qh(t,s,a){Ml(t)&&a.delete(s)}function py(){fo=!1,Vs!==null&&Ml(Vs)&&(Vs=null),Ps!==null&&Ml(Ps)&&(Ps=null),qs!==null&&Ml(qs)&&(qs=null),tr.forEach(Qh),sr.forEach(Qh)}function Ll(t,s){t.blockedOn===s&&(t.blockedOn=null,fo||(fo=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,py)))}var Rl=null;function Zh(t){Rl!==t&&(Rl=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Rl===t&&(Rl=null);for(var s=0;s<t.length;s+=3){var a=t[s],r=t[s+1],c=t[s+2];if(typeof r!="function"){if(po(r||a)===null)continue;break}var d=ga(a);d!==null&&(t.splice(s,3),s-=3,hc(d,{pending:!0,data:c,method:a.method,action:r},r,c))}}))}function Ja(t){function s(L){return Ll(L,t)}Vs!==null&&Ll(Vs,t),Ps!==null&&Ll(Ps,t),qs!==null&&Ll(qs,t),tr.forEach(s),sr.forEach(s);for(var a=0;a<Fs.length;a++){var r=Fs[a];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Fs.length&&(a=Fs[0],a.blockedOn===null);)Xh(a),a.blockedOn===null&&Fs.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var c=a[r],d=a[r+1],p=c[mt]||null;if(typeof d=="function")p||Zh(a);else if(p){var N=null;if(d&&d.hasAttribute("formAction")){if(c=d,p=d[mt]||null)N=p.formAction;else if(po(c)!==null)continue}else N=p.action;typeof N=="function"?a[r+1]=N:(a.splice(r,3),r-=3),Zh(a)}}}function Wh(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return c=p})},focusReset:"manual",scroll:"manual"})}function s(){c!==null&&(c(),c=null),r||setTimeout(a,20)}function a(){if(!r&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,c=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(a,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),c!==null&&(c(),c=null)}}}function yo(t){this._internalRoot=t}Tl.prototype.render=yo.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(o(409));var a=s.current,r=Mt();qh(a,r,t,s,null,null)},Tl.prototype.unmount=yo.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;qh(t.current,2,null,t,null,null),ul(),s[fa]=null}};function Tl(t){this._internalRoot=t}Tl.prototype.unstable_scheduleHydration=function(t){if(t){var s=cd();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Fs.length&&s!==0&&s<Fs[a].priority;a++);Fs.splice(a,0,t),a===0&&Xh(t)}};var Jh=l.version;if(Jh!=="19.2.3")throw Error(o(527,Jh,"19.2.3"));W.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(o(188)):(t=Object.keys(t).join(","),Error(o(268,t)));return t=y(s),t=t!==null?f(t):null,t=t===null?null:t.stateNode,t};var fy={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dl.isDisabled&&Dl.supportsFiber)try{un=Dl.inject(fy),jt=Dl}catch{}}return rr.createRoot=function(t,s){if(!m(t))throw Error(o(299));var a=!1,r="",c=lu,d=iu,p=cu;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(r=s.identifierPrefix),s.onUncaughtError!==void 0&&(c=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(p=s.onRecoverableError)),s=Vh(t,1,!1,null,null,a,r,null,c,d,p,Wh),t[fa]=s.current,Zc(t),new yo(s)},rr.hydrateRoot=function(t,s,a){if(!m(t))throw Error(o(299));var r=!1,c="",d=lu,p=iu,N=cu,L=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(N=a.onRecoverableError),a.formState!==void 0&&(L=a.formState)),s=Vh(t,1,!0,s,a??null,r,c,L,d,p,N,Wh),s.context=Ph(null),a=s.current,r=Mt(),r=li(r),c=Ms(r),c.callback=null,Ls(a,c,r),a=r,s.current.lanes=a,xn(s,a),Wt(s),t[fa]=s.current,Zc(t),new Tl(s)},rr.version="19.2.3",rr}var ox;function Cy(){if(ox)return bo.exports;ox=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(l){console.error(l)}}return n(),bo.exports=Sy(),bo.exports}var Ay=Cy();const Ey=qx(Ay);var dx="popstate";function My(n={}){function l(o,m){let{pathname:h,search:x,hash:v}=o.location;return _o("",{pathname:h,search:x,hash:v},m.state&&m.state.usr||null,m.state&&m.state.key||"default")}function i(o,m){return typeof m=="string"?m:cr(m)}return Ry(l,i,null,n)}function Be(n,l){if(n===!1||n===null||typeof n>"u")throw new Error(l)}function Lt(n,l){if(!n){typeof console<"u"&&console.warn(l);try{throw new Error(l)}catch{}}}function Ly(){return Math.random().toString(36).substring(2,10)}function mx(n,l){return{usr:n.state,key:n.key,idx:l}}function _o(n,l,i=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof l=="string"?nn(l):l,state:i,key:l&&l.key||o||Ly()}}function cr({pathname:n="/",search:l="",hash:i=""}){return l&&l!=="?"&&(n+=l.charAt(0)==="?"?l:"?"+l),i&&i!=="#"&&(n+=i.charAt(0)==="#"?i:"#"+i),n}function nn(n){let l={};if(n){let i=n.indexOf("#");i>=0&&(l.hash=n.substring(i),n=n.substring(0,i));let o=n.indexOf("?");o>=0&&(l.search=n.substring(o),n=n.substring(0,o)),n&&(l.pathname=n)}return l}function Ry(n,l,i,o={}){let{window:m=document.defaultView,v5Compat:h=!1}=o,x=m.history,v="POP",b=null,y=f();y==null&&(y=0,x.replaceState({...x.state,idx:y},""));function f(){return(x.state||{idx:null}).idx}function g(){v="POP";let A=f(),M=A==null?null:A-y;y=A,b&&b({action:v,location:k.location,delta:M})}function C(A,M){v="PUSH";let U=_o(k.location,A,M);y=f()+1;let B=mx(U,y),z=k.createHref(U);try{x.pushState(B,"",z)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;m.location.assign(z)}h&&b&&b({action:v,location:k.location,delta:1})}function O(A,M){v="REPLACE";let U=_o(k.location,A,M);y=f();let B=mx(U,y),z=k.createHref(U);x.replaceState(B,"",z),h&&b&&b({action:v,location:k.location,delta:0})}function w(A){return Ty(A)}let k={get action(){return v},get location(){return n(m,x)},listen(A){if(b)throw new Error("A history only accepts one active listener");return m.addEventListener(dx,g),b=A,()=>{m.removeEventListener(dx,g),b=null}},createHref(A){return l(m,A)},createURL:w,encodeLocation(A){let M=w(A);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:C,replace:O,go(A){return x.go(A)}};return k}function Ty(n,l=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),Be(i,"No window.location.(origin|href) available to create URL");let o=typeof n=="string"?n:cr(n);return o=o.replace(/ $/,"%20"),!l&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function $x(n,l,i="/"){return Dy(n,l,i,!1)}function Dy(n,l,i,o){let m=typeof l=="string"?nn(l):l,h=bs(m.pathname||"/",i);if(h==null)return null;let x=Yx(n);_y(x);let v=null;for(let b=0;v==null&&b<x.length;++b){let y=$y(h);v=qy(x[b],y,o)}return v}function Yx(n,l=[],i=[],o="",m=!1){let h=(x,v,b=m,y)=>{let f={relativePath:y===void 0?x.path||"":y,caseSensitive:x.caseSensitive===!0,childrenIndex:v,route:x};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(o)&&b)return;Be(f.relativePath.startsWith(o),`Absolute route path "${f.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(o.length)}let g=vs([o,f.relativePath]),C=i.concat(f);x.children&&x.children.length>0&&(Be(x.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Yx(x.children,l,C,g,b)),!(x.path==null&&!x.index)&&l.push({path:g,score:Vy(g,x.index),routesMeta:C})};return n.forEach((x,v)=>{if(x.path===""||!x.path?.includes("?"))h(x,v);else for(let b of Kx(x.path))h(x,v,!0,b)}),l}function Kx(n){let l=n.split("/");if(l.length===0)return[];let[i,...o]=l,m=i.endsWith("?"),h=i.replace(/\?$/,"");if(o.length===0)return m?[h,""]:[h];let x=Kx(o.join("/")),v=[];return v.push(...x.map(b=>b===""?h:[h,b].join("/"))),m&&v.push(...x),v.map(b=>n.startsWith("/")&&b===""?"/":b)}function _y(n){n.sort((l,i)=>l.score!==i.score?i.score-l.score:Py(l.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var Uy=/^:[\w-]+$/,Oy=3,zy=2,Hy=1,By=10,Gy=-2,ux=n=>n==="*";function Vy(n,l){let i=n.split("/"),o=i.length;return i.some(ux)&&(o+=Gy),l&&(o+=zy),i.filter(m=>!ux(m)).reduce((m,h)=>m+(Uy.test(h)?Oy:h===""?Hy:By),o)}function Py(n,l){return n.length===l.length&&n.slice(0,-1).every((o,m)=>o===l[m])?n[n.length-1]-l[l.length-1]:0}function qy(n,l,i=!1){let{routesMeta:o}=n,m={},h="/",x=[];for(let v=0;v<o.length;++v){let b=o[v],y=v===o.length-1,f=h==="/"?l:l.slice(h.length)||"/",g=Pl({path:b.relativePath,caseSensitive:b.caseSensitive,end:y},f),C=b.route;if(!g&&y&&i&&!o[o.length-1].route.index&&(g=Pl({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},f)),!g)return null;Object.assign(m,g.params),x.push({params:m,pathname:vs([h,g.pathname]),pathnameBase:Xy(vs([h,g.pathnameBase])),route:C}),g.pathnameBase!=="/"&&(h=vs([h,g.pathnameBase]))}return x}function Pl(n,l){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[i,o]=Fy(n.path,n.caseSensitive,n.end),m=l.match(i);if(!m)return null;let h=m[0],x=h.replace(/(.)\/+$/,"$1"),v=m.slice(1);return{params:o.reduce((y,{paramName:f,isOptional:g},C)=>{if(f==="*"){let w=v[C]||"";x=h.slice(0,h.length-w.length).replace(/(.)\/+$/,"$1")}const O=v[C];return g&&!O?y[f]=void 0:y[f]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:x,pattern:n}}function Fy(n,l=!1,i=!0){Lt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],m="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,v,b)=>(o.push({paramName:v,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(o.push({paramName:"*"}),m+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?m+="\\/*$":n!==""&&n!=="/"&&(m+="(?:(?=\\/|$))"),[new RegExp(m,l?void 0:"i"),o]}function $y(n){try{return n.split("/").map(l=>decodeURIComponent(l).replace(/\//g,"%2F")).join("/")}catch(l){return Lt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${l}).`),n}}function bs(n,l){if(l==="/")return n;if(!n.toLowerCase().startsWith(l.toLowerCase()))return null;let i=l.endsWith("/")?l.length-1:l.length,o=n.charAt(i);return o&&o!=="/"?null:n.slice(i)||"/"}var Ix=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yy=n=>Ix.test(n);function Ky(n,l="/"){let{pathname:i,search:o="",hash:m=""}=typeof n=="string"?nn(n):n,h;if(i)if(Yy(i))h=i;else{if(i.includes("//")){let x=i;i=i.replace(/\/\/+/g,"/"),Lt(!1,`Pathnames cannot have embedded double slashes - normalizing ${x} -> ${i}`)}i.startsWith("/")?h=hx(i.substring(1),"/"):h=hx(i,l)}else h=l;return{pathname:h,search:Qy(o),hash:Zy(m)}}function hx(n,l){let i=l.replace(/\/+$/,"").split("/");return n.split("/").forEach(m=>{m===".."?i.length>1&&i.pop():m!=="."&&i.push(m)}),i.length>1?i.join("/"):"/"}function ko(n,l,i,o){return`Cannot include a '${n}' character in a manually specified \`to.${l}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Iy(n){return n.filter((l,i)=>i===0||l.route.path&&l.route.path.length>0)}function qo(n){let l=Iy(n);return l.map((i,o)=>o===l.length-1?i.pathname:i.pathnameBase)}function Fo(n,l,i,o=!1){let m;typeof n=="string"?m=nn(n):(m={...n},Be(!m.pathname||!m.pathname.includes("?"),ko("?","pathname","search",m)),Be(!m.pathname||!m.pathname.includes("#"),ko("#","pathname","hash",m)),Be(!m.search||!m.search.includes("#"),ko("#","search","hash",m)));let h=n===""||m.pathname==="",x=h?"/":m.pathname,v;if(x==null)v=i;else{let g=l.length-1;if(!o&&x.startsWith("..")){let C=x.split("/");for(;C[0]==="..";)C.shift(),g-=1;m.pathname=C.join("/")}v=g>=0?l[g]:"/"}let b=Ky(m,v),y=x&&x!=="/"&&x.endsWith("/"),f=(h||x===".")&&i.endsWith("/");return!b.pathname.endsWith("/")&&(y||f)&&(b.pathname+="/"),b}var vs=n=>n.join("/").replace(/\/\/+/g,"/"),Xy=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),Qy=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,Zy=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Wy=class{constructor(n,l,i,o=!1){this.status=n,this.statusText=l||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}};function Jy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function eg(n){return n.map(l=>l.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Xx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Qx(n,l){let i=n;if(typeof i!="string"||!Ix.test(i))return{absoluteURL:void 0,isExternal:!1,to:i};let o=i,m=!1;if(Xx)try{let h=new URL(window.location.href),x=i.startsWith("//")?new URL(h.protocol+i):new URL(i),v=bs(x.pathname,l);x.origin===h.origin&&v!=null?i=v+x.search+x.hash:m=!0}catch{Lt(!1,`<Link to="${i}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:o,isExternal:m,to:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Zx=["POST","PUT","PATCH","DELETE"];new Set(Zx);var tg=["GET",...Zx];new Set(tg);var rn=u.createContext(null);rn.displayName="DataRouter";var Fl=u.createContext(null);Fl.displayName="DataRouterState";var sg=u.createContext(!1),Wx=u.createContext({isTransitioning:!1});Wx.displayName="ViewTransition";var ag=u.createContext(new Map);ag.displayName="Fetchers";var ng=u.createContext(null);ng.displayName="Await";var Rt=u.createContext(null);Rt.displayName="Navigation";var or=u.createContext(null);or.displayName="Location";var Yt=u.createContext({outlet:null,matches:[],isDataRoute:!1});Yt.displayName="Route";var $o=u.createContext(null);$o.displayName="RouteError";var Jx="REACT_ROUTER_ERROR",rg="REDIRECT",lg="ROUTE_ERROR_RESPONSE";function ig(n){if(n.startsWith(`${Jx}:${rg}:{`))try{let l=JSON.parse(n.slice(28));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.location=="string"&&typeof l.reloadDocument=="boolean"&&typeof l.replace=="boolean")return l}catch{}}function cg(n){if(n.startsWith(`${Jx}:${lg}:{`))try{let l=JSON.parse(n.slice(40));if(typeof l=="object"&&l&&typeof l.status=="number"&&typeof l.statusText=="string")return new Wy(l.status,l.statusText,l.data)}catch{}}function og(n,{relative:l}={}){Be(ln(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=u.useContext(Rt),{hash:m,pathname:h,search:x}=dr(n,{relative:l}),v=h;return i!=="/"&&(v=h==="/"?i:vs([i,h])),o.createHref({pathname:v,search:x,hash:m})}function ln(){return u.useContext(or)!=null}function es(){return Be(ln(),"useLocation() may be used only in the context of a <Router> component."),u.useContext(or).location}var ep="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function tp(n){u.useContext(Rt).static||u.useLayoutEffect(n)}function $l(){let{isDataRoute:n}=u.useContext(Yt);return n?wg():dg()}function dg(){Be(ln(),"useNavigate() may be used only in the context of a <Router> component.");let n=u.useContext(rn),{basename:l,navigator:i}=u.useContext(Rt),{matches:o}=u.useContext(Yt),{pathname:m}=es(),h=JSON.stringify(qo(o)),x=u.useRef(!1);return tp(()=>{x.current=!0}),u.useCallback((b,y={})=>{if(Lt(x.current,ep),!x.current)return;if(typeof b=="number"){i.go(b);return}let f=Fo(b,JSON.parse(h),m,y.relative==="path");n==null&&l!=="/"&&(f.pathname=f.pathname==="/"?l:vs([l,f.pathname])),(y.replace?i.replace:i.push)(f,y.state,y)},[l,i,h,m,n])}u.createContext(null);function mg(){let{matches:n}=u.useContext(Yt),l=n[n.length-1];return l?l.params:{}}function dr(n,{relative:l}={}){let{matches:i}=u.useContext(Yt),{pathname:o}=es(),m=JSON.stringify(qo(i));return u.useMemo(()=>Fo(n,JSON.parse(m),o,l==="path"),[n,m,o,l])}function ug(n,l){return sp(n,l)}function sp(n,l,i,o,m){Be(ln(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:h}=u.useContext(Rt),{matches:x}=u.useContext(Yt),v=x[x.length-1],b=v?v.params:{},y=v?v.pathname:"/",f=v?v.pathnameBase:"/",g=v&&v.route;{let U=g&&g.path||"";np(y,!g||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let C=es(),O;if(l){let U=typeof l=="string"?nn(l):l;Be(f==="/"||U.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${U.pathname}" was given in the \`location\` prop.`),O=U}else O=C;let w=O.pathname||"/",k=w;if(f!=="/"){let U=f.replace(/^\//,"").split("/");k="/"+w.replace(/^\//,"").split("/").slice(U.length).join("/")}let A=$x(n,{pathname:k});Lt(g||A!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),Lt(A==null||A[A.length-1].route.element!==void 0||A[A.length-1].route.Component!==void 0||A[A.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let M=yg(A&&A.map(U=>Object.assign({},U,{params:Object.assign({},b,U.params),pathname:vs([f,h.encodeLocation?h.encodeLocation(U.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?f:vs([f,h.encodeLocation?h.encodeLocation(U.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:U.pathnameBase])})),x,i,o,m);return l&&M?u.createElement(or.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},M):M}function hg(){let n=Ng(),l=Jy(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),i=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",m={padding:"0.5rem",backgroundColor:o},h={padding:"2px 4px",backgroundColor:o},x=null;return console.error("Error handled by React Router default ErrorBoundary:",n),x=u.createElement(u.Fragment,null,u.createElement("p",null," Hey developer "),u.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",u.createElement("code",{style:h},"ErrorBoundary")," or"," ",u.createElement("code",{style:h},"errorElement")," prop on your route.")),u.createElement(u.Fragment,null,u.createElement("h2",null,"Unexpected Application Error!"),u.createElement("h3",{style:{fontStyle:"italic"}},l),i?u.createElement("pre",{style:m},i):null,x)}var xg=u.createElement(hg,null),ap=class extends u.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,l){return l.location!==n.location||l.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:l.error,location:l.location,revalidation:n.revalidation||l.revalidation}}componentDidCatch(n,l){this.props.onError?this.props.onError(n,l):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const i=cg(n.digest);i&&(n=i)}let l=n!==void 0?u.createElement(Yt.Provider,{value:this.props.routeContext},u.createElement($o.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?u.createElement(pg,{error:n},l):l}};ap.contextType=sg;var So=new WeakMap;function pg({children:n,error:l}){let{basename:i}=u.useContext(Rt);if(typeof l=="object"&&l&&"digest"in l&&typeof l.digest=="string"){let o=ig(l.digest);if(o){let m=So.get(l);if(m)throw m;let h=Qx(o.location,i);if(Xx&&!So.get(l))if(h.isExternal||o.reloadDocument)window.location.href=h.absoluteURL||h.to;else{const x=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(h.to,{replace:o.replace}));throw So.set(l,x),x}return u.createElement("meta",{httpEquiv:"refresh",content:`0;url=${h.absoluteURL||h.to}`})}}return n}function fg({routeContext:n,match:l,children:i}){let o=u.useContext(rn);return o&&o.static&&o.staticContext&&(l.route.errorElement||l.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=l.route.id),u.createElement(Yt.Provider,{value:n},i)}function yg(n,l=[],i=null,o=null,m=null){if(n==null){if(!i)return null;if(i.errors)n=i.matches;else if(l.length===0&&!i.initialized&&i.matches.length>0)n=i.matches;else return null}let h=n,x=i?.errors;if(x!=null){let f=h.findIndex(g=>g.route.id&&x?.[g.route.id]!==void 0);Be(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(x).join(",")}`),h=h.slice(0,Math.min(h.length,f+1))}let v=!1,b=-1;if(i)for(let f=0;f<h.length;f++){let g=h[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(b=f),g.route.id){let{loaderData:C,errors:O}=i,w=g.route.loader&&!C.hasOwnProperty(g.route.id)&&(!O||O[g.route.id]===void 0);if(g.route.lazy||w){v=!0,b>=0?h=h.slice(0,b+1):h=[h[0]];break}}}let y=i&&o?(f,g)=>{o(f,{location:i.location,params:i.matches?.[0]?.params??{},unstable_pattern:eg(i.matches),errorInfo:g})}:void 0;return h.reduceRight((f,g,C)=>{let O,w=!1,k=null,A=null;i&&(O=x&&g.route.id?x[g.route.id]:void 0,k=g.route.errorElement||xg,v&&(b<0&&C===0?(np("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,A=null):b===C&&(w=!0,A=g.route.hydrateFallbackElement||null)));let M=l.concat(h.slice(0,C+1)),U=()=>{let B;return O?B=k:w?B=A:g.route.Component?B=u.createElement(g.route.Component,null):g.route.element?B=g.route.element:B=f,u.createElement(fg,{match:g,routeContext:{outlet:f,matches:M,isDataRoute:i!=null},children:B})};return i&&(g.route.ErrorBoundary||g.route.errorElement||C===0)?u.createElement(ap,{location:i.location,revalidation:i.revalidation,component:k,error:O,children:U(),routeContext:{outlet:null,matches:M,isDataRoute:!0},onError:y}):U()},null)}function Yo(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function gg(n){let l=u.useContext(rn);return Be(l,Yo(n)),l}function vg(n){let l=u.useContext(Fl);return Be(l,Yo(n)),l}function bg(n){let l=u.useContext(Yt);return Be(l,Yo(n)),l}function Ko(n){let l=bg(n),i=l.matches[l.matches.length-1];return Be(i.route.id,`${n} can only be used on routes that contain a unique "id"`),i.route.id}function jg(){return Ko("useRouteId")}function Ng(){let n=u.useContext($o),l=vg("useRouteError"),i=Ko("useRouteError");return n!==void 0?n:l.errors?.[i]}function wg(){let{router:n}=gg("useNavigate"),l=Ko("useNavigate"),i=u.useRef(!1);return tp(()=>{i.current=!0}),u.useCallback(async(m,h={})=>{Lt(i.current,ep),i.current&&(typeof m=="number"?await n.navigate(m):await n.navigate(m,{fromRouteId:l,...h}))},[n,l])}var xx={};function np(n,l,i){!l&&!xx[n]&&(xx[n]=!0,Lt(!1,i))}u.memo(kg);function kg({routes:n,future:l,state:i,onError:o}){return sp(n,void 0,i,o,l)}function tn({to:n,replace:l,state:i,relative:o}){Be(ln(),"<Navigate> may be used only in the context of a <Router> component.");let{static:m}=u.useContext(Rt);Lt(!m,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=u.useContext(Yt),{pathname:x}=es(),v=$l(),b=Fo(n,qo(h),x,o==="path"),y=JSON.stringify(b);return u.useEffect(()=>{v(JSON.parse(y),{replace:l,state:i,relative:o})},[v,y,o,l,i]),null}function Ge(n){Be(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Sg({basename:n="/",children:l=null,location:i,navigationType:o="POP",navigator:m,static:h=!1,unstable_useTransitions:x}){Be(!ln(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let v=n.replace(/^\/*/,"/"),b=u.useMemo(()=>({basename:v,navigator:m,static:h,unstable_useTransitions:x,future:{}}),[v,m,h,x]);typeof i=="string"&&(i=nn(i));let{pathname:y="/",search:f="",hash:g="",state:C=null,key:O="default"}=i,w=u.useMemo(()=>{let k=bs(y,v);return k==null?null:{location:{pathname:k,search:f,hash:g,state:C,key:O},navigationType:o}},[v,y,f,g,C,O,o]);return Lt(w!=null,`<Router basename="${v}"> is not able to match the URL "${y}${f}${g}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:u.createElement(Rt.Provider,{value:b},u.createElement(or.Provider,{children:l,value:w}))}function Cg({children:n,location:l}){return ug(Uo(n),l)}function Uo(n,l=[]){let i=[];return u.Children.forEach(n,(o,m)=>{if(!u.isValidElement(o))return;let h=[...l,m];if(o.type===u.Fragment){i.push.apply(i,Uo(o.props.children,h));return}Be(o.type===Ge,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Be(!o.props.index||!o.props.children,"An index route cannot have child routes.");let x={id:o.props.id||h.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,middleware:o.props.middleware,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(x.children=Uo(o.props.children,h)),i.push(x)}),i}var zl="get",Hl="application/x-www-form-urlencoded";function Yl(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function Ag(n){return Yl(n)&&n.tagName.toLowerCase()==="button"}function Eg(n){return Yl(n)&&n.tagName.toLowerCase()==="form"}function Mg(n){return Yl(n)&&n.tagName.toLowerCase()==="input"}function Lg(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Rg(n,l){return n.button===0&&(!l||l==="_self")&&!Lg(n)}function Oo(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((l,i)=>{let o=n[i];return l.concat(Array.isArray(o)?o.map(m=>[i,m]):[[i,o]])},[]))}function Tg(n,l){let i=Oo(n);return l&&l.forEach((o,m)=>{i.has(m)||l.getAll(m).forEach(h=>{i.append(m,h)})}),i}var _l=null;function Dg(){if(_l===null)try{new FormData(document.createElement("form"),0),_l=!1}catch{_l=!0}return _l}var _g=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Co(n){return n!=null&&!_g.has(n)?(Lt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hl}"`),null):n}function Ug(n,l){let i,o,m,h,x;if(Eg(n)){let v=n.getAttribute("action");o=v?bs(v,l):null,i=n.getAttribute("method")||zl,m=Co(n.getAttribute("enctype"))||Hl,h=new FormData(n)}else if(Ag(n)||Mg(n)&&(n.type==="submit"||n.type==="image")){let v=n.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=n.getAttribute("formaction")||v.getAttribute("action");if(o=b?bs(b,l):null,i=n.getAttribute("formmethod")||v.getAttribute("method")||zl,m=Co(n.getAttribute("formenctype"))||Co(v.getAttribute("enctype"))||Hl,h=new FormData(v,n),!Dg()){let{name:y,type:f,value:g}=n;if(f==="image"){let C=y?`${y}.`:"";h.append(`${C}x`,"0"),h.append(`${C}y`,"0")}else y&&h.append(y,g)}}else{if(Yl(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=zl,o=null,m=Hl,x=n}return h&&m==="text/plain"&&(x=h,h=void 0),{action:o,method:i.toLowerCase(),encType:m,formData:h,body:x}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Io(n,l){if(n===!1||n===null||typeof n>"u")throw new Error(l)}function Og(n,l,i){let o=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return o.pathname==="/"?o.pathname=`_root.${i}`:l&&bs(o.pathname,l)==="/"?o.pathname=`${l.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function zg(n,l){if(n.id in l)return l[n.id];try{let i=await import(n.module);return l[n.id]=i,i}catch(i){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Hg(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Bg(n,l,i){let o=await Promise.all(n.map(async m=>{let h=l.routes[m.route.id];if(h){let x=await zg(h,i);return x.links?x.links():[]}return[]}));return qg(o.flat(1).filter(Hg).filter(m=>m.rel==="stylesheet"||m.rel==="preload").map(m=>m.rel==="stylesheet"?{...m,rel:"prefetch",as:"style"}:{...m,rel:"prefetch"}))}function px(n,l,i,o,m,h){let x=(b,y)=>i[y]?b.route.id!==i[y].route.id:!0,v=(b,y)=>i[y].pathname!==b.pathname||i[y].route.path?.endsWith("*")&&i[y].params["*"]!==b.params["*"];return h==="assets"?l.filter((b,y)=>x(b,y)||v(b,y)):h==="data"?l.filter((b,y)=>{let f=o.routes[b.route.id];if(!f||!f.hasLoader)return!1;if(x(b,y)||v(b,y))return!0;if(b.route.shouldRevalidate){let g=b.route.shouldRevalidate({currentUrl:new URL(m.pathname+m.search+m.hash,window.origin),currentParams:i[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function Gg(n,l,{includeHydrateFallback:i}={}){return Vg(n.map(o=>{let m=l.routes[o.route.id];if(!m)return[];let h=[m.module];return m.clientActionModule&&(h=h.concat(m.clientActionModule)),m.clientLoaderModule&&(h=h.concat(m.clientLoaderModule)),i&&m.hydrateFallbackModule&&(h=h.concat(m.hydrateFallbackModule)),m.imports&&(h=h.concat(m.imports)),h}).flat(1))}function Vg(n){return[...new Set(n)]}function Pg(n){let l={},i=Object.keys(n).sort();for(let o of i)l[o]=n[o];return l}function qg(n,l){let i=new Set;return new Set(l),n.reduce((o,m)=>{let h=JSON.stringify(Pg(m));return i.has(h)||(i.add(h),o.push({key:h,link:m})),o},[])}function rp(){let n=u.useContext(rn);return Io(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Fg(){let n=u.useContext(Fl);return Io(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Xo=u.createContext(void 0);Xo.displayName="FrameworkContext";function lp(){let n=u.useContext(Xo);return Io(n,"You must render this element inside a <HydratedRouter> element"),n}function $g(n,l){let i=u.useContext(Xo),[o,m]=u.useState(!1),[h,x]=u.useState(!1),{onFocus:v,onBlur:b,onMouseEnter:y,onMouseLeave:f,onTouchStart:g}=l,C=u.useRef(null);u.useEffect(()=>{if(n==="render"&&x(!0),n==="viewport"){let k=M=>{M.forEach(U=>{x(U.isIntersecting)})},A=new IntersectionObserver(k,{threshold:.5});return C.current&&A.observe(C.current),()=>{A.disconnect()}}},[n]),u.useEffect(()=>{if(o){let k=setTimeout(()=>{x(!0)},100);return()=>{clearTimeout(k)}}},[o]);let O=()=>{m(!0)},w=()=>{m(!1),x(!1)};return i?n!=="intent"?[h,C,{}]:[h,C,{onFocus:lr(v,O),onBlur:lr(b,w),onMouseEnter:lr(y,O),onMouseLeave:lr(f,w),onTouchStart:lr(g,O)}]:[!1,C,{}]}function lr(n,l){return i=>{n&&n(i),i.defaultPrevented||l(i)}}function Yg({page:n,...l}){let{router:i}=rp(),o=u.useMemo(()=>$x(i.routes,n,i.basename),[i.routes,n,i.basename]);return o?u.createElement(Ig,{page:n,matches:o,...l}):null}function Kg(n){let{manifest:l,routeModules:i}=lp(),[o,m]=u.useState([]);return u.useEffect(()=>{let h=!1;return Bg(n,l,i).then(x=>{h||m(x)}),()=>{h=!0}},[n,l,i]),o}function Ig({page:n,matches:l,...i}){let o=es(),{manifest:m,routeModules:h}=lp(),{basename:x}=rp(),{loaderData:v,matches:b}=Fg(),y=u.useMemo(()=>px(n,l,b,m,o,"data"),[n,l,b,m,o]),f=u.useMemo(()=>px(n,l,b,m,o,"assets"),[n,l,b,m,o]),g=u.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let w=new Set,k=!1;if(l.forEach(M=>{let U=m.routes[M.route.id];!U||!U.hasLoader||(!y.some(B=>B.route.id===M.route.id)&&M.route.id in v&&h[M.route.id]?.shouldRevalidate||U.hasClientLoader?k=!0:w.add(M.route.id))}),w.size===0)return[];let A=Og(n,x,"data");return k&&w.size>0&&A.searchParams.set("_routes",l.filter(M=>w.has(M.route.id)).map(M=>M.route.id).join(",")),[A.pathname+A.search]},[x,v,o,m,y,l,n,h]),C=u.useMemo(()=>Gg(f,m),[f,m]),O=Kg(f);return u.createElement(u.Fragment,null,g.map(w=>u.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...i})),C.map(w=>u.createElement("link",{key:w,rel:"modulepreload",href:w,...i})),O.map(({key:w,link:k})=>u.createElement("link",{key:w,nonce:i.nonce,...k})))}function Xg(...n){return l=>{n.forEach(i=>{typeof i=="function"?i(l):i!=null&&(i.current=l)})}}var Qg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qg&&(window.__reactRouterVersion="7.11.0")}catch{}function Zg({basename:n,children:l,unstable_useTransitions:i,window:o}){let m=u.useRef();m.current==null&&(m.current=My({window:o,v5Compat:!0}));let h=m.current,[x,v]=u.useState({action:h.action,location:h.location}),b=u.useCallback(y=>{i===!1?v(y):u.startTransition(()=>v(y))},[i]);return u.useLayoutEffect(()=>h.listen(b),[h,b]),u.createElement(Sg,{basename:n,children:l,location:x.location,navigationType:x.action,navigator:h,unstable_useTransitions:i})}var ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,it=u.forwardRef(function({onClick:l,discover:i="render",prefetch:o="none",relative:m,reloadDocument:h,replace:x,state:v,target:b,to:y,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:C,...O},w){let{basename:k,unstable_useTransitions:A}=u.useContext(Rt),M=typeof y=="string"&&ip.test(y),U=Qx(y,k);y=U.to;let B=og(y,{relative:m}),[z,G,R]=$g(o,O),T=tv(y,{replace:x,state:v,target:b,preventScrollReset:f,relative:m,viewTransition:g,unstable_defaultShouldRevalidate:C,unstable_useTransitions:A});function se(Y){l&&l(Y),Y.defaultPrevented||T(Y)}let J=u.createElement("a",{...O,...R,href:U.absoluteURL||B,onClick:U.isExternal||h?l:se,ref:Xg(w,G),target:b,"data-discover":!M&&i==="render"?"true":void 0});return z&&!M?u.createElement(u.Fragment,null,J,u.createElement(Yg,{page:B})):J});it.displayName="Link";var Wg=u.forwardRef(function({"aria-current":l="page",caseSensitive:i=!1,className:o="",end:m=!1,style:h,to:x,viewTransition:v,children:b,...y},f){let g=dr(x,{relative:y.relative}),C=es(),O=u.useContext(Fl),{navigator:w,basename:k}=u.useContext(Rt),A=O!=null&&lv(g)&&v===!0,M=w.encodeLocation?w.encodeLocation(g).pathname:g.pathname,U=C.pathname,B=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;i||(U=U.toLowerCase(),B=B?B.toLowerCase():null,M=M.toLowerCase()),B&&k&&(B=bs(B,k)||B);const z=M!=="/"&&M.endsWith("/")?M.length-1:M.length;let G=U===M||!m&&U.startsWith(M)&&U.charAt(z)==="/",R=B!=null&&(B===M||!m&&B.startsWith(M)&&B.charAt(M.length)==="/"),T={isActive:G,isPending:R,isTransitioning:A},se=G?l:void 0,J;typeof o=="function"?J=o(T):J=[o,G?"active":null,R?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let Y=typeof h=="function"?h(T):h;return u.createElement(it,{...y,"aria-current":se,className:J,ref:f,style:Y,to:x,viewTransition:v},typeof b=="function"?b(T):b)});Wg.displayName="NavLink";var Jg=u.forwardRef(({discover:n="render",fetcherKey:l,navigate:i,reloadDocument:o,replace:m,state:h,method:x=zl,action:v,onSubmit:b,relative:y,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:C,...O},w)=>{let{unstable_useTransitions:k}=u.useContext(Rt),A=nv(),M=rv(v,{relative:y}),U=x.toLowerCase()==="get"?"get":"post",B=typeof v=="string"&&ip.test(v),z=G=>{if(b&&b(G),G.defaultPrevented)return;G.preventDefault();let R=G.nativeEvent.submitter,T=R?.getAttribute("formmethod")||x,se=()=>A(R||G.currentTarget,{fetcherKey:l,method:T,navigate:i,replace:m,state:h,relative:y,preventScrollReset:f,viewTransition:g,unstable_defaultShouldRevalidate:C});k&&i!==!1?u.startTransition(()=>se()):se()};return u.createElement("form",{ref:w,method:U,action:M,onSubmit:o?b:z,...O,"data-discover":!B&&n==="render"?"true":void 0})});Jg.displayName="Form";function ev(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cp(n){let l=u.useContext(rn);return Be(l,ev(n)),l}function tv(n,{target:l,replace:i,state:o,preventScrollReset:m,relative:h,viewTransition:x,unstable_defaultShouldRevalidate:v,unstable_useTransitions:b}={}){let y=$l(),f=es(),g=dr(n,{relative:h});return u.useCallback(C=>{if(Rg(C,l)){C.preventDefault();let O=i!==void 0?i:cr(f)===cr(g),w=()=>y(n,{replace:O,state:o,preventScrollReset:m,relative:h,viewTransition:x,unstable_defaultShouldRevalidate:v});b?u.startTransition(()=>w()):w()}},[f,y,g,i,o,l,n,m,h,x,v,b])}function op(n){Lt(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let l=u.useRef(Oo(n)),i=u.useRef(!1),o=es(),m=u.useMemo(()=>Tg(o.search,i.current?null:l.current),[o.search]),h=$l(),x=u.useCallback((v,b)=>{const y=Oo(typeof v=="function"?v(new URLSearchParams(m)):v);i.current=!0,h("?"+y,b)},[h,m]);return[m,x]}var sv=0,av=()=>`__${String(++sv)}__`;function nv(){let{router:n}=cp("useSubmit"),{basename:l}=u.useContext(Rt),i=jg(),o=n.fetch,m=n.navigate;return u.useCallback(async(h,x={})=>{let{action:v,method:b,encType:y,formData:f,body:g}=Ug(h,l);if(x.navigate===!1){let C=x.fetcherKey||av();await o(C,i,x.action||v,{unstable_defaultShouldRevalidate:x.unstable_defaultShouldRevalidate,preventScrollReset:x.preventScrollReset,formData:f,body:g,formMethod:x.method||b,formEncType:x.encType||y,flushSync:x.flushSync})}else await m(x.action||v,{unstable_defaultShouldRevalidate:x.unstable_defaultShouldRevalidate,preventScrollReset:x.preventScrollReset,formData:f,body:g,formMethod:x.method||b,formEncType:x.encType||y,replace:x.replace,state:x.state,fromRouteId:i,flushSync:x.flushSync,viewTransition:x.viewTransition})},[o,m,l,i])}function rv(n,{relative:l}={}){let{basename:i}=u.useContext(Rt),o=u.useContext(Yt);Be(o,"useFormAction must be used inside a RouteContext");let[m]=o.matches.slice(-1),h={...dr(n||".",{relative:l})},x=es();if(n==null){h.search=x.search;let v=new URLSearchParams(h.search),b=v.getAll("index");if(b.some(f=>f==="")){v.delete("index"),b.filter(g=>g).forEach(g=>v.append("index",g));let f=v.toString();h.search=f?`?${f}`:""}}return(!n||n===".")&&m.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:vs([i,h.pathname])),cr(h)}function lv(n,{relative:l}={}){let i=u.useContext(Wx);Be(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=cp("useViewTransitionState"),m=dr(n,{relative:l});if(!i.isTransitioning)return!1;let h=bs(i.currentLocation.pathname,o)||i.currentLocation.pathname,x=bs(i.nextLocation.pathname,o)||i.nextLocation.pathname;return Pl(m.pathname,x)!=null||Pl(m.pathname,h)!=null}var iv=Fx();function dp(n,l){return function(){return n.apply(l,arguments)}}const{toString:cv}=Object.prototype,{getPrototypeOf:Qo}=Object,{iterator:Kl,toStringTag:mp}=Symbol,Il=(n=>l=>{const i=cv.call(l);return n[i]||(n[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),Kt=n=>(n=n.toLowerCase(),l=>Il(l)===n),Xl=n=>l=>typeof l===n,{isArray:cn}=Array,an=Xl("undefined");function mr(n){return n!==null&&!an(n)&&n.constructor!==null&&!an(n.constructor)&&gt(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const up=Kt("ArrayBuffer");function ov(n){let l;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?l=ArrayBuffer.isView(n):l=n&&n.buffer&&up(n.buffer),l}const dv=Xl("string"),gt=Xl("function"),hp=Xl("number"),ur=n=>n!==null&&typeof n=="object",mv=n=>n===!0||n===!1,Bl=n=>{if(Il(n)!=="object")return!1;const l=Qo(n);return(l===null||l===Object.prototype||Object.getPrototypeOf(l)===null)&&!(mp in n)&&!(Kl in n)},uv=n=>{if(!ur(n)||mr(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},hv=Kt("Date"),xv=Kt("File"),pv=Kt("Blob"),fv=Kt("FileList"),yv=n=>ur(n)&&gt(n.pipe),gv=n=>{let l;return n&&(typeof FormData=="function"&&n instanceof FormData||gt(n.append)&&((l=Il(n))==="formdata"||l==="object"&&gt(n.toString)&&n.toString()==="[object FormData]"))},vv=Kt("URLSearchParams"),[bv,jv,Nv,wv]=["ReadableStream","Request","Response","Headers"].map(Kt),kv=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hr(n,l,{allOwnKeys:i=!1}={}){if(n===null||typeof n>"u")return;let o,m;if(typeof n!="object"&&(n=[n]),cn(n))for(o=0,m=n.length;o<m;o++)l.call(null,n[o],o,n);else{if(mr(n))return;const h=i?Object.getOwnPropertyNames(n):Object.keys(n),x=h.length;let v;for(o=0;o<x;o++)v=h[o],l.call(null,n[v],v,n)}}function xp(n,l){if(mr(n))return null;l=l.toLowerCase();const i=Object.keys(n);let o=i.length,m;for(;o-- >0;)if(m=i[o],l===m.toLowerCase())return m;return null}const ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pp=n=>!an(n)&&n!==ha;function zo(){const{caseless:n,skipUndefined:l}=pp(this)&&this||{},i={},o=(m,h)=>{const x=n&&xp(i,h)||h;Bl(i[x])&&Bl(m)?i[x]=zo(i[x],m):Bl(m)?i[x]=zo({},m):cn(m)?i[x]=m.slice():(!l||!an(m))&&(i[x]=m)};for(let m=0,h=arguments.length;m<h;m++)arguments[m]&&hr(arguments[m],o);return i}const Sv=(n,l,i,{allOwnKeys:o}={})=>(hr(l,(m,h)=>{i&&gt(m)?n[h]=dp(m,i):n[h]=m},{allOwnKeys:o}),n),Cv=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Av=(n,l,i,o)=>{n.prototype=Object.create(l.prototype,o),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:l.prototype}),i&&Object.assign(n.prototype,i)},Ev=(n,l,i,o)=>{let m,h,x;const v={};if(l=l||{},n==null)return l;do{for(m=Object.getOwnPropertyNames(n),h=m.length;h-- >0;)x=m[h],(!o||o(x,n,l))&&!v[x]&&(l[x]=n[x],v[x]=!0);n=i!==!1&&Qo(n)}while(n&&(!i||i(n,l))&&n!==Object.prototype);return l},Mv=(n,l,i)=>{n=String(n),(i===void 0||i>n.length)&&(i=n.length),i-=l.length;const o=n.indexOf(l,i);return o!==-1&&o===i},Lv=n=>{if(!n)return null;if(cn(n))return n;let l=n.length;if(!hp(l))return null;const i=new Array(l);for(;l-- >0;)i[l]=n[l];return i},Rv=(n=>l=>n&&l instanceof n)(typeof Uint8Array<"u"&&Qo(Uint8Array)),Tv=(n,l)=>{const o=(n&&n[Kl]).call(n);let m;for(;(m=o.next())&&!m.done;){const h=m.value;l.call(n,h[0],h[1])}},Dv=(n,l)=>{let i;const o=[];for(;(i=n.exec(l))!==null;)o.push(i);return o},_v=Kt("HTMLFormElement"),Uv=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,m){return o.toUpperCase()+m}),fx=(({hasOwnProperty:n})=>(l,i)=>n.call(l,i))(Object.prototype),Ov=Kt("RegExp"),fp=(n,l)=>{const i=Object.getOwnPropertyDescriptors(n),o={};hr(i,(m,h)=>{let x;(x=l(m,h,n))!==!1&&(o[h]=x||m)}),Object.defineProperties(n,o)},zv=n=>{fp(n,(l,i)=>{if(gt(n)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=n[i];if(gt(o)){if(l.enumerable=!1,"writable"in l){l.writable=!1;return}l.set||(l.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},Hv=(n,l)=>{const i={},o=m=>{m.forEach(h=>{i[h]=!0})};return cn(n)?o(n):o(String(n).split(l)),i},Bv=()=>{},Gv=(n,l)=>n!=null&&Number.isFinite(n=+n)?n:l;function Vv(n){return!!(n&&gt(n.append)&&n[mp]==="FormData"&&n[Kl])}const Pv=n=>{const l=new Array(10),i=(o,m)=>{if(ur(o)){if(l.indexOf(o)>=0)return;if(mr(o))return o;if(!("toJSON"in o)){l[m]=o;const h=cn(o)?[]:{};return hr(o,(x,v)=>{const b=i(x,m+1);!an(b)&&(h[v]=b)}),l[m]=void 0,h}}return o};return i(n,0)},qv=Kt("AsyncFunction"),Fv=n=>n&&(ur(n)||gt(n))&&gt(n.then)&&gt(n.catch),yp=((n,l)=>n?setImmediate:l?((i,o)=>(ha.addEventListener("message",({source:m,data:h})=>{m===ha&&h===i&&o.length&&o.shift()()},!1),m=>{o.push(m),ha.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",gt(ha.postMessage)),$v=typeof queueMicrotask<"u"?queueMicrotask.bind(ha):typeof process<"u"&&process.nextTick||yp,Yv=n=>n!=null&&gt(n[Kl]),X={isArray:cn,isArrayBuffer:up,isBuffer:mr,isFormData:gv,isArrayBufferView:ov,isString:dv,isNumber:hp,isBoolean:mv,isObject:ur,isPlainObject:Bl,isEmptyObject:uv,isReadableStream:bv,isRequest:jv,isResponse:Nv,isHeaders:wv,isUndefined:an,isDate:hv,isFile:xv,isBlob:pv,isRegExp:Ov,isFunction:gt,isStream:yv,isURLSearchParams:vv,isTypedArray:Rv,isFileList:fv,forEach:hr,merge:zo,extend:Sv,trim:kv,stripBOM:Cv,inherits:Av,toFlatObject:Ev,kindOf:Il,kindOfTest:Kt,endsWith:Mv,toArray:Lv,forEachEntry:Tv,matchAll:Dv,isHTMLForm:_v,hasOwnProperty:fx,hasOwnProp:fx,reduceDescriptors:fp,freezeMethods:zv,toObjectSet:Hv,toCamelCase:Uv,noop:Bv,toFiniteNumber:Gv,findKey:xp,global:ha,isContextDefined:pp,isSpecCompliantForm:Vv,toJSONObject:Pv,isAsyncFn:qv,isThenable:Fv,setImmediate:yp,asap:$v,isIterable:Yv};function ve(n,l,i,o,m){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",l&&(this.code=l),i&&(this.config=i),o&&(this.request=o),m&&(this.response=m,this.status=m.status?m.status:null)}X.inherits(ve,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const gp=ve.prototype,vp={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{vp[n]={value:n}});Object.defineProperties(ve,vp);Object.defineProperty(gp,"isAxiosError",{value:!0});ve.from=(n,l,i,o,m,h)=>{const x=Object.create(gp);X.toFlatObject(n,x,function(f){return f!==Error.prototype},y=>y!=="isAxiosError");const v=n&&n.message?n.message:"Error",b=l==null&&n?n.code:l;return ve.call(x,v,b,i,o,m),n&&x.cause==null&&Object.defineProperty(x,"cause",{value:n,configurable:!0}),x.name=n&&n.name||"Error",h&&Object.assign(x,h),x};const Kv=null;function Ho(n){return X.isPlainObject(n)||X.isArray(n)}function bp(n){return X.endsWith(n,"[]")?n.slice(0,-2):n}function yx(n,l,i){return n?n.concat(l).map(function(m,h){return m=bp(m),!i&&h?"["+m+"]":m}).join(i?".":""):l}function Iv(n){return X.isArray(n)&&!n.some(Ho)}const Xv=X.toFlatObject(X,{},null,function(l){return/^is[A-Z]/.test(l)});function Ql(n,l,i){if(!X.isObject(n))throw new TypeError("target must be an object");l=l||new FormData,i=X.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,A){return!X.isUndefined(A[k])});const o=i.metaTokens,m=i.visitor||f,h=i.dots,x=i.indexes,b=(i.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(l);if(!X.isFunction(m))throw new TypeError("visitor must be a function");function y(w){if(w===null)return"";if(X.isDate(w))return w.toISOString();if(X.isBoolean(w))return w.toString();if(!b&&X.isBlob(w))throw new ve("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(w)||X.isTypedArray(w)?b&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function f(w,k,A){let M=w;if(w&&!A&&typeof w=="object"){if(X.endsWith(k,"{}"))k=o?k:k.slice(0,-2),w=JSON.stringify(w);else if(X.isArray(w)&&Iv(w)||(X.isFileList(w)||X.endsWith(k,"[]"))&&(M=X.toArray(w)))return k=bp(k),M.forEach(function(B,z){!(X.isUndefined(B)||B===null)&&l.append(x===!0?yx([k],z,h):x===null?k:k+"[]",y(B))}),!1}return Ho(w)?!0:(l.append(yx(A,k,h),y(w)),!1)}const g=[],C=Object.assign(Xv,{defaultVisitor:f,convertValue:y,isVisitable:Ho});function O(w,k){if(!X.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+k.join("."));g.push(w),X.forEach(w,function(M,U){(!(X.isUndefined(M)||M===null)&&m.call(l,M,X.isString(U)?U.trim():U,k,C))===!0&&O(M,k?k.concat(U):[U])}),g.pop()}}if(!X.isObject(n))throw new TypeError("data must be an object");return O(n),l}function gx(n){const l={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(o){return l[o]})}function Zo(n,l){this._pairs=[],n&&Ql(n,this,l)}const jp=Zo.prototype;jp.append=function(l,i){this._pairs.push([l,i])};jp.toString=function(l){const i=l?function(o){return l.call(this,o,gx)}:gx;return this._pairs.map(function(m){return i(m[0])+"="+i(m[1])},"").join("&")};function Qv(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Np(n,l,i){if(!l)return n;const o=i&&i.encode||Qv;X.isFunction(i)&&(i={serialize:i});const m=i&&i.serialize;let h;if(m?h=m(l,i):h=X.isURLSearchParams(l)?l.toString():new Zo(l,i).toString(o),h){const x=n.indexOf("#");x!==-1&&(n=n.slice(0,x)),n+=(n.indexOf("?")===-1?"?":"&")+h}return n}class vx{constructor(){this.handlers=[]}use(l,i,o){return this.handlers.push({fulfilled:l,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(l){this.handlers[l]&&(this.handlers[l]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(l){X.forEach(this.handlers,function(o){o!==null&&l(o)})}}const wp={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zv=typeof URLSearchParams<"u"?URLSearchParams:Zo,Wv=typeof FormData<"u"?FormData:null,Jv=typeof Blob<"u"?Blob:null,e2={isBrowser:!0,classes:{URLSearchParams:Zv,FormData:Wv,Blob:Jv},protocols:["http","https","file","blob","url","data"]},Wo=typeof window<"u"&&typeof document<"u",Bo=typeof navigator=="object"&&navigator||void 0,t2=Wo&&(!Bo||["ReactNative","NativeScript","NS"].indexOf(Bo.product)<0),s2=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",a2=Wo&&window.location.href||"http://localhost",n2=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Wo,hasStandardBrowserEnv:t2,hasStandardBrowserWebWorkerEnv:s2,navigator:Bo,origin:a2},Symbol.toStringTag,{value:"Module"})),ot={...n2,...e2};function r2(n,l){return Ql(n,new ot.classes.URLSearchParams,{visitor:function(i,o,m,h){return ot.isNode&&X.isBuffer(i)?(this.append(o,i.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)},...l})}function l2(n){return X.matchAll(/\w+|\[(\w*)]/g,n).map(l=>l[0]==="[]"?"":l[1]||l[0])}function i2(n){const l={},i=Object.keys(n);let o;const m=i.length;let h;for(o=0;o<m;o++)h=i[o],l[h]=n[h];return l}function kp(n){function l(i,o,m,h){let x=i[h++];if(x==="__proto__")return!0;const v=Number.isFinite(+x),b=h>=i.length;return x=!x&&X.isArray(m)?m.length:x,b?(X.hasOwnProp(m,x)?m[x]=[m[x],o]:m[x]=o,!v):((!m[x]||!X.isObject(m[x]))&&(m[x]=[]),l(i,o,m[x],h)&&X.isArray(m[x])&&(m[x]=i2(m[x])),!v)}if(X.isFormData(n)&&X.isFunction(n.entries)){const i={};return X.forEachEntry(n,(o,m)=>{l(l2(o),m,i,0)}),i}return null}function c2(n,l,i){if(X.isString(n))try{return(l||JSON.parse)(n),X.trim(n)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(n)}const xr={transitional:wp,adapter:["xhr","http","fetch"],transformRequest:[function(l,i){const o=i.getContentType()||"",m=o.indexOf("application/json")>-1,h=X.isObject(l);if(h&&X.isHTMLForm(l)&&(l=new FormData(l)),X.isFormData(l))return m?JSON.stringify(kp(l)):l;if(X.isArrayBuffer(l)||X.isBuffer(l)||X.isStream(l)||X.isFile(l)||X.isBlob(l)||X.isReadableStream(l))return l;if(X.isArrayBufferView(l))return l.buffer;if(X.isURLSearchParams(l))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),l.toString();let v;if(h){if(o.indexOf("application/x-www-form-urlencoded")>-1)return r2(l,this.formSerializer).toString();if((v=X.isFileList(l))||o.indexOf("multipart/form-data")>-1){const b=this.env&&this.env.FormData;return Ql(v?{"files[]":l}:l,b&&new b,this.formSerializer)}}return h||m?(i.setContentType("application/json",!1),c2(l)):l}],transformResponse:[function(l){const i=this.transitional||xr.transitional,o=i&&i.forcedJSONParsing,m=this.responseType==="json";if(X.isResponse(l)||X.isReadableStream(l))return l;if(l&&X.isString(l)&&(o&&!this.responseType||m)){const x=!(i&&i.silentJSONParsing)&&m;try{return JSON.parse(l,this.parseReviver)}catch(v){if(x)throw v.name==="SyntaxError"?ve.from(v,ve.ERR_BAD_RESPONSE,this,null,this.response):v}}return l}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(l){return l>=200&&l<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],n=>{xr.headers[n]={}});const o2=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),d2=n=>{const l={};let i,o,m;return n&&n.split(`
`).forEach(function(x){m=x.indexOf(":"),i=x.substring(0,m).trim().toLowerCase(),o=x.substring(m+1).trim(),!(!i||l[i]&&o2[i])&&(i==="set-cookie"?l[i]?l[i].push(o):l[i]=[o]:l[i]=l[i]?l[i]+", "+o:o)}),l},bx=Symbol("internals");function ir(n){return n&&String(n).trim().toLowerCase()}function Gl(n){return n===!1||n==null?n:X.isArray(n)?n.map(Gl):String(n)}function m2(n){const l=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(n);)l[o[1]]=o[2];return l}const u2=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ao(n,l,i,o,m){if(X.isFunction(o))return o.call(this,l,i);if(m&&(l=i),!!X.isString(l)){if(X.isString(o))return l.indexOf(o)!==-1;if(X.isRegExp(o))return o.test(l)}}function h2(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(l,i,o)=>i.toUpperCase()+o)}function x2(n,l){const i=X.toCamelCase(" "+l);["get","set","has"].forEach(o=>{Object.defineProperty(n,o+i,{value:function(m,h,x){return this[o].call(this,l,m,h,x)},configurable:!0})})}let vt=class{constructor(l){l&&this.set(l)}set(l,i,o){const m=this;function h(v,b,y){const f=ir(b);if(!f)throw new Error("header name must be a non-empty string");const g=X.findKey(m,f);(!g||m[g]===void 0||y===!0||y===void 0&&m[g]!==!1)&&(m[g||b]=Gl(v))}const x=(v,b)=>X.forEach(v,(y,f)=>h(y,f,b));if(X.isPlainObject(l)||l instanceof this.constructor)x(l,i);else if(X.isString(l)&&(l=l.trim())&&!u2(l))x(d2(l),i);else if(X.isObject(l)&&X.isIterable(l)){let v={},b,y;for(const f of l){if(!X.isArray(f))throw TypeError("Object iterator must return a key-value pair");v[y=f[0]]=(b=v[y])?X.isArray(b)?[...b,f[1]]:[b,f[1]]:f[1]}x(v,i)}else l!=null&&h(i,l,o);return this}get(l,i){if(l=ir(l),l){const o=X.findKey(this,l);if(o){const m=this[o];if(!i)return m;if(i===!0)return m2(m);if(X.isFunction(i))return i.call(this,m,o);if(X.isRegExp(i))return i.exec(m);throw new TypeError("parser must be boolean|regexp|function")}}}has(l,i){if(l=ir(l),l){const o=X.findKey(this,l);return!!(o&&this[o]!==void 0&&(!i||Ao(this,this[o],o,i)))}return!1}delete(l,i){const o=this;let m=!1;function h(x){if(x=ir(x),x){const v=X.findKey(o,x);v&&(!i||Ao(o,o[v],v,i))&&(delete o[v],m=!0)}}return X.isArray(l)?l.forEach(h):h(l),m}clear(l){const i=Object.keys(this);let o=i.length,m=!1;for(;o--;){const h=i[o];(!l||Ao(this,this[h],h,l,!0))&&(delete this[h],m=!0)}return m}normalize(l){const i=this,o={};return X.forEach(this,(m,h)=>{const x=X.findKey(o,h);if(x){i[x]=Gl(m),delete i[h];return}const v=l?h2(h):String(h).trim();v!==h&&delete i[h],i[v]=Gl(m),o[v]=!0}),this}concat(...l){return this.constructor.concat(this,...l)}toJSON(l){const i=Object.create(null);return X.forEach(this,(o,m)=>{o!=null&&o!==!1&&(i[m]=l&&X.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([l,i])=>l+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(l){return l instanceof this?l:new this(l)}static concat(l,...i){const o=new this(l);return i.forEach(m=>o.set(m)),o}static accessor(l){const o=(this[bx]=this[bx]={accessors:{}}).accessors,m=this.prototype;function h(x){const v=ir(x);o[v]||(x2(m,x),o[v]=!0)}return X.isArray(l)?l.forEach(h):h(l),this}};vt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(vt.prototype,({value:n},l)=>{let i=l[0].toUpperCase()+l.slice(1);return{get:()=>n,set(o){this[i]=o}}});X.freezeMethods(vt);function Eo(n,l){const i=this||xr,o=l||i,m=vt.from(o.headers);let h=o.data;return X.forEach(n,function(v){h=v.call(i,h,m.normalize(),l?l.status:void 0)}),m.normalize(),h}function Sp(n){return!!(n&&n.__CANCEL__)}function on(n,l,i){ve.call(this,n??"canceled",ve.ERR_CANCELED,l,i),this.name="CanceledError"}X.inherits(on,ve,{__CANCEL__:!0});function Cp(n,l,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?n(i):l(new ve("Request failed with status code "+i.status,[ve.ERR_BAD_REQUEST,ve.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function p2(n){const l=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return l&&l[1]||""}function f2(n,l){n=n||10;const i=new Array(n),o=new Array(n);let m=0,h=0,x;return l=l!==void 0?l:1e3,function(b){const y=Date.now(),f=o[h];x||(x=y),i[m]=b,o[m]=y;let g=h,C=0;for(;g!==m;)C+=i[g++],g=g%n;if(m=(m+1)%n,m===h&&(h=(h+1)%n),y-x<l)return;const O=f&&y-f;return O?Math.round(C*1e3/O):void 0}}function y2(n,l){let i=0,o=1e3/l,m,h;const x=(y,f=Date.now())=>{i=f,m=null,h&&(clearTimeout(h),h=null),n(...y)};return[(...y)=>{const f=Date.now(),g=f-i;g>=o?x(y,f):(m=y,h||(h=setTimeout(()=>{h=null,x(m)},o-g)))},()=>m&&x(m)]}const ql=(n,l,i=3)=>{let o=0;const m=f2(50,250);return y2(h=>{const x=h.loaded,v=h.lengthComputable?h.total:void 0,b=x-o,y=m(b),f=x<=v;o=x;const g={loaded:x,total:v,progress:v?x/v:void 0,bytes:b,rate:y||void 0,estimated:y&&v&&f?(v-x)/y:void 0,event:h,lengthComputable:v!=null,[l?"download":"upload"]:!0};n(g)},i)},jx=(n,l)=>{const i=n!=null;return[o=>l[0]({lengthComputable:i,total:n,loaded:o}),l[1]]},Nx=n=>(...l)=>X.asap(()=>n(...l)),g2=ot.hasStandardBrowserEnv?((n,l)=>i=>(i=new URL(i,ot.origin),n.protocol===i.protocol&&n.host===i.host&&(l||n.port===i.port)))(new URL(ot.origin),ot.navigator&&/(msie|trident)/i.test(ot.navigator.userAgent)):()=>!0,v2=ot.hasStandardBrowserEnv?{write(n,l,i,o,m,h,x){if(typeof document>"u")return;const v=[`${n}=${encodeURIComponent(l)}`];X.isNumber(i)&&v.push(`expires=${new Date(i).toUTCString()}`),X.isString(o)&&v.push(`path=${o}`),X.isString(m)&&v.push(`domain=${m}`),h===!0&&v.push("secure"),X.isString(x)&&v.push(`SameSite=${x}`),document.cookie=v.join("; ")},read(n){if(typeof document>"u")return null;const l=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return l?decodeURIComponent(l[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function b2(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function j2(n,l){return l?n.replace(/\/?\/$/,"")+"/"+l.replace(/^\/+/,""):n}function Ap(n,l,i){let o=!b2(l);return n&&(o||i==!1)?j2(n,l):l}const wx=n=>n instanceof vt?{...n}:n;function pa(n,l){l=l||{};const i={};function o(y,f,g,C){return X.isPlainObject(y)&&X.isPlainObject(f)?X.merge.call({caseless:C},y,f):X.isPlainObject(f)?X.merge({},f):X.isArray(f)?f.slice():f}function m(y,f,g,C){if(X.isUndefined(f)){if(!X.isUndefined(y))return o(void 0,y,g,C)}else return o(y,f,g,C)}function h(y,f){if(!X.isUndefined(f))return o(void 0,f)}function x(y,f){if(X.isUndefined(f)){if(!X.isUndefined(y))return o(void 0,y)}else return o(void 0,f)}function v(y,f,g){if(g in l)return o(y,f);if(g in n)return o(void 0,y)}const b={url:h,method:h,data:h,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,withXSRFToken:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:v,headers:(y,f,g)=>m(wx(y),wx(f),g,!0)};return X.forEach(Object.keys({...n,...l}),function(f){const g=b[f]||m,C=g(n[f],l[f],f);X.isUndefined(C)&&g!==v||(i[f]=C)}),i}const Ep=n=>{const l=pa({},n);let{data:i,withXSRFToken:o,xsrfHeaderName:m,xsrfCookieName:h,headers:x,auth:v}=l;if(l.headers=x=vt.from(x),l.url=Np(Ap(l.baseURL,l.url,l.allowAbsoluteUrls),n.params,n.paramsSerializer),v&&x.set("Authorization","Basic "+btoa((v.username||"")+":"+(v.password?unescape(encodeURIComponent(v.password)):""))),X.isFormData(i)){if(ot.hasStandardBrowserEnv||ot.hasStandardBrowserWebWorkerEnv)x.setContentType(void 0);else if(X.isFunction(i.getHeaders)){const b=i.getHeaders(),y=["content-type","content-length"];Object.entries(b).forEach(([f,g])=>{y.includes(f.toLowerCase())&&x.set(f,g)})}}if(ot.hasStandardBrowserEnv&&(o&&X.isFunction(o)&&(o=o(l)),o||o!==!1&&g2(l.url))){const b=m&&h&&v2.read(h);b&&x.set(m,b)}return l},N2=typeof XMLHttpRequest<"u",w2=N2&&function(n){return new Promise(function(i,o){const m=Ep(n);let h=m.data;const x=vt.from(m.headers).normalize();let{responseType:v,onUploadProgress:b,onDownloadProgress:y}=m,f,g,C,O,w;function k(){O&&O(),w&&w(),m.cancelToken&&m.cancelToken.unsubscribe(f),m.signal&&m.signal.removeEventListener("abort",f)}let A=new XMLHttpRequest;A.open(m.method.toUpperCase(),m.url,!0),A.timeout=m.timeout;function M(){if(!A)return;const B=vt.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),G={data:!v||v==="text"||v==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:B,config:n,request:A};Cp(function(T){i(T),k()},function(T){o(T),k()},G),A=null}"onloadend"in A?A.onloadend=M:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(M)},A.onabort=function(){A&&(o(new ve("Request aborted",ve.ECONNABORTED,n,A)),A=null)},A.onerror=function(z){const G=z&&z.message?z.message:"Network Error",R=new ve(G,ve.ERR_NETWORK,n,A);R.event=z||null,o(R),A=null},A.ontimeout=function(){let z=m.timeout?"timeout of "+m.timeout+"ms exceeded":"timeout exceeded";const G=m.transitional||wp;m.timeoutErrorMessage&&(z=m.timeoutErrorMessage),o(new ve(z,G.clarifyTimeoutError?ve.ETIMEDOUT:ve.ECONNABORTED,n,A)),A=null},h===void 0&&x.setContentType(null),"setRequestHeader"in A&&X.forEach(x.toJSON(),function(z,G){A.setRequestHeader(G,z)}),X.isUndefined(m.withCredentials)||(A.withCredentials=!!m.withCredentials),v&&v!=="json"&&(A.responseType=m.responseType),y&&([C,w]=ql(y,!0),A.addEventListener("progress",C)),b&&A.upload&&([g,O]=ql(b),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",O)),(m.cancelToken||m.signal)&&(f=B=>{A&&(o(!B||B.type?new on(null,n,A):B),A.abort(),A=null)},m.cancelToken&&m.cancelToken.subscribe(f),m.signal&&(m.signal.aborted?f():m.signal.addEventListener("abort",f)));const U=p2(m.url);if(U&&ot.protocols.indexOf(U)===-1){o(new ve("Unsupported protocol "+U+":",ve.ERR_BAD_REQUEST,n));return}A.send(h||null)})},k2=(n,l)=>{const{length:i}=n=n?n.filter(Boolean):[];if(l||i){let o=new AbortController,m;const h=function(y){if(!m){m=!0,v();const f=y instanceof Error?y:this.reason;o.abort(f instanceof ve?f:new on(f instanceof Error?f.message:f))}};let x=l&&setTimeout(()=>{x=null,h(new ve(`timeout ${l} of ms exceeded`,ve.ETIMEDOUT))},l);const v=()=>{n&&(x&&clearTimeout(x),x=null,n.forEach(y=>{y.unsubscribe?y.unsubscribe(h):y.removeEventListener("abort",h)}),n=null)};n.forEach(y=>y.addEventListener("abort",h));const{signal:b}=o;return b.unsubscribe=()=>X.asap(v),b}},S2=function*(n,l){let i=n.byteLength;if(i<l){yield n;return}let o=0,m;for(;o<i;)m=o+l,yield n.slice(o,m),o=m},C2=async function*(n,l){for await(const i of A2(n))yield*S2(i,l)},A2=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const l=n.getReader();try{for(;;){const{done:i,value:o}=await l.read();if(i)break;yield o}}finally{await l.cancel()}},kx=(n,l,i,o)=>{const m=C2(n,l);let h=0,x,v=b=>{x||(x=!0,o&&o(b))};return new ReadableStream({async pull(b){try{const{done:y,value:f}=await m.next();if(y){v(),b.close();return}let g=f.byteLength;if(i){let C=h+=g;i(C)}b.enqueue(new Uint8Array(f))}catch(y){throw v(y),y}},cancel(b){return v(b),m.return()}},{highWaterMark:2})},Sx=64*1024,{isFunction:Ul}=X,E2=(({Request:n,Response:l})=>({Request:n,Response:l}))(X.global),{ReadableStream:Cx,TextEncoder:Ax}=X.global,Ex=(n,...l)=>{try{return!!n(...l)}catch{return!1}},M2=n=>{n=X.merge.call({skipUndefined:!0},E2,n);const{fetch:l,Request:i,Response:o}=n,m=l?Ul(l):typeof fetch=="function",h=Ul(i),x=Ul(o);if(!m)return!1;const v=m&&Ul(Cx),b=m&&(typeof Ax=="function"?(w=>k=>w.encode(k))(new Ax):async w=>new Uint8Array(await new i(w).arrayBuffer())),y=h&&v&&Ex(()=>{let w=!1;const k=new i(ot.origin,{body:new Cx,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!k}),f=x&&v&&Ex(()=>X.isReadableStream(new o("").body)),g={stream:f&&(w=>w.body)};m&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!g[w]&&(g[w]=(k,A)=>{let M=k&&k[w];if(M)return M.call(k);throw new ve(`Response type '${w}' is not supported`,ve.ERR_NOT_SUPPORT,A)})});const C=async w=>{if(w==null)return 0;if(X.isBlob(w))return w.size;if(X.isSpecCompliantForm(w))return(await new i(ot.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(X.isArrayBufferView(w)||X.isArrayBuffer(w))return w.byteLength;if(X.isURLSearchParams(w)&&(w=w+""),X.isString(w))return(await b(w)).byteLength},O=async(w,k)=>{const A=X.toFiniteNumber(w.getContentLength());return A??C(k)};return async w=>{let{url:k,method:A,data:M,signal:U,cancelToken:B,timeout:z,onDownloadProgress:G,onUploadProgress:R,responseType:T,headers:se,withCredentials:J="same-origin",fetchOptions:Y}=Ep(w),te=l||fetch;T=T?(T+"").toLowerCase():"text";let re=k2([U,B&&B.toAbortSignal()],z),I=null;const D=re&&re.unsubscribe&&(()=>{re.unsubscribe()});let E;try{if(R&&y&&A!=="get"&&A!=="head"&&(E=await O(se,M))!==0){let j=new i(k,{method:"POST",body:M,duplex:"half"}),K;if(X.isFormData(M)&&(K=j.headers.get("content-type"))&&se.setContentType(K),j.body){const[ie,V]=jx(E,ql(Nx(R)));M=kx(j.body,Sx,ie,V)}}X.isString(J)||(J=J?"include":"omit");const S=h&&"credentials"in i.prototype,W={...Y,signal:re,method:A.toUpperCase(),headers:se.normalize().toJSON(),body:M,duplex:"half",credentials:S?J:void 0};I=h&&new i(k,W);let F=await(h?te(I,Y):te(k,W));const me=f&&(T==="stream"||T==="response");if(f&&(G||me&&D)){const j={};["status","statusText","headers"].forEach(le=>{j[le]=F[le]});const K=X.toFiniteNumber(F.headers.get("content-length")),[ie,V]=G&&jx(K,ql(Nx(G),!0))||[];F=new o(kx(F.body,Sx,ie,()=>{V&&V(),D&&D()}),j)}T=T||"text";let pe=await g[X.findKey(g,T)||"text"](F,w);return!me&&D&&D(),await new Promise((j,K)=>{Cp(j,K,{data:pe,headers:vt.from(F.headers),status:F.status,statusText:F.statusText,config:w,request:I})})}catch(S){throw D&&D(),S&&S.name==="TypeError"&&/Load failed|fetch/i.test(S.message)?Object.assign(new ve("Network Error",ve.ERR_NETWORK,w,I),{cause:S.cause||S}):ve.from(S,S&&S.code,w,I)}}},L2=new Map,Mp=n=>{let l=n&&n.env||{};const{fetch:i,Request:o,Response:m}=l,h=[o,m,i];let x=h.length,v=x,b,y,f=L2;for(;v--;)b=h[v],y=f.get(b),y===void 0&&f.set(b,y=v?new Map:M2(l)),f=y;return y};Mp();const Jo={http:Kv,xhr:w2,fetch:{get:Mp}};X.forEach(Jo,(n,l)=>{if(n){try{Object.defineProperty(n,"name",{value:l})}catch{}Object.defineProperty(n,"adapterName",{value:l})}});const Mx=n=>`- ${n}`,R2=n=>X.isFunction(n)||n===null||n===!1;function T2(n,l){n=X.isArray(n)?n:[n];const{length:i}=n;let o,m;const h={};for(let x=0;x<i;x++){o=n[x];let v;if(m=o,!R2(o)&&(m=Jo[(v=String(o)).toLowerCase()],m===void 0))throw new ve(`Unknown adapter '${v}'`);if(m&&(X.isFunction(m)||(m=m.get(l))))break;h[v||"#"+x]=m}if(!m){const x=Object.entries(h).map(([b,y])=>`adapter ${b} `+(y===!1?"is not supported by the environment":"is not available in the build"));let v=i?x.length>1?`since :
`+x.map(Mx).join(`
`):" "+Mx(x[0]):"as no adapter specified";throw new ve("There is no suitable adapter to dispatch the request "+v,"ERR_NOT_SUPPORT")}return m}const Lp={getAdapter:T2,adapters:Jo};function Mo(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new on(null,n)}function Lx(n){return Mo(n),n.headers=vt.from(n.headers),n.data=Eo.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),Lp.getAdapter(n.adapter||xr.adapter,n)(n).then(function(o){return Mo(n),o.data=Eo.call(n,n.transformResponse,o),o.headers=vt.from(o.headers),o},function(o){return Sp(o)||(Mo(n),o&&o.response&&(o.response.data=Eo.call(n,n.transformResponse,o.response),o.response.headers=vt.from(o.response.headers))),Promise.reject(o)})}const Rp="1.13.2",Zl={};["object","boolean","number","function","string","symbol"].forEach((n,l)=>{Zl[n]=function(o){return typeof o===n||"a"+(l<1?"n ":" ")+n}});const Rx={};Zl.transitional=function(l,i,o){function m(h,x){return"[Axios v"+Rp+"] Transitional option '"+h+"'"+x+(o?". "+o:"")}return(h,x,v)=>{if(l===!1)throw new ve(m(x," has been removed"+(i?" in "+i:"")),ve.ERR_DEPRECATED);return i&&!Rx[x]&&(Rx[x]=!0,console.warn(m(x," has been deprecated since v"+i+" and will be removed in the near future"))),l?l(h,x,v):!0}};Zl.spelling=function(l){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${l}`),!0)};function D2(n,l,i){if(typeof n!="object")throw new ve("options must be an object",ve.ERR_BAD_OPTION_VALUE);const o=Object.keys(n);let m=o.length;for(;m-- >0;){const h=o[m],x=l[h];if(x){const v=n[h],b=v===void 0||x(v,h,n);if(b!==!0)throw new ve("option "+h+" must be "+b,ve.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new ve("Unknown option "+h,ve.ERR_BAD_OPTION)}}const Vl={assertOptions:D2,validators:Zl},Jt=Vl.validators;let xa=class{constructor(l){this.defaults=l||{},this.interceptors={request:new vx,response:new vx}}async request(l,i){try{return await this._request(l,i)}catch(o){if(o instanceof Error){let m={};Error.captureStackTrace?Error.captureStackTrace(m):m=new Error;const h=m.stack?m.stack.replace(/^.+\n/,""):"";try{o.stack?h&&!String(o.stack).endsWith(h.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+h):o.stack=h}catch{}}throw o}}_request(l,i){typeof l=="string"?(i=i||{},i.url=l):i=l||{},i=pa(this.defaults,i);const{transitional:o,paramsSerializer:m,headers:h}=i;o!==void 0&&Vl.assertOptions(o,{silentJSONParsing:Jt.transitional(Jt.boolean),forcedJSONParsing:Jt.transitional(Jt.boolean),clarifyTimeoutError:Jt.transitional(Jt.boolean)},!1),m!=null&&(X.isFunction(m)?i.paramsSerializer={serialize:m}:Vl.assertOptions(m,{encode:Jt.function,serialize:Jt.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),Vl.assertOptions(i,{baseUrl:Jt.spelling("baseURL"),withXsrfToken:Jt.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let x=h&&X.merge(h.common,h[i.method]);h&&X.forEach(["delete","get","head","post","put","patch","common"],w=>{delete h[w]}),i.headers=vt.concat(x,h);const v=[];let b=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(i)===!1||(b=b&&k.synchronous,v.unshift(k.fulfilled,k.rejected))});const y=[];this.interceptors.response.forEach(function(k){y.push(k.fulfilled,k.rejected)});let f,g=0,C;if(!b){const w=[Lx.bind(this),void 0];for(w.unshift(...v),w.push(...y),C=w.length,f=Promise.resolve(i);g<C;)f=f.then(w[g++],w[g++]);return f}C=v.length;let O=i;for(;g<C;){const w=v[g++],k=v[g++];try{O=w(O)}catch(A){k.call(this,A);break}}try{f=Lx.call(this,O)}catch(w){return Promise.reject(w)}for(g=0,C=y.length;g<C;)f=f.then(y[g++],y[g++]);return f}getUri(l){l=pa(this.defaults,l);const i=Ap(l.baseURL,l.url,l.allowAbsoluteUrls);return Np(i,l.params,l.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(l){xa.prototype[l]=function(i,o){return this.request(pa(o||{},{method:l,url:i,data:(o||{}).data}))}});X.forEach(["post","put","patch"],function(l){function i(o){return function(h,x,v){return this.request(pa(v||{},{method:l,headers:o?{"Content-Type":"multipart/form-data"}:{},url:h,data:x}))}}xa.prototype[l]=i(),xa.prototype[l+"Form"]=i(!0)});let _2=class Tp{constructor(l){if(typeof l!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(h){i=h});const o=this;this.promise.then(m=>{if(!o._listeners)return;let h=o._listeners.length;for(;h-- >0;)o._listeners[h](m);o._listeners=null}),this.promise.then=m=>{let h;const x=new Promise(v=>{o.subscribe(v),h=v}).then(m);return x.cancel=function(){o.unsubscribe(h)},x},l(function(h,x,v){o.reason||(o.reason=new on(h,x,v),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(l){if(this.reason){l(this.reason);return}this._listeners?this._listeners.push(l):this._listeners=[l]}unsubscribe(l){if(!this._listeners)return;const i=this._listeners.indexOf(l);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const l=new AbortController,i=o=>{l.abort(o)};return this.subscribe(i),l.signal.unsubscribe=()=>this.unsubscribe(i),l.signal}static source(){let l;return{token:new Tp(function(m){l=m}),cancel:l}}};function U2(n){return function(i){return n.apply(null,i)}}function O2(n){return X.isObject(n)&&n.isAxiosError===!0}const Go={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Go).forEach(([n,l])=>{Go[l]=n});function Dp(n){const l=new xa(n),i=dp(xa.prototype.request,l);return X.extend(i,xa.prototype,l,{allOwnKeys:!0}),X.extend(i,l,null,{allOwnKeys:!0}),i.create=function(m){return Dp(pa(n,m))},i}const Ke=Dp(xr);Ke.Axios=xa;Ke.CanceledError=on;Ke.CancelToken=_2;Ke.isCancel=Sp;Ke.VERSION=Rp;Ke.toFormData=Ql;Ke.AxiosError=ve;Ke.Cancel=Ke.CanceledError;Ke.all=function(l){return Promise.all(l)};Ke.spread=U2;Ke.isAxiosError=O2;Ke.mergeConfig=pa;Ke.AxiosHeaders=vt;Ke.formToJSON=n=>kp(X.isHTMLForm(n)?new FormData(n):n);Ke.getAdapter=Lp.getAdapter;Ke.HttpStatusCode=Go;Ke.default=Ke;const{Axios:K1,AxiosError:I1,CanceledError:X1,isCancel:Q1,CancelToken:Z1,VERSION:W1,all:J1,Cancel:eN,isAxiosError:tN,spread:sN,toFormData:aN,AxiosHeaders:nN,HttpStatusCode:rN,formToJSON:lN,getAdapter:iN,mergeConfig:cN}=Ke,Z=Ke.create({baseURL:"",withCredentials:!0,headers:{"Content-Type":"application/json"}});Z.interceptors.response.use(n=>n,n=>(n.response?.status===401&&window.location.pathname!=="/login"&&(window.location.href="/login"),Promise.reject(n)));async function z2(){return((await Z.get("/api/v1/auth/providers")).data.providers||[]).map(l=>({type:l.type,name:l.name,displayName:l.display_name,loginUrl:l.login_url}))}async function H2(n,l){return(await Z.post("/api/v1/auth/local/login",{username:n,password:l})).data}async function _p(){return(await Z.get("/api/v1/gateways")).data.gateways||[]}async function B2(n,l){return(await Z.post("/api/v1/configs/generate",{gateway_id:n,cli_callback_url:l})).data}async function Wl(){return(await Z.get("/api/v1/admin/gateways")).data.gateways||[]}async function G2(n){return(await Z.post("/api/v1/admin/gateways",n)).data}async function V2(n){await Z.delete(`/api/v1/admin/gateways/${n}`)}async function P2(n){return(await Z.post(`/api/v1/admin/gateways/${n}/reprovision`)).data}async function q2(n,l){await Z.put(`/api/v1/admin/gateways/${n}`,l)}async function F2(n){return(await Z.get(`/api/v1/admin/gateways/${n}/users`)).data.users||[]}async function $2(n,l){await Z.post(`/api/v1/admin/gateways/${n}/users`,{user_id:l})}async function Y2(n,l){await Z.delete(`/api/v1/admin/gateways/${n}/users/${l}`)}async function K2(n){return(await Z.get(`/api/v1/admin/gateways/${n}/groups`)).data.groups||[]}async function I2(n,l){await Z.post(`/api/v1/admin/gateways/${n}/groups`,{group_name:l})}async function X2(n,l){await Z.delete(`/api/v1/admin/gateways/${n}/groups/${l}`)}async function dn(){return(await Z.get("/api/v1/admin/networks")).data.networks||[]}async function Q2(n){return(await Z.post("/api/v1/admin/networks",n)).data}async function Z2(n,l){await Z.put(`/api/v1/admin/networks/${n}`,l)}async function W2(n){await Z.delete(`/api/v1/admin/networks/${n}`)}async function J2(n){return(await Z.get(`/api/v1/admin/networks/${n}/gateways`)).data.gateways||[]}async function eb(n){return((await Z.get(`/api/v1/admin/networks/${n}/access-rules`)).data.access_rules||[]).map(i=>({id:i.id,name:i.name,description:i.description||"",ruleType:i.rule_type,value:i.value,portRange:i.port_range,protocol:i.protocol,networkId:i.network_id,isActive:i.is_active,users:i.users||[],groups:i.groups||[]}))}async function tb(n){return(await Z.get(`/api/v1/admin/gateways/${n}/networks`)).data.networks||[]}async function Up(n,l){await Z.post(`/api/v1/admin/gateways/${n}/networks`,{network_id:l})}async function Op(n,l){await Z.delete(`/api/v1/admin/gateways/${n}/networks/${l}`)}async function zp(){return(await Z.get("/api/v1/admin/access-rules")).data.accessRules||[]}async function Tx(n){return(await Z.get(`/api/v1/admin/access-rules/${n}`)).data}async function sb(n){return(await Z.post("/api/v1/admin/access-rules",n)).data}async function ab(n,l){await Z.put(`/api/v1/admin/access-rules/${n}`,l)}async function nb(n){await Z.delete(`/api/v1/admin/access-rules/${n}`)}async function rb(n,l){await Z.post(`/api/v1/admin/access-rules/${n}/users`,{user_id:l})}async function lb(n,l){await Z.delete(`/api/v1/admin/access-rules/${n}/users/${l}`)}async function ib(n,l){await Z.post(`/api/v1/admin/access-rules/${n}/groups`,{group_name:l})}async function cb(n,l){await Z.delete(`/api/v1/admin/access-rules/${n}/groups/${l}`)}async function mn(){return((await Z.get("/api/v1/admin/users")).data.users||[]).map(l=>({id:l.id,externalId:l.external_id,provider:l.provider,email:l.email,name:l.name,groups:l.groups||[],isAdmin:l.is_admin,isActive:l.is_active,lastLoginAt:l.last_login_at,createdAt:l.created_at,updatedAt:l.updated_at}))}async function ob(n){return(await Z.get(`/api/v1/admin/users/${n}/access-rules`)).data.access_rules||[]}async function db(n){return((await Z.get(`/api/v1/admin/users/${n}/gateways`)).data.gateways||[]).map(i=>({id:i.id,name:i.name,hostname:i.hostname||"",publicIp:i.public_ip||"",vpnPort:i.vpn_port,vpnProtocol:i.vpn_protocol,isActive:i.is_active,lastHeartbeat:i.last_heartbeat}))}async function mb(n,l){await Z.post(`/api/v1/admin/users/${n}/gateways`,{gateway_id:l})}async function ub(n,l){await Z.delete(`/api/v1/admin/users/${n}/gateways/${l}`)}async function hb(){return((await Z.get("/api/v1/admin/local-users")).data.users||[]).map(l=>({id:l.id,username:l.username,email:l.email,isAdmin:l.is_admin,lastLoginAt:l.last_login_at,createdAt:l.created_at}))}async function xb(n){await Z.post("/api/v1/admin/local-users",n)}async function pb(n){await Z.delete(`/api/v1/admin/local-users/${n}`)}async function pr(){return((await Z.get("/api/v1/admin/groups")).data.groups||[]).map(l=>({name:l.name,memberCount:l.member_count||0}))}async function fb(n){return(await Z.get(`/api/v1/admin/groups/${encodeURIComponent(n)}/members`)).data.members||[]}async function yb(n){return(await Z.get(`/api/v1/admin/groups/${encodeURIComponent(n)}/access-rules`)).data.access_rules||[]}async function gb(){return(await Z.get("/api/v1/admin/settings/ca")).data}async function vb(){return(await Z.post("/api/v1/admin/settings/ca/rotate")).data}async function bb(n){return(await Z.put("/api/v1/admin/settings/ca",n)).data}async function jb(){return(await Z.get("/api/v1/admin/settings/ca/list")).data.cas||[]}async function Nb(n){return(await Z.post("/api/v1/admin/settings/ca/prepare-rotation",{description:n})).data}async function wb(n){await Z.post(`/api/v1/admin/settings/ca/activate/${n}`)}async function kb(n){await Z.post(`/api/v1/admin/settings/ca/revoke/${n}`)}async function Hp(){return((await Z.get("/api/v1/admin/proxy-apps")).data.applications||[]).map(l=>({id:l.id,name:l.name,slug:l.slug,description:l.description||"",internalUrl:l.internal_url,iconUrl:l.icon_url,isActive:l.is_active,preserveHostHeader:l.preserve_host_header,stripPrefix:l.strip_prefix,injectHeaders:l.inject_headers||{},allowedHeaders:l.allowed_headers||["*"],websocketEnabled:l.websocket_enabled,timeoutSeconds:l.timeout_seconds,createdAt:l.created_at,updatedAt:l.updated_at}))}async function Sb(n){const i=(await Z.post("/api/v1/admin/proxy-apps",n)).data;return{id:i.id,name:i.name,slug:i.slug,description:i.description||"",internalUrl:i.internal_url,iconUrl:i.icon_url,isActive:i.is_active,preserveHostHeader:i.preserve_host_header,stripPrefix:i.strip_prefix,injectHeaders:i.inject_headers||{},allowedHeaders:i.allowed_headers||["*"],websocketEnabled:i.websocket_enabled,timeoutSeconds:i.timeout_seconds,createdAt:i.created_at,updatedAt:i.updated_at}}async function Cb(n,l){await Z.put(`/api/v1/admin/proxy-apps/${n}`,l)}async function Ab(n){await Z.delete(`/api/v1/admin/proxy-apps/${n}`)}async function Eb(n){return(await Z.get(`/api/v1/admin/proxy-apps/${n}/users`)).data.users||[]}async function Mb(n,l){await Z.post(`/api/v1/admin/proxy-apps/${n}/users`,{user_id:l})}async function Lb(n,l){await Z.delete(`/api/v1/admin/proxy-apps/${n}/users/${l}`)}async function Rb(n){return(await Z.get(`/api/v1/admin/proxy-apps/${n}/groups`)).data.groups||[]}async function Tb(n,l){await Z.post(`/api/v1/admin/proxy-apps/${n}/groups`,{group_name:l})}async function Db(n,l){await Z.delete(`/api/v1/admin/proxy-apps/${n}/groups/${encodeURIComponent(l)}`)}async function Bp(){return((await Z.get("/api/v1/proxy-apps")).data.applications||[]).map(l=>({id:l.id,name:l.name,slug:l.slug,description:l.description||"",iconUrl:l.icon_url,proxyUrl:l.proxy_url,createdAt:l.created_at}))}async function _b(){return((await Z.get("/api/v1/configs")).data.configs||[]).map(l=>({id:l.id,gatewayId:l.gatewayId,gatewayName:l.gatewayName,fileName:l.fileName,expiresAt:l.expiresAt,createdAt:l.createdAt,isRevoked:l.isRevoked,revokedAt:l.revokedAt,downloaded:l.downloaded}))}async function Ub(n){await Z.post(`/api/v1/configs/${n}/revoke`)}async function Gp(n,l){await Z.post(`/api/v1/admin/configs/${n}/revoke`,{reason:l})}async function Ob(n,l){return{revokedCount:(await Z.post(`/api/v1/admin/users/${n}/revoke-configs`,{reason:l})).data.revokedCount||0}}async function zb(n){const l=new URLSearchParams;n?.userEmail&&l.append("user_email",n.userEmail),n?.userId&&l.append("user_id",n.userId),n?.ipAddress&&l.append("ip_address",n.ipAddress),n?.provider&&l.append("provider",n.provider),n?.success!==void 0&&l.append("success",String(n.success)),n?.startTime&&l.append("start_time",n.startTime),n?.endTime&&l.append("end_time",n.endTime),l.append("limit",String(n.limit)),n?.offset&&l.append("offset",String(n.offset));const i=await Z.get(`/api/v1/admin/login-logs?${l.toString()}`);return{logs:(i.data.logs||[]).map(o=>({id:o.id,userId:o.user_id,userEmail:o.user_email,userName:o.user_name||"",provider:o.provider,providerName:o.provider_name||"",ipAddress:o.ip_address,userAgent:o.user_agent||"",country:o.country||"",countryCode:o.country_code||"",city:o.city||"",success:o.success,failureReason:o.failure_reason||"",sessionId:o.session_id||"",createdAt:o.created_at})),total:i.data.total||0}}async function Hb(n){const l=`?days=${n}`,i=await Z.get(`/api/v1/admin/login-logs/stats${l}`);return{totalLogins:i.data.total_logins||0,successfulLogins:i.data.successful_logins||0,failedLogins:i.data.failed_logins||0,uniqueUsers:i.data.unique_users||0,uniqueIps:i.data.unique_ips||0,loginsByProvider:i.data.logins_by_provider||{},loginsByCountry:i.data.logins_by_country||{},recentFailures:(i.data.recent_failures||[]).map(o=>({id:o.id,userId:o.user_id,userEmail:o.user_email,userName:o.user_name||"",provider:o.provider,providerName:o.provider_name||"",ipAddress:o.ip_address,userAgent:o.user_agent||"",country:o.country||"",countryCode:o.country_code||"",city:o.city||"",success:o.success,failureReason:o.failure_reason||"",sessionId:o.session_id||"",createdAt:o.created_at}))}}async function Bb(n){return{deletedCount:(await Z.delete(`/api/v1/admin/login-logs?days=${n}`)).data.deleted_count||0}}async function Gb(){return{days:(await Z.get("/api/v1/admin/login-logs/retention")).data.days||30}}async function Vb(n){await Z.put("/api/v1/admin/login-logs/retention",{days:n})}async function Pb(){return((await Z.get("/api/v1/admin/mesh/hubs")).data.hubs||[]).map(l=>({id:l.id,name:l.name,description:l.description||"",publicEndpoint:l.publicEndpoint,vpnPort:l.vpnPort,vpnProtocol:l.vpnProtocol,vpnSubnet:l.vpnSubnet,cryptoProfile:l.cryptoProfile,tlsAuthEnabled:l.tlsAuthEnabled,fullTunnelMode:l.fullTunnelMode||!1,pushDns:l.pushDns||!1,dnsServers:l.dnsServers||[],localNetworks:l.localNetworks||[],sessionEnabled:l.sessionEnabled??!0,status:l.status,statusMessage:l.statusMessage||"",connectedSpokes:l.connectedSpokes||0,connectedClients:l.connectedClients||0,lastHeartbeat:l.lastHeartbeat,createdAt:l.createdAt,updatedAt:l.updatedAt}))}async function qb(n){const i=(await Z.post("/api/v1/admin/mesh/hubs",n)).data.hub;return{id:i.id,name:i.name,description:i.description||"",publicEndpoint:i.publicEndpoint,vpnPort:i.vpnPort,vpnProtocol:i.vpnProtocol,vpnSubnet:i.vpnSubnet,cryptoProfile:i.cryptoProfile,tlsAuthEnabled:i.tlsAuthEnabled,fullTunnelMode:i.fullTunnelMode||!1,pushDns:i.pushDns||!1,dnsServers:i.dnsServers||[],localNetworks:i.localNetworks||[],sessionEnabled:i.sessionEnabled??!0,apiToken:i.apiToken,controlPlaneUrl:i.controlPlaneUrl,status:i.status,statusMessage:"",connectedSpokes:0,connectedClients:0,lastHeartbeat:null,createdAt:i.createdAt||new Date().toISOString(),updatedAt:i.updatedAt||new Date().toISOString()}}async function Fb(n,l){await Z.put(`/api/v1/admin/mesh/hubs/${n}`,l)}async function $b(n){await Z.delete(`/api/v1/admin/mesh/hubs/${n}`)}async function Yb(n){return{configVersion:(await Z.post(`/api/v1/admin/mesh/hubs/${n}/provision`)).data.configVersion}}async function Kb(n){return(await Z.get(`/api/v1/admin/mesh/hubs/${n}/install-script`)).data}async function Ib(n){return(await Z.get(`/api/v1/admin/mesh/hubs/${n}/users`)).data.users||[]}async function Xb(n,l){await Z.post(`/api/v1/admin/mesh/hubs/${n}/users`,{userId:l})}async function Qb(n,l){await Z.delete(`/api/v1/admin/mesh/hubs/${n}/users/${l}`)}async function Zb(n){return(await Z.get(`/api/v1/admin/mesh/hubs/${n}/groups`)).data.groups||[]}async function Wb(n,l){await Z.post(`/api/v1/admin/mesh/hubs/${n}/groups`,{groupName:l})}async function Jb(n,l){await Z.delete(`/api/v1/admin/mesh/hubs/${n}/groups/${encodeURIComponent(l)}`)}async function ej(n){return(await Z.get(`/api/v1/admin/mesh/hubs/${n}/networks`)).data.networks||[]}async function tj(n,l){await Z.post(`/api/v1/admin/mesh/hubs/${n}/networks`,{networkId:l})}async function sj(n,l){await Z.delete(`/api/v1/admin/mesh/hubs/${n}/networks/${l}`)}async function aj(n){return((await Z.get(`/api/v1/admin/mesh/hubs/${n}/spokes`)).data.spokes||[]).map(i=>({id:i.id,hubId:i.hubId,name:i.name,description:i.description||"",localNetworks:i.localNetworks||[],fullTunnelMode:i.fullTunnelMode||!1,pushDns:i.pushDns||!1,dnsServers:i.dnsServers||[],sessionEnabled:i.sessionEnabled??!0,tunnelIp:i.tunnelIp||"",status:i.status,statusMessage:i.statusMessage||"",bytesSent:i.bytesSent||0,bytesReceived:i.bytesReceived||0,remoteIp:i.remoteIp||"",lastSeen:i.lastSeen,hasClientCert:i.hasClientCert||!1,createdAt:i.createdAt,updatedAt:i.updatedAt}))}async function nj(n,l){const o=(await Z.post(`/api/v1/admin/mesh/hubs/${n}/spokes`,l)).data.spoke;return{id:o.id,hubId:o.hubId,name:o.name,description:o.description||"",localNetworks:o.localNetworks||[],fullTunnelMode:o.fullTunnelMode||!1,pushDns:o.pushDns||!1,dnsServers:o.dnsServers||[],sessionEnabled:o.sessionEnabled??!0,tunnelIp:"",token:o.token,status:o.status,statusMessage:"",bytesSent:0,bytesReceived:0,remoteIp:"",lastSeen:null,hasClientCert:!1,createdAt:o.createdAt||new Date().toISOString(),updatedAt:o.updatedAt||new Date().toISOString()}}async function rj(n,l){await Z.put(`/api/v1/admin/mesh/spokes/${n}`,l)}async function lj(n){await Z.delete(`/api/v1/admin/mesh/spokes/${n}`)}async function ij(n){return{tunnelIp:(await Z.post(`/api/v1/admin/mesh/spokes/${n}/provision`)).data.tunnelIp}}async function cj(n){return(await Z.get(`/api/v1/admin/mesh/spokes/${n}/install-script`)).data}async function oj(n){return(await Z.get(`/api/v1/admin/mesh/spokes/${n}/users`)).data.users||[]}async function dj(n,l){await Z.post(`/api/v1/admin/mesh/spokes/${n}/users`,{userId:l})}async function mj(n,l){await Z.delete(`/api/v1/admin/mesh/spokes/${n}/users/${l}`)}async function uj(n){return(await Z.get(`/api/v1/admin/mesh/spokes/${n}/groups`)).data.groups||[]}async function hj(n,l){await Z.post(`/api/v1/admin/mesh/spokes/${n}/groups`,{groupName:l})}async function xj(n,l){await Z.delete(`/api/v1/admin/mesh/spokes/${n}/groups/${encodeURIComponent(l)}`)}async function pj(){return(await Z.get("/api/v1/mesh/hubs")).data.hubs||[]}async function fj(n){const l=await Z.post("/api/v1/mesh/generate-config",{hubid:n});return{id:l.data.id,hubname:l.data.hubname,config:l.data.config,expiresAt:l.data.expiresAt}}async function yj(){return((await Z.get("/api/v1/mesh-configs")).data.configs||[]).map(l=>({id:l.id,hubId:l.hubId,hubName:l.hubName,fileName:l.fileName,expiresAt:l.expiresAt,createdAt:l.createdAt,isRevoked:l.isRevoked,revokedAt:l.revokedAt,downloaded:l.downloaded}))}async function gj(n){await Z.post(`/api/v1/mesh-configs/${n}/revoke`)}async function Dx(){const n=await Z.get("/api/v1/admin/configs"),l=(n.data.configs||[]).map(i=>({id:i.id,userId:i.userId,userEmail:i.userEmail,userName:i.userName,gatewayId:i.gatewayId,gatewayName:i.gatewayName,fileName:i.fileName,serialNumber:i.serialNumber,fingerprint:i.fingerprint,expiresAt:i.expiresAt,createdAt:i.createdAt,isRevoked:i.isRevoked,revokedAt:i.revokedAt,revokedReason:i.revokedReason,downloaded:i.downloaded}));return{configs:l,total:n.data.total||l.length}}async function _x(){const n=await Z.get("/api/v1/admin/mesh-configs"),l=(n.data.configs||[]).map(i=>({id:i.id,userId:i.userId,userEmail:i.userEmail,userName:i.userName,hubId:i.hubId,hubName:i.hubName,fileName:i.fileName,serialNumber:i.serialNumber,fingerprint:i.fingerprint,expiresAt:i.expiresAt,createdAt:i.createdAt,isRevoked:i.isRevoked,revokedAt:i.revokedAt,revokedReason:i.revokedReason,downloaded:i.downloaded}));return{configs:l,total:n.data.total||l.length}}async function Vp(n,l){await Z.post(`/api/v1/admin/mesh-configs/${n}/revoke`,{reason:l})}async function vj(n,l){return{revokedCount:(await Z.post(`/api/v1/admin/users/${n}/revoke-mesh-configs`,{reason:l})).data.revokedCount||0}}async function bj(n){return((await Z.get(`/api/v1/admin/users/${n}/configs`)).data.configs||[]).map(i=>({id:i.id,gatewayId:i.gatewayId,gatewayName:i.gatewayName,fileName:i.fileName,expiresAt:i.expiresAt,createdAt:i.createdAt,isRevoked:i.isRevoked,revokedAt:i.revokedAt,downloaded:i.downloaded}))}async function jj(n){return((await Z.get(`/api/v1/admin/users/${n}/mesh-configs`)).data.configs||[]).map(i=>({id:i.id,hubId:i.hubId,hubName:i.hubName,fileName:i.fileName,expiresAt:i.expiresAt,createdAt:i.createdAt,isRevoked:i.isRevoked,revokedAt:i.revokedAt,downloaded:i.downloaded}))}async function Nj(n){return{deletedCount:(await Z.delete(`/api/v1/admin/users/${n}/api-keys/all`)).data.deletedCount||0}}async function wj(){return((await Z.get("/api/v1/api-keys")).data.api_keys||[]).map(l=>({id:l.id,name:l.name,description:l.description||"",keyPrefix:l.key_prefix,scopes:l.scopes||[],isAdminProvisioned:l.is_admin_provisioned,provisionedBy:l.provisioned_by,expiresAt:l.expires_at,lastUsedAt:l.last_used_at,lastUsedIp:l.last_used_ip,isRevoked:l.is_revoked,revokedAt:l.revoked_at,createdAt:l.created_at}))}async function kj(n){const i=(await Z.post("/api/v1/api-keys",n)).data;return{id:i.id,name:i.name,description:i.description||"",keyPrefix:i.key_prefix,scopes:i.scopes||[],isAdminProvisioned:i.is_admin_provisioned,provisionedBy:i.provisioned_by,expiresAt:i.expires_at,lastUsedAt:i.last_used_at,lastUsedIp:i.last_used_ip,isRevoked:i.is_revoked,revokedAt:i.revoked_at,createdAt:i.created_at,rawKey:i.raw_key}}async function Sj(n){await Z.delete(`/api/v1/api-keys/${n}`)}async function Cj(){return((await Z.get("/api/v1/admin/api-keys")).data.api_keys||[]).map(l=>({id:l.id,name:l.name,description:l.description||"",keyPrefix:l.key_prefix,scopes:l.scopes||[],isAdminProvisioned:l.is_admin_provisioned,provisionedBy:l.provisioned_by,expiresAt:l.expires_at,lastUsedAt:l.last_used_at,lastUsedIp:l.last_used_ip,isRevoked:l.is_revoked,revokedAt:l.revoked_at,createdAt:l.created_at,userId:l.user_id,userEmail:l.user_email,userName:l.user_name||""}))}async function Aj(n){return((await Z.get(`/api/v1/admin/users/${n}/api-keys`)).data.api_keys||[]).map(i=>({id:i.id,name:i.name,description:i.description||"",keyPrefix:i.key_prefix,scopes:i.scopes||[],isAdminProvisioned:i.is_admin_provisioned,provisionedBy:i.provisioned_by,expiresAt:i.expires_at,lastUsedAt:i.last_used_at,lastUsedIp:i.last_used_ip,isRevoked:i.is_revoked,revokedAt:i.revoked_at,createdAt:i.created_at}))}async function Ej(n,l){const o=(await Z.post(`/api/v1/admin/users/${n}/api-keys`,l)).data;return{id:o.id,name:o.name,description:o.description||"",keyPrefix:o.key_prefix,scopes:o.scopes||[],isAdminProvisioned:o.is_admin_provisioned,provisionedBy:o.provisioned_by,expiresAt:o.expires_at,lastUsedAt:o.last_used_at,lastUsedIp:o.last_used_ip,isRevoked:o.is_revoked,revokedAt:o.revoked_at,createdAt:o.created_at,rawKey:o.raw_key}}async function Pp(n){await Z.delete(`/api/v1/admin/api-keys/${n}`)}async function qp(){return(await Z.get("/api/v1/admin/topology")).data}async function Mj(){return(await Z.get("/api/v1/admin/sessions/active")).data}async function Lj(){const n=await Z.get("/api/v1/admin/network-tools");return{tools:n.data.tools||[],locations:(n.data.locations||[]).map(l=>({id:l.id,name:l.name,type:l.type}))}}async function Rj(n){return(await Z.post("/api/v1/admin/network-tools/execute",n)).data}async function Tj(){return((await Z.get("/api/v1/admin/remote-session/agents")).data.agents||[]).map(l=>({id:l.agentId,nodeType:l.nodeType,nodeId:l.nodeId,nodeName:l.nodeName,connectedAt:l.connected}))}function Dj(){return`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws/admin/session`}const Fp=u.createContext(void 0);function _j({children:n}){const[l,i]=u.useState(null),[o,m]=u.useState(!0);u.useEffect(()=>{h()},[]);async function h(){try{const y=await Z.get("/api/v1/auth/session");y.data.user&&i(y.data.user)}catch{i(null)}finally{m(!1)}}function x(y){window.location.href=`/api/v1/auth/${y}/login`}async function v(){try{await Z.post("/api/v1/auth/logout"),i(null),window.location.href="/login"}catch(y){console.error("Logout failed:",y)}}async function b(){await h()}return e.jsx(Fp.Provider,{value:{user:l,loading:o,login:x,logout:v,refreshSession:b},children:n})}function Ks(){const n=u.useContext(Fp);if(n===void 0)throw new Error("useAuth must be used within an AuthProvider");return n}const $p=u.createContext(void 0),Yp="gatekey-theme";function Ux(){return typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function Ox(){if(typeof window<"u"){const n=localStorage.getItem(Yp);if(n==="light"||n==="dark"||n==="system")return n}return"light"}function Uj({children:n}){const[l,i]=u.useState(()=>Ox()),[o,m]=u.useState(()=>{const v=Ox();return v==="system"?Ux():v});u.useEffect(()=>{const v=document.documentElement,b=l==="system"?Ux():l;b==="dark"?v.classList.add("dark"):v.classList.remove("dark"),m(b)},[l]),u.useEffect(()=>{if(l!=="system")return;const v=window.matchMedia("(prefers-color-scheme: dark)"),b=y=>{const f=y.matches?"dark":"light";m(f);const g=document.documentElement;f==="dark"?g.classList.add("dark"):g.classList.remove("dark")};return v.addEventListener("change",b),()=>v.removeEventListener("change",b)},[l]);function h(v){i(v),localStorage.setItem(Yp,v)}function x(){h(o==="dark"?"light":"dark")}return e.jsx($p.Provider,{value:{theme:l,resolvedTheme:o,setTheme:h,toggleTheme:x},children:n})}function Jl(){const n=u.useContext($p);if(n===void 0)throw new Error("useTheme must be used within a ThemeProvider");return n}function Oj(){const[n,l]=u.useState([]),[i,o]=u.useState(!0),[m,h]=u.useState(null),[x,v]=u.useState(!1),[b,y]=u.useState(""),[f,g]=u.useState(""),[C,O]=u.useState(!1),{user:w,refreshSession:k}=Ks(),{resolvedTheme:A,toggleTheme:M}=Jl(),U=$l(),[B]=op(),z=B.get("state"),G=B.get("cli")==="true",R=B.get("error"),[T,se]=u.useState(!1);u.useEffect(()=>{if(w){if(G&&z&&!T&&!R){se(!0),window.location.href=`/api/v1/auth/cli/complete?state=${encodeURIComponent(z)}`;return}G||U("/")}},[w,U,G,z,T,R]),u.useEffect(()=>{J()},[]);async function J(){try{const re=await z2();l(re),re.filter(D=>D.type!=="local").length===0&&v(!0)}catch{h("Failed to load authentication providers")}finally{o(!1)}}function Y(re){if(re.type==="local")v(!0),h(null);else{let I=re.loginUrl;G&&z&&(I+=(I.includes("?")?"&":"?")+"cli_state="+encodeURIComponent(z)),window.location.href=I}}async function te(re){re.preventDefault(),h(null),O(!0);try{await H2(b,f),await k(),U("/")}catch{h("Invalid username or password")}finally{O(!1)}}return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-theme-secondary",children:[e.jsx("button",{onClick:M,className:"absolute top-4 right-4 p-2 rounded-lg text-theme-secondary hover:bg-theme-tertiary transition-colors",title:`Switch to ${A==="dark"?"light":"dark"} mode`,children:A==="dark"?e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})}),e.jsxs("div",{className:"max-w-md w-full mx-4",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-4",children:e.jsx("img",{src:A==="dark"?"/logo-transparent.png":"/logo.png",alt:"GateKey",className:"h-32"})}),e.jsx("p",{className:"text-theme-tertiary mt-2",children:"Zero Trust VPN Access"})]}),m&&e.jsxs("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 text-red-500 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("span",{className:"text-red-500 text-sm font-medium",children:m==="Failed to load authentication providers"?"Service Unavailable":m})]}),m==="Failed to load authentication providers"&&e.jsxs("div",{className:"mt-2 ml-7",children:[e.jsx("p",{className:"text-red-400 text-xs",children:"Unable to connect to authentication service. Please try again later or contact your administrator."}),e.jsx("button",{onClick:()=>{h(null),o(!0),J()},className:"mt-2 text-xs text-primary-500 hover:text-primary-400 font-medium",children:"Retry Connection"})]})]}),i?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):x?e.jsxs("form",{onSubmit:te,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-theme-secondary mb-1",children:"Username"}),e.jsx("input",{id:"username",type:"text",value:b,onChange:re=>y(re.target.value),className:"input",placeholder:"admin",required:!0,autoFocus:!0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-theme-secondary mb-1",children:"Password"}),e.jsx("input",{id:"password",type:"password",value:f,onChange:re=>g(re.target.value),className:"input",placeholder:"Enter password",required:!0})]}),e.jsx("button",{type:"submit",disabled:C,className:"w-full btn btn-primary py-3 disabled:opacity-50",children:C?e.jsxs("span",{className:"flex items-center justify-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Sign In"}),e.jsx("button",{type:"button",onClick:()=>v(!1),className:"w-full text-sm text-theme-tertiary hover:text-theme-primary",children:"Back to provider selection"})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"space-y-3",children:n.filter(re=>re.type!=="local").map(re=>e.jsxs("button",{onClick:()=>Y(re),className:"w-full flex items-center justify-center space-x-3 btn btn-primary py-3",children:[re.type==="oidc"&&e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),re.type==="saml"&&e.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2H7V7a3 3 0 015.905-.75 1 1 0 001.937-.5A5.002 5.002 0 0010 2z"})}),e.jsx("span",{children:re.displayName})]},`${re.type}:${re.name}`))}),n.filter(re=>re.type!=="local").length===0&&e.jsx("p",{className:"text-center text-theme-tertiary py-4",children:"No SSO providers configured yet."}),n.some(re=>re.type==="local")&&e.jsx("div",{className:"mt-6 pt-4 border-t border-theme",children:e.jsxs("button",{onClick:()=>v(!0),className:"w-full flex items-center justify-center space-x-2 text-sm text-theme-tertiary hover:text-theme-primary",children:[e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("span",{children:"Sign in as Local User"})]})})]}),e.jsx("div",{className:"mt-8 pt-6 border-t border-theme",children:e.jsx("p",{className:"text-xs text-theme-muted text-center",children:x?"Use your local account credentials to sign in.":"Sign in with your organization's identity provider to access VPN configurations."})})]}),e.jsx("p",{className:"text-center text-sm text-theme-muted mt-4",children:"Secure access powered by GateKey SDP"})]})]})}function zj(){const{user:n}=Ks(),[l,i]=u.useState([]),[o,m]=u.useState([]),[h,x]=u.useState(null),[v,b]=u.useState(!0);u.useEffect(()=>{y()},[n]);async function y(){try{b(!0);const[f,g]=await Promise.all([_p().catch(()=>[]),Bp().catch(()=>[])]);if(i(f),m(g),n?.isAdmin){const[C,O,w,k,A]=await Promise.all([Wl().catch(()=>[]),dn().catch(()=>[]),mn().catch(()=>[]),zp().catch(()=>[]),Hp().catch(()=>[])]),M=U=>{if(!U)return!1;const B=new Date(U).getTime();return Date.now()-B<120*1e3};x({gateways:{total:C.length,online:C.filter(U=>U.isActive&&M(U.lastHeartbeat)).length,offline:C.filter(U=>!U.isActive||!M(U.lastHeartbeat)).length},networks:O.length,users:w.length,accessRules:k.length,proxyApps:A.length})}}catch(f){console.error("Failed to load dashboard data:",f)}finally{b(!1)}}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("h1",{className:"text-2xl font-bold text-theme-primary",children:["Welcome back, ",n?.name||n?.email]}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:n?.isAdmin?"Manage your VPN infrastructure and monitor system status.":"Access your VPN configurations and internal applications."})]}),n?.isAdmin&&h&&e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[e.jsxs(it,{to:"/admin/gateways",className:"card hover:shadow-lg transition-shadow p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Gateways"}),e.jsx("p",{className:"text-2xl font-bold text-theme-primary",children:h.gateways.total})]}),e.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"})})})]}),e.jsxs("div",{className:"mt-2 flex items-center text-xs",children:[e.jsxs("span",{className:"text-green-600 dark:text-green-400",children:[h.gateways.online," online"]}),h.gateways.offline>0&&e.jsxs("span",{className:"text-red-600 dark:text-red-400 ml-2",children:[h.gateways.offline," offline"]})]})]}),e.jsxs(it,{to:"/admin/networks",className:"card hover:shadow-lg transition-shadow p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Networks"}),e.jsx("p",{className:"text-2xl font-bold text-theme-primary",children:h.networks})]}),e.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-theme-tertiary",children:"CIDR blocks defined"})]}),e.jsxs(it,{to:"/admin/users",className:"card hover:shadow-lg transition-shadow p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Users"}),e.jsx("p",{className:"text-2xl font-bold text-theme-primary",children:h.users})]}),e.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-theme-tertiary",children:"SSO users registered"})]}),e.jsxs(it,{to:"/admin/access-rules",className:"card hover:shadow-lg transition-shadow p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Access Rules"}),e.jsx("p",{className:"text-2xl font-bold text-theme-primary",children:h.accessRules})]}),e.jsx("div",{className:"p-2 bg-orange-500 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-theme-tertiary",children:"IP/hostname rules"})]}),e.jsxs(it,{to:"/admin/proxy-apps",className:"card hover:shadow-lg transition-shadow p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Proxy Apps"}),e.jsx("p",{className:"text-2xl font-bold text-theme-primary",children:h.proxyApps})]}),e.jsx("div",{className:"p-2 bg-cyan-500 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})})})]}),e.jsx("p",{className:"mt-2 text-xs text-theme-tertiary",children:"Web applications"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsx(it,{to:"/connect",className:"card hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-primary-600 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-theme-primary",children:"Connect to VPN"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:v?"Loading...":`${l.length} gateway${l.length!==1?"s":""} available`})]}),e.jsx("svg",{className:"h-5 w-5 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),e.jsx(it,{to:"/web-access",className:"card hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-green-600 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-theme-primary",children:"Web Access"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:v?"Loading...":`${o.length} app${o.length!==1?"s":""} available`})]}),e.jsx("svg",{className:"h-5 w-5 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}),e.jsx(it,{to:"/help",className:"card hover:shadow-lg transition-shadow cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"p-3 bg-blue-600 rounded-lg",children:e.jsx("svg",{className:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-theme-primary",children:"Help & Documentation"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Getting started guides"})]}),e.jsx("svg",{className:"h-5 w-5 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-primary",children:"Your Gateways"}),e.jsx(it,{to:"/connect",className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"View all"})]}),v?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"})}):l.length>0?e.jsx("div",{className:"space-y-3",children:l.slice(0,4).map(f=>{const g=f.isActive&&f.lastHeartbeat&&Date.now()-new Date(f.lastHeartbeat).getTime()<12e4;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${g?"bg-green-500":"bg-gray-400 dark:bg-gray-600"}`}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:f.name}),e.jsx("p",{className:"text-xs text-theme-tertiary",children:f.hostname})]})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g?"bg-green-600 text-white dark:bg-green-600 dark:text-white":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:g?"Online":"Offline"})]},f.id)})}):e.jsxs("div",{className:"text-center py-8 text-theme-tertiary",children:[e.jsx("svg",{className:"mx-auto h-10 w-10 text-theme-muted mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"})}),e.jsx("p",{children:"No gateways available"}),e.jsx("p",{className:"text-xs mt-1",children:"Contact your administrator for access"})]})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-primary",children:"Your Web Apps"}),e.jsx(it,{to:"/web-access",className:"text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300",children:"View all"})]}),v?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600"})}):o.length>0?e.jsx("div",{className:"space-y-3",children:o.slice(0,4).map(f=>e.jsxs("a",{href:`/proxy/${f.slug}/`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-between p-3 bg-theme-tertiary rounded-lg hover:bg-theme-secondary transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[f.iconUrl?e.jsx("img",{src:f.iconUrl,alt:"",className:"w-8 h-8 rounded"}):e.jsx("div",{className:"w-8 h-8 bg-primary-100 dark:bg-primary-900/30 rounded flex items-center justify-center",children:e.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-semibold text-sm",children:f.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:f.name}),e.jsx("p",{className:"text-xs text-theme-tertiary",children:f.slug})]})]}),e.jsx("svg",{className:"h-5 w-5 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]},f.id))}):e.jsxs("div",{className:"text-center py-8 text-theme-tertiary",children:[e.jsx("svg",{className:"mx-auto h-10 w-10 text-theme-muted mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})}),e.jsx("p",{children:"No web apps available"}),e.jsx("p",{className:"text-xs mt-1",children:"Contact your administrator for access"})]})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-primary mb-4",children:"Getting Started with GateKey CLI"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),e.jsx("span",{className:"font-medium text-theme-primary",children:"Install"})]}),e.jsx("p",{className:"text-sm text-theme-secondary",children:"Download and install the GateKey CLI for your platform"})]}),e.jsxs("div",{className:"p-4 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),e.jsx("span",{className:"font-medium text-theme-primary",children:"Configure"})]}),e.jsxs("p",{className:"text-sm text-theme-secondary",children:["Run ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded text-xs text-theme-primary",children:"gatekey config init"})]})]}),e.jsxs("div",{className:"p-4 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),e.jsx("span",{className:"font-medium text-theme-primary",children:"Authenticate"})]}),e.jsxs("p",{className:"text-sm text-theme-secondary",children:["Run ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded text-xs text-theme-primary",children:"gatekey login"})]})]}),e.jsxs("div",{className:"p-4 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"4"}),e.jsx("span",{className:"font-medium text-theme-primary",children:"Connect"})]}),e.jsxs("p",{className:"text-sm text-theme-secondary",children:["Run ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded text-xs text-theme-primary",children:"gatekey connect"})]})]})]})]})]})}function Hj(){const{user:n}=Ks(),[l]=op(),[i,o]=u.useState("gateways"),[m,h]=u.useState([]),[x,v]=u.useState([]),[b,y]=u.useState(!0),[f,g]=u.useState(null),[C,O]=u.useState(null),[w,k]=u.useState(!1),[A,M]=u.useState(null),[U,B]=u.useState(null),[z,G]=u.useState(null),[R,T]=u.useState(null),[se,J]=u.useState(!1),Y=l.get("cli_callback"),te=!!Y,re=n?.isAdmin??!1,I=window.location.origin;u.useEffect(()=>{D()},[]);async function D(){try{const[le,he]=await Promise.all([_p(),pj().catch(()=>[])]);h(le),v(he);const ye=le.find(Fe=>Fe.isActive);ye&&g(ye),he.length>0&&O(he[0])}catch{G("Failed to load connection options")}finally{y(!1)}}async function E(){if(f){k(!0),G(null);try{const le=await B2(f.id,Y||void 0);M(le)}catch{G("Failed to generate configuration")}finally{k(!1)}}}async function S(){if(C){k(!0),G(null);try{const le=await fj(C.id);B(le)}catch{G("Failed to generate mesh configuration")}finally{k(!1)}}}function W(){if(!U)return;const le=new Blob([U.config],{type:"application/x-openvpn-profile"}),he=URL.createObjectURL(le),ye=document.createElement("a");ye.href=he,ye.download=`mesh-${U.hubname}.ovpn`,document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),URL.revokeObjectURL(he),B(null)}function F(){A&&(window.location.href=A.downloadUrl,setTimeout(()=>{M(null),J(!1)},1e3))}function me(){if(!A||!Y)return;const le=`${A.downloadUrl}?cli_redirect=true`;window.location.href=le}function pe(le,he){navigator.clipboard.writeText(le),T(he),setTimeout(()=>T(null),2e3)}const j=f?`gatekey connect --gateway ${f.name}`:"gatekey connect",K=C?`gatekey connect --mesh ${C.name}`:"gatekey connect --mesh",ie=`gatekey config init --server ${I}`,V=`curl -sSL ${I}/scripts/install-client.sh | bash`;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"Connect to VPN"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"Select a gateway or mesh hub and connect using the GateKey CLI."}),te&&e.jsxs("div",{className:"mt-4 info-box",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("svg",{className:"w-5 h-5 info-box-icon mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("span",{className:"info-box-title",children:"CLI Mode"})]}),e.jsx("p",{className:"info-box-text mt-1",children:"Select a gateway and the configuration will be automatically sent to your CLI client."})]}),(m.length>0||x.length>0)&&e.jsx("div",{className:"mt-4 border-b border-theme",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>o("gateways"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${i==="gateways"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:["Gateways (",m.length,")"]}),x.length>0&&e.jsxs("button",{onClick:()=>o("mesh"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${i==="mesh"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:["Mesh Networks (",x.length,")"]})]})})]}),z&&e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700",children:z}),b?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i==="gateways"&&m.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-theme-primary",children:"No gateways available"}),re?e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"mt-2 text-theme-tertiary",children:"Get started by adding a VPN gateway."}),e.jsxs(it,{to:"/admin/gateways",className:"mt-4 inline-flex items-center btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Gateway"]})]}):e.jsx("p",{className:"mt-2 text-theme-tertiary",children:"Contact your administrator to set up VPN gateways."})]}):i==="gateways"?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-primary mb-4",children:"Select Gateway"}),e.jsx("div",{className:"space-y-2",children:m.map(le=>e.jsxs("button",{onClick:()=>g(le),disabled:!le.isActive,className:`w-full text-left p-4 rounded-lg border-2 transition-colors ${f?.id===le.id?"border-primary-600 selected-highlight":le.isActive?"border-theme hover:border-primary-400 hover-theme":"border-theme bg-theme-tertiary opacity-60 cursor-not-allowed"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:le.name}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:le.hostname||le.publicIp})]}),e.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${le.isActive?"bg-green-600 text-white":"bg-gray-200 text-gray-700 dark:bg-gray-700 dark:text-gray-300"}`,children:le.isActive?"Online":"Offline"})]}),e.jsxs("div",{className:"mt-2 text-xs text-theme-muted",children:[le.vpnProtocol.toUpperCase(),":",le.vpnPort]})]},le.id))})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-primary",children:"Connect with CLI"}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-600 text-white",children:"Recommended"})]}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"Use the GateKey CLI for the easiest connection experience. The CLI handles authentication, configuration, and connection automatically."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-theme-secondary mb-2",children:"1. First time setup (run once):"}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-gray-100 flex items-center justify-between",children:[e.jsx("code",{className:"break-all",children:ie}),e.jsx("button",{onClick:()=>pe(ie,"setup"),className:"ml-4 text-theme-muted hover:text-white transition-colors flex-shrink-0",title:"Copy to clipboard",children:R==="setup"?e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-theme-secondary mb-2",children:"2. Connect to VPN:"}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-gray-100 flex items-center justify-between",children:[e.jsx("code",{children:j}),e.jsx("button",{onClick:()=>pe(j,"connect"),className:"ml-4 text-theme-muted hover:text-white transition-colors flex-shrink-0",title:"Copy to clipboard",children:R==="connect"?e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),e.jsxs("div",{className:"bg-theme-tertiary rounded-lg p-4 mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-theme-secondary mb-2",children:"Don't have the CLI installed?"}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-3 font-mono text-xs text-gray-100 flex items-center justify-between",children:[e.jsx("code",{className:"break-all",children:V}),e.jsx("button",{onClick:()=>pe(V,"install"),className:"ml-4 text-theme-muted hover:text-white transition-colors flex-shrink-0",title:"Copy to clipboard",children:R==="install"?e.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),e.jsxs("p",{className:"text-xs text-theme-tertiary mt-2",children:["Or download from the ",e.jsx("a",{href:`${I}/downloads/`,className:"text-primary-600 hover:underline",children:"downloads page"})]})]})]}),e.jsxs("div",{className:"card border-theme",children:[e.jsxs("button",{onClick:()=>J(!se),className:"w-full flex items-center justify-between text-left",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-primary",children:"Manual Configuration"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Download an OpenVPN config file for use with any OpenVPN client"})]}),e.jsx("svg",{className:`w-5 h-5 text-theme-muted transition-transform ${se?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),se&&e.jsx("div",{className:"mt-4 pt-4 border-t border-theme",children:f?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Manual configs expire after 24 hours. For persistent access, use the CLI."})]})}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:f.name}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:f.hostname||f.publicIp})]}),e.jsx("button",{onClick:E,disabled:w,className:"btn btn-secondary",children:w?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Generate Config"]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-theme-primary mb-2",children:"Windows"}),e.jsxs("ol",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:"1. Download OpenVPN GUI"}),e.jsx("li",{children:"2. Import the .ovpn file"}),e.jsx("li",{children:"3. Right-click tray icon  Connect"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-theme-primary mb-2",children:"macOS"}),e.jsxs("ol",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:"1. Install Tunnelblick or OpenVPN Connect"}),e.jsx("li",{children:"2. Double-click the .ovpn file"}),e.jsx("li",{children:"3. Click Connect"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-theme-primary mb-2",children:"Linux"}),e.jsxs("ol",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:"1. Install openvpn package"}),e.jsx("li",{children:"2. Run: sudo openvpn config.ovpn"}),e.jsx("li",{children:"3. Or import to NetworkManager"})]})]})]})]}):e.jsx("p",{className:"text-theme-tertiary text-center py-4",children:"Select a gateway first to generate a configuration."})})]})]})]}):i==="mesh"?e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-primary mb-4",children:"Select Mesh Hub"}),e.jsx("div",{className:"space-y-2",children:x.map(le=>e.jsxs("button",{onClick:()=>O(le),className:`w-full text-left p-4 rounded-lg border-2 transition-colors ${C?.id===le.id?"border-primary-600 selected-highlight":"border-theme hover:border-primary-400 hover-theme"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:le.name}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:le.description||"Mesh Network"})]}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-600 text-white",children:"Online"})]}),e.jsxs("div",{className:"mt-2 text-xs text-theme-muted",children:[le.connectedspokes," spoke",le.connectedspokes!==1?"s":""," connected"]})]},le.id))})]})}),e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-primary",children:"Connect with CLI"}),e.jsx("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-green-600 text-white",children:"Recommended"})]}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"Use the GateKey CLI for the easiest connection experience. The CLI handles authentication, configuration, and connection automatically."}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-theme-secondary mb-2",children:"1. First time setup (run once):"}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-gray-100 flex items-center justify-between",children:[e.jsx("code",{className:"break-all",children:ie}),e.jsx("button",{onClick:()=>pe(ie,"mesh-setup"),className:"ml-4 text-theme-muted hover:text-white transition-colors flex-shrink-0",title:"Copy to clipboard",children:R==="mesh-setup"?e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-sm font-medium text-theme-secondary mb-2",children:"2. Connect to Mesh Network:"}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-4 font-mono text-sm text-gray-100 flex items-center justify-between",children:[e.jsx("code",{children:K}),e.jsx("button",{onClick:()=>pe(K,"mesh-connect"),className:"ml-4 text-theme-muted hover:text-white transition-colors flex-shrink-0",title:"Copy to clipboard",children:R==="mesh-connect"?e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})]}),e.jsxs("div",{className:"bg-theme-tertiary rounded-lg p-4 mt-4",children:[e.jsx("p",{className:"text-sm font-medium text-theme-secondary mb-2",children:"Don't have the CLI installed?"}),e.jsxs("div",{className:"bg-gray-900 rounded-lg p-3 font-mono text-xs text-gray-100 flex items-center justify-between",children:[e.jsx("code",{className:"break-all",children:V}),e.jsx("button",{onClick:()=>pe(V,"mesh-install"),className:"ml-4 text-theme-muted hover:text-white transition-colors flex-shrink-0",title:"Copy to clipboard",children:R==="mesh-install"?e.jsx("svg",{className:"w-4 h-4 text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]}),e.jsxs("p",{className:"text-xs text-theme-tertiary mt-2",children:["Or download from the ",e.jsx("a",{href:`${I}/downloads/`,className:"text-primary-600 hover:underline",children:"downloads page"})]})]})]}),e.jsxs("div",{className:"card border-theme",children:[e.jsxs("button",{onClick:()=>J(!se),className:"w-full flex items-center justify-between text-left",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-theme-primary",children:"Manual Configuration"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Download an OpenVPN config file for use with any OpenVPN client"})]}),e.jsx("svg",{className:`w-5 h-5 text-theme-muted transition-transform ${se?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),se&&e.jsx("div",{className:"mt-4 pt-4 border-t border-theme",children:C?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"w-5 h-5 text-amber-600 dark:text-amber-400 mr-2 mt-0.5 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsx("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Manual configs expire after 24 hours. For persistent access, use the CLI."})]})}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:C.name}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:C.description||"Mesh Network"})]}),e.jsx("button",{onClick:S,disabled:w,className:"btn btn-secondary",children:w?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Generate Config"]})})]}),e.jsx("div",{className:"info-box",children:e.jsxs("p",{className:"info-box-text",children:[e.jsx("strong",{className:"text-theme-primary",children:"Note:"})," Mesh configs provide access to all spoke networks you're authorized for. Routes are included in the config and will be automatically applied when connected."]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 pt-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-theme-primary mb-2",children:"Windows"}),e.jsxs("ol",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:"1. Download OpenVPN GUI"}),e.jsx("li",{children:"2. Import the .ovpn file"}),e.jsx("li",{children:"3. Right-click tray icon  Connect"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-theme-primary mb-2",children:"macOS"}),e.jsxs("ol",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:"1. Install Tunnelblick or OpenVPN Connect"}),e.jsx("li",{children:"2. Double-click the .ovpn file"}),e.jsx("li",{children:"3. Click Connect"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-theme-primary mb-2",children:"Linux"}),e.jsxs("ol",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:"1. Install openvpn package"}),e.jsx("li",{children:"2. Run: sudo openvpn config.ovpn"}),e.jsx("li",{children:"3. Or import to NetworkManager"})]})]})]})]}):e.jsx("p",{className:"text-theme-tertiary text-center py-4",children:"Select a mesh hub first to generate a configuration."})})]})]})]}):null,U&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-md border border-theme w-full mx-4 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900/30 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg font-semibold text-theme-primary mb-2",children:"Mesh Configuration Ready"}),e.jsx("p",{className:"text-theme-tertiary mb-4",children:"Your mesh VPN configuration has been generated."}),e.jsxs("div",{className:"bg-theme-tertiary rounded-lg p-4 mb-4 text-left",children:[e.jsxs("p",{className:"text-sm text-theme-secondary",children:[e.jsx("strong",{children:"Hub:"})," ",U.hubname]}),e.jsxs("p",{className:"text-sm text-theme-secondary",children:[e.jsx("strong",{children:"File:"})," mesh-",U.hubname,".ovpn"]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>B(null),className:"flex-1 btn btn-secondary",children:"Cancel"}),e.jsxs("button",{onClick:W,className:"flex-1 btn btn-primary",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]})]})]})})}),A&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-md border border-theme w-full mx-4 p-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900/30 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h3",{className:"text-lg font-semibold text-theme-primary mb-2",children:"Configuration Ready"}),e.jsx("p",{className:"text-theme-tertiary mb-4",children:"Your VPN configuration has been generated."}),e.jsxs("div",{className:"bg-theme-tertiary rounded-lg p-4 mb-4 text-left",children:[e.jsxs("p",{className:"text-sm text-theme-secondary",children:[e.jsx("strong",{children:"File:"})," ",A.fileName]}),e.jsxs("p",{className:"text-sm text-theme-secondary",children:[e.jsx("strong",{children:"Gateway:"})," ",A.gatewayName]}),e.jsxs("p",{className:"text-sm text-theme-secondary",children:[e.jsx("strong",{children:"Expires:"})," ",new Date(A.expiresAt).toLocaleString()]})]}),te?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("button",{onClick:me,className:"w-full btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Send to CLI"]}),e.jsx("button",{onClick:F,className:"w-full btn btn-secondary",children:"Download Manually"}),e.jsx("button",{onClick:()=>M(null),className:"w-full text-theme-tertiary hover:text-theme-secondary text-sm",children:"Cancel"})]}):e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>M(null),className:"flex-1 btn btn-secondary",children:"Cancel"}),e.jsxs("button",{onClick:F,className:"flex-1 btn btn-primary",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]})]})]})})})]})}function Bj(){const[n,l]=u.useState([]),[i,o]=u.useState(!0),[m,h]=u.useState(null);u.useEffect(()=>{x()},[]);async function x(){try{o(!0);const b=await Bp();l(b),h(null)}catch{h("Failed to load applications")}finally{o(!1)}}function v(b){window.open(b.proxyUrl,"_blank","noopener,noreferrer")}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"Web Access"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"Access internal web applications directly from your browser without VPN client"})]}),m&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded",children:m}),i?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-theme-primary",children:"No applications available"}),e.jsx("p",{className:"mt-2 text-theme-tertiary",children:"You don't have access to any web applications yet. Contact your administrator if you need access."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(b=>e.jsxs("div",{className:"card hover:shadow-lg transition-shadow cursor-pointer group",onClick:()=>v(b),children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"flex-shrink-0",children:b.iconUrl?e.jsx("img",{src:b.iconUrl,alt:"",className:"h-12 w-12 rounded-lg",onError:y=>{y.target.style.display="none"}}):e.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary-100 dark:bg-primary-900/30 text-primary-600 dark:text-primary-400 flex items-center justify-center",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-theme-primary group-hover:text-primary-600 dark:group-hover:text-primary-400 transition-colors",children:b.name}),e.jsx("p",{className:"text-sm text-theme-tertiary mt-1 line-clamp-2",children:b.description||"No description"})]}),e.jsx("div",{className:"flex-shrink-0 opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("svg",{className:"h-5 w-5 text-primary-600 dark:text-primary-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-theme flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-theme-muted font-mono",children:b.slug}),e.jsxs("button",{onClick:y=>{y.stopPropagation(),v(b)},className:"text-sm font-medium text-primary-600 hover:text-primary-800 dark:text-primary-400 dark:hover:text-primary-300",children:["Open",e.jsx("svg",{className:"inline-block ml-1 h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})})]})]})]},b.id))}),n.length>0&&e.jsx("div",{className:"info-box",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("svg",{className:"h-5 w-5 info-box-icon mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"info-box-title",children:"Secure Web Access"}),e.jsx("p",{className:"info-box-text mt-1",children:"These applications are accessed through a secure reverse proxy. Your session is authenticated and all access is logged. No VPN client installation required."})]})]})})]})}function Gj(){const[n,l]=u.useState([]),[i,o]=u.useState([]),[m,h]=u.useState(!0),[x,v]=u.useState(null),[b,y]=u.useState(null),[f,g]=u.useState("all");u.useEffect(()=>{C()},[]);async function C(){try{h(!0),v(null);const[T,se]=await Promise.all([_b(),yj()]);l(T),o(se)}catch(T){v("Failed to load configs"),console.error(T)}finally{h(!1)}}async function O(T,se){if(confirm("Are you sure you want to revoke this config? This will immediately disconnect any active VPN session using this config."))try{y(T),se==="gateway"?await Ub(T):await gj(T),await C()}catch(J){v("Failed to revoke config"),console.error(J)}finally{y(null)}}function w(T){return new Date(T).toLocaleString()}function k(T){return new Date(T)<new Date}function A(){const T=n.map(J=>({id:J.id,type:"gateway",name:J.gatewayName,fileName:J.fileName,expiresAt:J.expiresAt,createdAt:J.createdAt,isRevoked:J.isRevoked,revokedAt:J.revokedAt,downloaded:J.downloaded})),se=i.map(J=>({id:J.id,type:"mesh",name:J.hubName,fileName:J.fileName,expiresAt:J.expiresAt,createdAt:J.createdAt,isRevoked:J.isRevoked,revokedAt:J.revokedAt,downloaded:J.downloaded}));return[...T,...se].sort((J,Y)=>new Date(Y.createdAt).getTime()-new Date(J.createdAt).getTime())}const M=A(),U=f==="all"?M:M.filter(T=>T.type===f),B=U.filter(T=>!T.isRevoked&&!k(T.expiresAt)),z=U.filter(T=>T.isRevoked||k(T.expiresAt)),G=n.filter(T=>!T.isRevoked&&!k(T.expiresAt)).length,R=i.filter(T=>!T.isRevoked&&!k(T.expiresAt)).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"My VPN Configs"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"Manage your VPN configurations. Revoke configs to immediately terminate access."})]}),x&&e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 text-red-700",children:x}),m?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"border-b border-theme",children:e.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[e.jsxs("button",{onClick:()=>g("all"),className:`${f==="all"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:["All Configs (",G+R,")"]}),e.jsxs("button",{onClick:()=>g("gateway"),className:`${f==="gateway"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:["Gateway (",G,")"]}),e.jsxs("button",{onClick:()=>g("mesh"),className:`${f==="mesh"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"} whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm`,children:["Mesh Hub (",R,")"]})]})})}),e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-lg font-semibold text-theme-primary mb-4",children:["Active Configs (",B.length,")"]}),B.length===0?e.jsx("p",{className:"text-theme-tertiary text-center py-8",children:"No active configs"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"File"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Expires"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-theme-tertiary uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:B.map(T=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.type==="gateway"?"bg-blue-600 text-white":"bg-purple-600 text-white"}`,children:T.type==="gateway"?"Gateway":"Mesh Hub"})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"font-medium text-theme-primary",children:T.name})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:T.fileName}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:w(T.createdAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:w(T.expiresAt)}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-600 text-white",children:"Active"}),T.downloaded&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-600 text-white",children:"Downloaded"})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:e.jsxs("button",{onClick:()=>O(T.id,T.type),disabled:b===T.id,className:"inline-flex items-center px-3 py-1.5 text-sm font-medium rounded-md border border-red-300 dark:border-red-700 text-red-700 dark:text-red-400 bg-transparent hover:bg-red-50 dark:hover:bg-red-900/20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50",children:[e.jsx("svg",{className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),b===T.id?"Revoking...":"Revoke"]})})]},T.id))})]})})]}),z.length>0&&e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-lg font-semibold text-theme-primary mb-4",children:["Revoked/Expired Configs (",z.length,")"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"File"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:z.map(T=>e.jsxs("tr",{className:"bg-theme-tertiary",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${T.type==="gateway"?"bg-blue-600 text-white":"bg-purple-600 text-white"}`,children:T.type==="gateway"?"Gateway":"Mesh Hub"})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"font-medium text-theme-tertiary",children:T.name})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-muted",children:T.fileName}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-muted",children:w(T.createdAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:T.isRevoked?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-600 text-white",children:["Revoked ",T.revokedAt&&`on ${w(T.revokedAt)}`]}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300",children:"Expired"})})]},T.id))})]})})]})]}),e.jsx("div",{className:"info-box",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 info-box-icon mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"info-box-title",children:"About Config Revocation"}),e.jsx("p",{className:"mt-1 info-box-text",children:"Revoking a config immediately terminates any VPN session using that config. The embedded credentials become invalid and cannot be used to connect again. This is useful if you suspect your config file was compromised."})]})]})})]})}function Vj(){const{user:n}=Ks(),[l,i]=u.useState([]),[o,m]=u.useState([]),[h,x]=u.useState(!0),[v,b]=u.useState(null),[y,f]=u.useState(null),[g,C]=u.useState(null),[O,w]=u.useState(!1),[k,A]=u.useState(!1),[M,U]=u.useState(null),[B,z]=u.useState("user");u.useEffect(()=>{G()},[n?.isAdmin]);async function G(){try{x(!0),b(null);const I=await wj();if(i(I),n?.isAdmin){const D=await Cj();m(D)}}catch(I){b("Failed to load API keys"),console.error(I)}finally{x(!1)}}async function R(I,D=!1){if(confirm("Are you sure you want to revoke this API key? This action cannot be undone."))try{C(I),D?await Pp(I):await Sj(I),f("API key revoked successfully"),await G(),setTimeout(()=>f(null),3e3)}catch(E){b("Failed to revoke API key"),console.error(E)}finally{C(null)}}function T(I){return I?new Date(I).toLocaleString():"Never"}function se(I){return I?new Date(I)<new Date:!1}const J=l.filter(I=>!I.isRevoked&&!se(I.expiresAt)),Y=l.filter(I=>I.isRevoked||se(I.expiresAt)),te=o.filter(I=>!I.isRevoked&&!se(I.expiresAt)),re=o.filter(I=>I.isRevoked||se(I.expiresAt));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"API Keys"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"Manage API keys for CLI authentication and automation."})]}),v&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4 text-red-700 dark:text-red-400 flex justify-between items-center",children:[e.jsx("span",{children:v}),e.jsx("button",{onClick:()=>b(null),className:"text-red-500 hover:text-red-700",children:""})]}),y&&e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4 text-green-700 dark:text-green-400 flex justify-between items-center",children:[e.jsx("span",{children:y}),e.jsx("button",{onClick:()=>f(null),className:"text-green-500 hover:text-green-700",children:""})]}),n?.isAdmin&&e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>z("user"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${B==="user"?"bg-primary-600 text-white":"bg-theme-tertiary text-theme-secondary hover:bg-theme-secondary"}`,children:"My API Keys"}),e.jsx("button",{onClick:()=>z("admin"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${B==="admin"?"bg-primary-600 text-white":"bg-theme-tertiary text-theme-secondary hover:bg-theme-secondary"}`,children:"All Users' Keys"})]})}),h?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):B==="user"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-theme-primary",children:["Active API Keys (",J.length,")"]}),e.jsx("button",{onClick:()=>w(!0),className:"btn btn-primary",children:"+ Create API Key"})]}),J.length===0?e.jsx("p",{className:"text-theme-tertiary text-center py-8",children:"No active API keys"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Key Prefix"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Expires"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Last Used"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-theme-tertiary uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:J.map(I=>e.jsxs("tr",{className:"hover:bg-theme-tertiary transition-colors",children:[e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("span",{className:"font-medium text-theme-primary",children:I.name}),I.description&&e.jsx("p",{className:"text-xs text-theme-tertiary",children:I.description})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("code",{className:"text-sm bg-theme-tertiary text-theme-secondary px-2 py-1 rounded",children:[I.keyPrefix,"..."]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:T(I.createdAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:I.expiresAt?T(I.expiresAt):"Never"}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:I.lastUsedAt?e.jsx("span",{title:I.lastUsedIp||void 0,children:T(I.lastUsedAt)}):"Never"}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:e.jsxs("button",{onClick:()=>R(I.id),disabled:g===I.id,className:"inline-flex items-center px-3 py-1.5 border border-red-300 dark:border-red-700 text-sm font-medium rounded-md text-red-700 dark:text-red-400 bg-theme-card hover:bg-red-50 dark:hover:bg-red-900/20 disabled:opacity-50",children:[e.jsx("svg",{className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),g===I.id?"Revoking...":"Revoke"]})})]},I.id))})]})})]}),Y.length>0&&e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-lg font-semibold text-theme-primary mb-4",children:["Revoked/Expired Keys (",Y.length,")"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Key Prefix"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:Y.map(I=>e.jsxs("tr",{className:"opacity-60",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"font-medium text-theme-tertiary",children:I.name})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("code",{className:"text-sm bg-theme-secondary px-2 py-1 rounded text-theme-muted",children:[I.keyPrefix,"..."]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-muted",children:T(I.createdAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:I.isRevoked?e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-600 text-white",children:["Revoked ",I.revokedAt&&T(I.revokedAt)]}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",children:"Expired"})})]},I.id))})]})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-theme-primary",children:["All Active API Keys (",te.length,")"]}),e.jsx("button",{onClick:()=>A(!0),className:"btn btn-primary",children:"+ Create Key for User"})]}),te.length===0?e.jsx("p",{className:"text-theme-tertiary text-center py-8",children:"No active API keys in the system"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Key Prefix"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Last Used"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-theme-tertiary uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:te.map(I=>e.jsxs("tr",{className:"hover:bg-theme-tertiary transition-colors",children:[e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:I.userEmail}),I.userName&&e.jsx("div",{className:"text-xs text-theme-tertiary",children:I.userName})]}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("span",{className:"font-medium text-theme-primary",children:I.name}),I.isAdminProvisioned&&e.jsx("span",{className:"ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-600 text-white",children:"Admin Created"})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("code",{className:"text-sm bg-theme-tertiary text-theme-secondary px-2 py-1 rounded",children:[I.keyPrefix,"..."]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:T(I.createdAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:I.lastUsedAt?T(I.lastUsedAt):"Never"}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right space-x-2",children:e.jsxs("button",{onClick:()=>R(I.id,!0),disabled:g===I.id,className:"inline-flex items-center px-3 py-1.5 border border-red-300 dark:border-red-700 text-sm font-medium rounded-md text-red-700 dark:text-red-400 bg-theme-card hover:bg-red-50 dark:hover:bg-red-900/20 disabled:opacity-50",children:[e.jsx("svg",{className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),g===I.id?"Revoking...":"Revoke"]})})]},I.id))})]})})]}),re.length>0&&e.jsxs("div",{className:"card",children:[e.jsxs("h2",{className:"text-lg font-semibold text-theme-primary mb-4",children:["Revoked/Expired Keys (",re.length,")"]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Key Prefix"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Status"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:re.map(I=>e.jsxs("tr",{className:"opacity-60",children:[e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm text-theme-tertiary",children:I.userEmail}),I.userName&&e.jsx("div",{className:"text-xs text-theme-muted",children:I.userName})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"font-medium text-theme-tertiary",children:I.name})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("code",{className:"text-sm bg-theme-secondary px-2 py-1 rounded text-theme-muted",children:[I.keyPrefix,"..."]})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:I.isRevoked?e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-600 text-white",children:"Revoked"}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",children:"Expired"})})]},I.id))})]})})]})]}),e.jsx("div",{className:"info-box",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 info-box-icon mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"info-box-title",children:"About API Keys"}),e.jsx("p",{className:"mt-1 info-box-text",children:"API keys allow you to authenticate with GateKey CLI tools without browser-based SSO. Use them for automation, CI/CD pipelines, or headless systems. The full API key is only shown once when created - save it securely!"})]})]})}),O&&e.jsx(Pj,{onClose:()=>{w(!1),U(null)},onCreated:I=>{U(I),G()},newKey:M}),k&&e.jsx(qj,{onClose:()=>{A(!1),U(null)},onCreated:I=>{U(I),G()},newKey:M})]})}function Pj({onClose:n,onCreated:l,newKey:i}){const[o,m]=u.useState(""),[h,x]=u.useState(""),[v,b]=u.useState("90d"),[y,f]=u.useState(!1),[g,C]=u.useState(null),[O,w]=u.useState(!1);async function k(M){M.preventDefault();try{f(!0),C(null);const B=await kj({name:o,description:h||void 0,expires_in:v==="never"?void 0:v});l(B)}catch(U){C("Failed to create API key"),console.error(U)}finally{f(!1)}}function A(){i?.rawKey&&(navigator.clipboard.writeText(i.rawKey),w(!0),setTimeout(()=>w(!1),2e3))}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:n}),e.jsx("div",{className:"relative bg-theme-card rounded-lg shadow-xl max-w-md w-full p-6 border border-theme",children:i?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"text-lg font-semibold text-theme-primary",children:"API Key Created"})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg",children:[e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300 font-medium mb-2",children:"Copy your API key now. You won't be able to see it again!"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"flex-1 p-2 bg-theme-card border border-theme rounded text-sm font-mono break-all text-theme-primary",children:i.rawKey}),e.jsx("button",{onClick:A,className:"btn btn-secondary text-sm whitespace-nowrap",children:O?"Copied!":"Copy"})]})]}),e.jsxs("div",{className:"text-sm text-theme-tertiary",children:[e.jsxs("p",{children:[e.jsx("strong",{className:"text-theme-primary",children:"Name:"})," ",i.name]}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-theme-primary",children:"Expires:"})," ",i.expiresAt?new Date(i.expiresAt).toLocaleDateString():"Never"]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{onClick:n,className:"btn btn-primary",children:"Done"})})]}):e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-theme-primary",children:"Create API Key"}),g&&e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:g}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Name"}),e.jsx("input",{type:"text",value:o,onChange:M=>m(M.target.value),className:"input",placeholder:"My CLI Key",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Description (optional)"}),e.jsx("input",{type:"text",value:h,onChange:M=>x(M.target.value),className:"input",placeholder:"Used for CI/CD automation"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Expires"}),e.jsxs("select",{value:v,onChange:M=>b(M.target.value),className:"input",children:[e.jsx("option",{value:"30d",children:"30 days"}),e.jsx("option",{value:"90d",children:"90 days"}),e.jsx("option",{value:"180d",children:"180 days"}),e.jsx("option",{value:"1y",children:"1 year"}),e.jsx("option",{value:"never",children:"Never"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y,className:"btn btn-primary",children:y?"Creating...":"Create Key"})]})]})})]})})}function qj({onClose:n,onCreated:l,newKey:i}){const[o,m]=u.useState(""),[h,x]=u.useState(""),[v,b]=u.useState(""),[y,f]=u.useState("90d"),[g,C]=u.useState(!1),[O,w]=u.useState(null),[k,A]=u.useState(!1);async function M(B){B.preventDefault();try{C(!0),w(null);const G=await Ej(o,{name:h,description:v||void 0,expires_in:y==="never"?void 0:y});l(G)}catch(z){w("Failed to create API key. Make sure the User ID is valid."),console.error(z)}finally{C(!1)}}function U(){i?.rawKey&&(navigator.clipboard.writeText(i.rawKey),A(!0),setTimeout(()=>A(!1),2e3))}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:e.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4",children:[e.jsx("div",{className:"fixed inset-0 bg-black opacity-50",onClick:n}),e.jsx("div",{className:"relative bg-theme-card rounded-lg shadow-xl max-w-md w-full p-6 border border-theme",children:i?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"h-6 w-6 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h3",{className:"text-lg font-semibold text-theme-primary",children:"API Key Created"})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-700 rounded-lg",children:[e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-300 font-medium mb-2",children:"Copy this API key now and share it with the user securely!"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"flex-1 p-2 bg-theme-card border border-theme rounded text-sm font-mono break-all text-theme-primary",children:i.rawKey}),e.jsx("button",{onClick:U,className:"btn btn-secondary text-sm whitespace-nowrap",children:k?"Copied!":"Copy"})]})]}),e.jsxs("div",{className:"text-sm text-theme-tertiary",children:[e.jsxs("p",{children:[e.jsx("strong",{className:"text-theme-primary",children:"Name:"})," ",i.name]}),e.jsxs("p",{children:[e.jsx("strong",{className:"text-theme-primary",children:"Expires:"})," ",i.expiresAt?new Date(i.expiresAt).toLocaleDateString():"Never"]})]}),e.jsx("div",{className:"flex justify-end pt-4",children:e.jsx("button",{onClick:n,className:"btn btn-primary",children:"Done"})})]}):e.jsxs("form",{onSubmit:M,className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-theme-primary",children:"Create API Key for User"}),O&&e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:O}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"User ID"}),e.jsx("input",{type:"text",value:o,onChange:B=>m(B.target.value),className:"input",placeholder:"user-uuid-here",required:!0}),e.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"Get the User ID from the Users page"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Key Name"}),e.jsx("input",{type:"text",value:h,onChange:B=>x(B.target.value),className:"input",placeholder:"Service Account Key",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Description (optional)"}),e.jsx("input",{type:"text",value:v,onChange:B=>b(B.target.value),className:"input",placeholder:"Created by admin for automation"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Expires"}),e.jsxs("select",{value:y,onChange:B=>f(B.target.value),className:"input",children:[e.jsx("option",{value:"30d",children:"30 days"}),e.jsx("option",{value:"90d",children:"90 days"}),e.jsx("option",{value:"180d",children:"180 days"}),e.jsx("option",{value:"1y",children:"1 year"}),e.jsx("option",{value:"never",children:"Never"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:g,className:"btn btn-primary",children:g?"Creating...":"Create Key"})]})]})})]})})}const Fj={oidc:"OIDC Providers",saml:"SAML Providers",general:"VPN Settings",ca:"Certificate Authority"};function $j(){const{tab:n}=mg(),l=n||"oidc",[i,o]=u.useState([]),[m,h]=u.useState([]),[x,v]=u.useState(!0),[b,y]=u.useState(!1),[f,g]=u.useState(null),[C,O]=u.useState(null),[w,k]=u.useState(null),[A,M]=u.useState(!1),[U,B]=u.useState(null),[z,G]=u.useState(!1);u.useEffect(()=>{R()},[]);async function R(){try{v(!0);const[te,re]=await Promise.all([Z.get("/api/v1/admin/settings/oidc"),Z.get("/api/v1/admin/settings/saml")]);o(te.data.providers||[]),h(re.data.providers||[])}catch{g("Failed to load settings")}finally{v(!1)}}async function T(te){try{y(!0),g(null),w&&i.some(re=>re.name===w.name)?await Z.put(`/api/v1/admin/settings/oidc/${w.name}`,te):await Z.post("/api/v1/admin/settings/oidc",te),O("OIDC provider saved successfully"),M(!1),k(null),await R()}catch(re){g(re.response?.data?.error||"Failed to save OIDC provider")}finally{y(!1)}}async function se(te){if(confirm(`Are you sure you want to delete the OIDC provider "${te}"?`))try{await Z.delete(`/api/v1/admin/settings/oidc/${te}`),O("OIDC provider deleted"),await R()}catch{g("Failed to delete OIDC provider")}}async function J(te){try{y(!0),g(null),U&&m.some(re=>re.name===U.name)?await Z.put(`/api/v1/admin/settings/saml/${U.name}`,te):await Z.post("/api/v1/admin/settings/saml",te),O("SAML provider saved successfully"),G(!1),B(null),await R()}catch(re){g(re.response?.data?.error||"Failed to save SAML provider")}finally{y(!1)}}async function Y(te){if(confirm(`Are you sure you want to delete the SAML provider "${te}"?`))try{await Z.delete(`/api/v1/admin/settings/saml/${te}`),O("SAML provider deleted"),await R()}catch{g("Failed to delete SAML provider")}}return x?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:Fj[l]}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"Configure VPN settings, authentication providers, and security options"})]}),f&&e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 flex justify-between items-center",children:[e.jsx("span",{children:f}),e.jsx("button",{onClick:()=>g(null),className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:""})]}),C&&e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-400 flex justify-between items-center",children:[e.jsx("span",{children:C}),e.jsx("button",{onClick:()=>O(null),className:"text-green-500 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300",children:""})]}),e.jsxs("div",{className:"bg-theme-card rounded-lg shadow p-6",children:[l==="oidc"&&e.jsx(Yj,{providers:i,showForm:A,editing:w,saving:b,onAdd:()=>{k(null),M(!0)},onEdit:te=>{k(te),M(!0)},onDelete:se,onSave:T,onCancel:()=>{M(!1),k(null)}}),l==="saml"&&e.jsx(Kj,{providers:m,showForm:z,editing:U,saving:b,onAdd:()=>{B(null),G(!0)},onEdit:te=>{B(te),G(!0)},onDelete:Y,onSave:J,onCancel:()=>{G(!1),B(null)}}),l==="general"&&e.jsx(Xj,{}),l==="ca"&&e.jsx(Ij,{})]})]})}function Yj({providers:n,showForm:l,editing:i,saving:o,onAdd:m,onEdit:h,onDelete:x,onSave:v,onCancel:b}){const[y,f]=u.useState({name:"",display_name:"",issuer:"",client_id:"",client_secret:"",redirect_url:"",scopes:["openid","profile","email"],admin_group:"",enabled:!0});return u.useEffect(()=>{f(i?{...i,client_secret:""}:{name:"",display_name:"",issuer:"",client_id:"",client_secret:"",redirect_url:window.location.origin+"/api/v1/auth/oidc/callback",scopes:["openid","profile","email"],admin_group:"",enabled:!0})},[i,l]),l?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:i?"Edit OIDC Provider":"Add OIDC Provider"}),e.jsxs("form",{onSubmit:g=>{g.preventDefault(),v(y)},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Provider Name (unique ID)"}),e.jsx("input",{type:"text",value:y.name,onChange:g=>f({...y,name:g.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"keycloak",required:!0,disabled:!!i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Display Name"}),e.jsx("input",{type:"text",value:y.display_name,onChange:g=>f({...y,display_name:g.target.value}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Sign in with Keycloak",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Issuer URL"}),e.jsx("input",{type:"url",value:y.issuer,onChange:g=>f({...y,issuer:g.target.value}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"https://keycloak.example.com/realms/myrealm",required:!0}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"The OIDC issuer URL (usually ends with /realms/name for Keycloak)"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Client ID"}),e.jsx("input",{type:"text",value:y.client_id,onChange:g=>f({...y,client_id:g.target.value}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"gatekey",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Client Secret"}),e.jsx("input",{type:"password",value:y.client_secret,onChange:g=>f({...y,client_secret:g.target.value}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:i?"(unchanged if empty)":"Enter client secret",required:!i})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Redirect URL"}),e.jsx("input",{type:"url",value:y.redirect_url,onChange:g=>f({...y,redirect_url:g.target.value}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:window.location.origin+"/api/v1/auth/oidc/callback",required:!0}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"Configure this URL in your OIDC provider as an allowed redirect URI"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Scopes"}),e.jsx("input",{type:"text",value:y.scopes.join(" "),onChange:g=>f({...y,scopes:g.target.value.split(" ").filter(C=>C)}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"openid profile email"}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"Space-separated list of OIDC scopes"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Admin Group (optional)"}),e.jsx("input",{type:"text",value:y.admin_group||"",onChange:g=>f({...y,admin_group:g.target.value}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"gatekey-admins"}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"Users in this group will be granted admin access. Leave empty to disable."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"oidc-enabled",checked:y.enabled,onChange:g=>f({...y,enabled:g.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"oidc-enabled",className:"ml-2 text-sm text-theme-secondary",children:"Enable this provider"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:b,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"btn btn-primary",children:o?"Saving...":"Save Provider"})]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"OIDC Providers"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Configure OpenID Connect providers for single sign-on"})]}),e.jsx("button",{onClick:m,className:"btn btn-primary",children:"+ Add OIDC Provider"})]}),n.length===0?e.jsxs("div",{className:"text-center py-8 bg-theme-tertiary rounded-lg border-2 border-dashed border-theme",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e.jsx("p",{className:"mt-2 text-theme-tertiary",children:"No OIDC providers configured"}),e.jsx("button",{onClick:m,className:"mt-2 text-primary-600 hover:text-primary-700",children:"Add your first OIDC provider"})]}):e.jsx("div",{className:"space-y-3",children:n.map(g=>e.jsxs("div",{className:"border rounded-lg p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-medium",children:g.display_name}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${g.enabled?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-theme-secondary"}`,children:g.enabled?"Enabled":"Disabled"})]}),e.jsx("p",{className:"text-sm text-theme-tertiary mt-1",children:g.issuer}),e.jsxs("p",{className:"text-xs text-theme-muted",children:["Client ID: ",g.client_id]}),g.admin_group&&e.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Admin group: ",g.admin_group]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>h(g),className:"btn btn-secondary text-sm inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),e.jsxs("button",{onClick:()=>x(g.name),className:"btn text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 hover:bg-red-100 dark:hover:bg-red-900/30 inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]},g.name))})]})}function Kj({providers:n,showForm:l,editing:i,saving:o,onAdd:m,onEdit:h,onDelete:x,onSave:v,onCancel:b}){const[y,f]=u.useState({name:"",display_name:"",idp_metadata_url:"",entity_id:"",acs_url:"",admin_group:"",enabled:!0});return u.useEffect(()=>{f(i||{name:"",display_name:"",idp_metadata_url:"",entity_id:window.location.origin,acs_url:window.location.origin+"/api/v1/auth/saml/acs",admin_group:"",enabled:!0})},[i,l]),l?e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"text-lg font-medium",children:i?"Edit SAML Provider":"Add SAML Provider"}),e.jsxs("form",{onSubmit:g=>{g.preventDefault(),v(y)},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Provider Name (unique ID)"}),e.jsx("input",{type:"text",value:y.name,onChange:g=>f({...y,name:g.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"okta",required:!0,disabled:!!i})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Display Name"}),e.jsx("input",{type:"text",value:y.display_name,onChange:g=>f({...y,display_name:g.target.value}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"Sign in with Okta",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"IdP Metadata URL"}),e.jsx("input",{type:"url",value:y.idp_metadata_url,onChange:g=>f({...y,idp_metadata_url:g.target.value}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"https://okta.example.com/app/xxx/sso/saml/metadata",required:!0}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"URL to the IdP's SAML metadata XML"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Entity ID (SP)"}),e.jsx("input",{type:"text",value:y.entity_id,onChange:g=>f({...y,entity_id:g.target.value}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:window.location.origin,required:!0}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"The Service Provider entity ID (usually your application's URL)"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"ACS URL"}),e.jsx("input",{type:"url",value:y.acs_url,onChange:g=>f({...y,acs_url:g.target.value}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:window.location.origin+"/api/v1/auth/saml/acs",required:!0}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"Assertion Consumer Service URL - configure this in your IdP"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Admin Group (optional)"}),e.jsx("input",{type:"text",value:y.admin_group||"",onChange:g=>f({...y,admin_group:g.target.value}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",placeholder:"gatekey-admins"}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"Users in this group will be granted admin access. Leave empty to disable."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"saml-enabled",checked:y.enabled,onChange:g=>f({...y,enabled:g.target.checked}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"saml-enabled",className:"ml-2 text-sm text-theme-secondary",children:"Enable this provider"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:b,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"btn btn-primary",children:o?"Saving...":"Save Provider"})]})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"SAML Providers"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Configure SAML 2.0 identity providers for single sign-on"})]}),e.jsx("button",{onClick:m,className:"btn btn-primary",children:"+ Add SAML Provider"})]}),n.length===0?e.jsxs("div",{className:"text-center py-8 bg-theme-tertiary rounded-lg border-2 border-dashed border-theme",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),e.jsx("p",{className:"mt-2 text-theme-tertiary",children:"No SAML providers configured"}),e.jsx("button",{onClick:m,className:"mt-2 text-primary-600 hover:text-primary-700",children:"Add your first SAML provider"})]}):e.jsx("div",{className:"space-y-3",children:n.map(g=>e.jsxs("div",{className:"border rounded-lg p-4 flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("h4",{className:"font-medium",children:g.display_name}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded-full ${g.enabled?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-theme-secondary"}`,children:g.enabled?"Enabled":"Disabled"})]}),e.jsx("p",{className:"text-sm text-theme-tertiary mt-1",children:g.idp_metadata_url}),e.jsxs("p",{className:"text-xs text-theme-muted",children:["Entity ID: ",g.entity_id]}),g.admin_group&&e.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:["Admin group: ",g.admin_group]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("button",{onClick:()=>h(g),className:"btn btn-secondary text-sm inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),e.jsxs("button",{onClick:()=>x(g.name),className:"btn text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 hover:bg-red-100 dark:hover:bg-red-900/30 inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]},g.name))})]})}function Ij(){const[n,l]=u.useState(null),[i,o]=u.useState([]),[m,h]=u.useState(!0),[x,v]=u.useState(!1),[b,y]=u.useState(null),[f,g]=u.useState(null),[C,O]=u.useState(!1),[w,k]=u.useState(null),[A,M]=u.useState(null),[U,B]=u.useState(!1),[z,G]=u.useState(!1),[R,T]=u.useState(""),[se,J]=u.useState(""),[Y,te]=u.useState("");u.useEffect(()=>{re()},[]);async function re(){try{h(!0),k(null);const[j,K]=await Promise.all([gb().catch(()=>null),jb().catch(()=>[])]);l(j),o(K)}catch(j){k(j.response?.data?.error||"Failed to load CA information")}finally{h(!1)}}async function I(){try{v(!0),k(null),await Nb(R||void 0),M("New CA prepared. Activate it when ready to complete the rotation."),G(!1),T(""),await re(),setTimeout(()=>M(null),1e4)}catch(j){k(j.response?.data?.error||"Failed to prepare CA rotation")}finally{v(!1)}}async function D(j){if(confirm("Are you sure you want to activate this CA? The current active CA will be retired."))try{y(j),k(null),await wb(j),M("CA activated successfully. Gateways and hubs will reprovision automatically."),await re(),setTimeout(()=>M(null),1e4)}catch(K){k(K.response?.data?.error||"Failed to activate CA")}finally{y(null)}}async function E(j){if(confirm("Are you sure you want to revoke this CA? Components still using this CA will no longer be able to connect."))try{g(j),k(null),await kb(j),M("CA revoked successfully."),await re(),setTimeout(()=>M(null),1e4)}catch(K){k(K.response?.data?.error||"Failed to revoke CA")}finally{g(null)}}async function S(){if(confirm("Are you sure you want to rotate the CA? This will invalidate all existing certificates. Gateways will need to be re-provisioned and users will need new VPN configs."))try{v(!0),k(null);const j=await vb();l(j),M("CA rotated successfully. Please re-provision all gateways."),await re(),setTimeout(()=>M(null),1e4)}catch(j){k(j.response?.data?.error||"Failed to rotate CA")}finally{v(!1)}}async function W(j){if(j.preventDefault(),!!confirm("Are you sure you want to replace the CA? This will invalidate all existing certificates. Gateways will need to be re-provisioned and users will need new VPN configs."))try{O(!0),k(null);const K=await bb({certificate:se,private_key:Y});l(K),M("CA updated successfully. Please re-provision all gateways."),B(!1),J(""),te(""),await re(),setTimeout(()=>M(null),1e4)}catch(K){k(K.response?.data?.error||"Failed to update CA")}finally{O(!1)}}function F(j){return new Date(j).toLocaleString()}function me(){if(!n)return;const j=new Blob([n.certificate],{type:"application/x-pem-file"}),K=URL.createObjectURL(j),ie=document.createElement("a");ie.href=K,ie.download="gatekey-ca.crt",ie.click(),URL.revokeObjectURL(K)}function pe(j){switch(j){case"active":return e.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-green-600 text-white",children:"Active"});case"pending":return e.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-yellow-500 text-white",children:"Pending"});case"retired":return e.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-gray-100 dark:bg-gray-700 text-theme-secondary",children:"Retired"});case"revoked":return e.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-red-600 text-white",children:"Revoked"});default:return e.jsx("span",{className:"px-2 py-0.5 text-xs rounded-full bg-gray-100 dark:bg-gray-700 text-theme-secondary",children:j})}}return m?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"Certificate Authority"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Manage the CA used to sign VPN certificates"})]}),w&&e.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm flex justify-between items-center",children:[e.jsx("span",{children:w}),e.jsx("button",{onClick:()=>k(null),className:"text-red-500 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300",children:""})]}),A&&e.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-400 text-sm flex justify-between items-center",children:[e.jsx("span",{children:A}),e.jsx("button",{onClick:()=>M(null),className:"text-green-500 dark:text-green-400 hover:text-green-700 dark:hover:text-green-300",children:""})]}),i.length>0&&e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"All Certificate Authorities"}),e.jsx("div",{className:"space-y-3",children:i.map(j=>e.jsx("div",{className:`border rounded-lg p-4 ${j.status==="active"?"border-green-300 dark:border-green-700 bg-green-50 dark:bg-green-900/20":""}`,children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"font-medium",children:j.id}),pe(j.status)]}),j.description&&e.jsx("p",{className:"text-sm text-theme-tertiary mb-2",children:j.description}),e.jsxs("div",{className:"grid gap-1 text-sm text-theme-tertiary",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-muted",children:"Fingerprint: "}),e.jsx("span",{className:"font-mono text-xs",children:j.fingerprint||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-muted",children:"Valid: "}),F(j.not_before)," - ",F(j.not_after)]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-muted",children:"Created: "}),F(j.created_at)]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[j.status==="pending"&&e.jsx("button",{onClick:()=>D(j.id),disabled:b===j.id,className:"btn btn-primary text-sm",children:b===j.id?"Activating...":"Activate"}),j.status==="retired"&&e.jsxs("button",{onClick:()=>E(j.id),disabled:f===j.id,className:"btn text-sm text-red-600 dark:text-red-400 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 hover:bg-red-100 dark:hover:bg-red-900/30 inline-flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),f===j.id?"Revoking...":"Revoke"]})]})]})},j.id))})]}),n?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Active CA Certificate Details"}),e.jsxs("div",{className:"grid gap-3 text-sm",children:[e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-theme-tertiary w-32",children:"Subject:"}),e.jsx("span",{className:"font-mono",children:n.subject})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-theme-tertiary w-32",children:"Serial Number:"}),e.jsx("span",{className:"font-mono uppercase",children:n.serial_number})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-theme-tertiary w-32",children:"Valid From:"}),e.jsx("span",{children:F(n.not_before)})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-theme-tertiary w-32",children:"Valid Until:"}),e.jsx("span",{children:F(n.not_after)})]}),e.jsxs("div",{className:"flex",children:[e.jsx("span",{className:"text-theme-tertiary w-32",children:"Fingerprint:"}),e.jsx("span",{className:"font-mono text-xs break-all",children:n.fingerprint})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("button",{onClick:me,className:"btn btn-secondary text-sm inline-flex items-center",children:[e.jsx("svg",{className:"h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download CA Certificate"]})})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"CA Management"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Graceful CA Rotation"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Prepare a new CA, then activate it when ready (recommended)"})]}),e.jsxs("button",{onClick:()=>G(!z),className:"btn btn-primary inline-flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),"Prepare New CA"]})]}),z&&e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[e.jsx("h5",{className:"font-medium mb-3",children:"Prepare CA Rotation"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Description (optional)"}),e.jsx("input",{type:"text",value:R,onChange:j=>T(j.target.value),placeholder:"e.g., Quarterly CA rotation - January 2026",className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500"})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx("button",{onClick:()=>G(!1),className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{onClick:I,disabled:x,className:"btn btn-primary",children:x?"Preparing...":"Prepare CA"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Immediate CA Rotation"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Generate and activate a new CA immediately"})]}),e.jsxs("button",{onClick:S,disabled:x,className:"btn btn-secondary inline-flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),x?"Rotating...":"Rotate Now"]})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Import Custom CA"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Use your own CA certificate and private key"})]}),e.jsxs("button",{onClick:()=>B(!U),className:"btn btn-secondary inline-flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),U?"Cancel":"Import CA"]})]})]})]}),U&&e.jsxs("div",{className:"info-box",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Import Custom CA"}),e.jsxs("form",{onSubmit:W,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"CA Certificate (PEM)"}),e.jsx("textarea",{value:se,onChange:j=>J(j.target.value),rows:8,className:"w-full px-3 py-2 border border-theme rounded-lg font-mono text-xs focus:ring-2 focus:ring-primary-500",placeholder:`-----BEGIN CERTIFICATE-----
...
-----END CERTIFICATE-----`,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"CA Private Key (PEM)"}),e.jsx("textarea",{value:Y,onChange:j=>te(j.target.value),rows:8,className:"w-full px-3 py-2 border border-theme rounded-lg font-mono text-xs focus:ring-2 focus:ring-primary-500",placeholder:`-----BEGIN PRIVATE KEY-----
...
-----END PRIVATE KEY-----`,required:!0}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"Supported formats: PKCS#8, RSA, EC private key"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[e.jsx("button",{type:"button",onClick:()=>{B(!1),J(""),te("")},className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:C,className:"btn btn-primary",children:C?"Uploading...":"Import CA"})]})]})]}),e.jsx("div",{className:"p-4 bg-theme-tertiary border border-theme rounded-lg",children:e.jsxs("p",{className:"text-sm text-theme-secondary",children:[e.jsx("strong",{children:"Graceful Rotation:"})," When you activate a new CA, the old CA is retired but remains trusted. Gateways and mesh hubs will automatically reprovision with the new CA on their next heartbeat."]})})]}):e.jsx("div",{className:"text-center py-8 bg-theme-tertiary rounded-lg border-2 border-dashed border-theme",children:e.jsx("p",{className:"text-theme-tertiary",children:"CA not initialized"})})]})}function Xj(){const[n,l]=u.useState({}),[i,o]=u.useState(!0),[m,h]=u.useState(!1),[x,v]=u.useState(null),[b,y]=u.useState(null);u.useEffect(()=>{f()},[]);async function f(){try{o(!0);const C=await Z.get("/api/v1/admin/settings");l(C.data.settings||{})}catch{v("Failed to load settings")}finally{o(!1)}}async function g(){try{h(!0),v(null),await Z.put("/api/v1/admin/settings",n),y("Settings saved successfully"),setTimeout(()=>y(null),3e3)}catch{v("Failed to save settings")}finally{h(!1)}}return i?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium",children:"VPN Settings"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:"Configure VPN session and security settings"})]}),x&&e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:x}),b&&e.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-400 text-sm",children:b}),e.jsxs("div",{className:"grid gap-6",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Session Settings"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Session Duration (hours)"}),e.jsx("input",{type:"number",value:n.session_duration_hours||"12",onChange:C=>l({...n,session_duration_hours:C.target.value}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",min:"1",max:"168"}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"How long user sessions remain valid"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"VPN Certificate Validity (hours)"}),e.jsx("input",{type:"number",value:n.vpn_cert_validity_hours||"24",onChange:C=>l({...n,vpn_cert_validity_hours:C.target.value}),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",min:"1",max:"168"}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"How long VPN certificates remain valid"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"secure-cookies",checked:n.secure_cookies==="true",onChange:C=>l({...n,secure_cookies:C.target.checked?"true":"false"}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"secure-cookies",className:"ml-2 text-sm text-theme-secondary",children:"Secure Cookies (HTTPS only)"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1 ml-6",children:"Enable only if using HTTPS"})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"Security Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between p-3 bg-theme-tertiary rounded-lg",children:e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"require-fips",checked:n.require_fips==="true",onChange:C=>l({...n,require_fips:C.target.checked?"true":"false"}),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"require-fips",className:"ml-2 font-medium text-theme-secondary",children:"Require FIPS 140-3 Compliance"})]}),e.jsx("p",{className:"text-sm text-theme-tertiary mt-1 ml-6",children:"When enabled, clients must pass FIPS compliance checks before connecting. This enforces the use of FIPS 140-3 validated cryptographic modules."})]})}),n.require_fips==="true"&&e.jsx("div",{className:"p-3 bg-amber-100 dark:bg-amber-900/20 border border-amber-300 dark:border-amber-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-amber-900 dark:text-amber-300",children:[e.jsx("strong",{children:"Note:"})," Enabling FIPS requirement will block connections from clients that don't have FIPS mode enabled. Make sure your users' systems are FIPS-compliant before enabling this setting."]})})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("button",{onClick:g,disabled:m,className:"btn btn-primary inline-flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),m?"Saving...":"Save Settings"]})})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-4",children:"OpenVPN Encryption Settings"}),e.jsx("p",{className:"text-sm text-theme-tertiary mb-4",children:"Control which encryption profiles are allowed for VPN gateways"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:"Allowed Crypto Profiles"}),e.jsx("p",{className:"text-xs text-theme-tertiary mb-3",children:"Select which encryption profiles gateways can use. At least one must be selected."}),e.jsx("div",{className:"space-y-2",children:[{id:"modern",name:"Modern",desc:"AES-256-GCM, CHACHA20-POLY1305, TLS 1.2+ (Recommended)"},{id:"fips",name:"FIPS 140-3",desc:"AES-256-GCM only, SHA-384, TLS 1.2+ (Government compliance)"},{id:"compatible",name:"Compatible",desc:"AES-256-CBC fallback, TLS 1.0+ (Legacy support)"}].map(C=>{const O=(n.allowed_crypto_profiles||"modern,fips,compatible").split(","),w=O.includes(C.id);return e.jsxs("label",{className:"flex items-start p-3 bg-theme-tertiary rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700",children:[e.jsx("input",{type:"checkbox",checked:w,onChange:k=>{let A=O.filter(M=>M.trim()!=="");k.target.checked?A.includes(C.id)||A.push(C.id):A=A.filter(M=>M!==C.id),A.length===0&&(A=["modern"]),l({...n,allowed_crypto_profiles:A.join(",")})},className:"h-4 w-4 mt-0.5 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsxs("div",{className:"ml-3",children:[e.jsx("span",{className:"font-medium text-theme-primary",children:C.name}),e.jsx("p",{className:"text-xs text-theme-tertiary",children:C.desc})]})]},C.id)})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Minimum TLS Version"}),e.jsxs("select",{value:n.min_tls_version||"1.2",onChange:C=>l({...n,min_tls_version:C.target.value}),className:"w-full max-w-xs px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"1.0",children:"TLS 1.0 (Legacy)"}),e.jsx("option",{value:"1.1",children:"TLS 1.1"}),e.jsx("option",{value:"1.2",children:"TLS 1.2 (Recommended)"}),e.jsx("option",{value:"1.3",children:"TLS 1.3 (Most Secure)"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"Minimum TLS version for VPN connections"})]}),n.allowed_crypto_profiles&&!n.allowed_crypto_profiles.includes("modern")&&e.jsx("div",{className:"p-3 bg-theme-tertiary border border-theme rounded-lg",children:e.jsxs("p",{className:"text-sm text-theme-secondary",children:[e.jsx("strong",{children:"Warning:"}),' The "Modern" profile is recommended for best security. Disabling it may reduce overall security.']})}),n.allowed_crypto_profiles==="compatible"&&e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-red-800 dark:text-red-300",children:[e.jsx("strong",{children:"Security Risk:"}),' Only allowing the "Compatible" profile means VPN connections may use weaker encryption (AES-CBC). Consider enabling "Modern" or "FIPS" profiles for better security.']})})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("button",{onClick:g,disabled:m,className:"btn btn-primary inline-flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),m?"Saving...":"Save Encryption Settings"]})})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Service Provider Metadata"}),e.jsx("p",{className:"text-sm text-theme-tertiary mb-3",children:"Use these values when configuring your identity provider"}),e.jsxs("div",{className:"space-y-2 font-mono text-sm bg-theme-tertiary p-3 rounded",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-tertiary",children:"Entity ID:"}),e.jsx("span",{className:"ml-2",children:window.location.origin})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-tertiary",children:"OIDC Callback:"}),e.jsxs("span",{className:"ml-2",children:[window.location.origin,"/api/v1/auth/oidc/callback"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-tertiary",children:"SAML ACS:"}),e.jsxs("span",{className:"ml-2",children:[window.location.origin,"/api/v1/auth/saml/acs"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-tertiary",children:"SAML Metadata:"}),e.jsxs("span",{className:"ml-2",children:[window.location.origin,"/api/v1/auth/saml/metadata"]})]})]})]})]})]})}const Qj={edit:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),access:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),install:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),delete:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),view:e.jsxs("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),open:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})}),assign:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})}),gateway:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"})}),rules:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},Zj={gray:"text-theme-secondary hover-theme",primary:"text-primary-600 hover-theme",purple:"text-purple-600 hover-theme",green:"text-green-600 hover-theme",red:"text-red-600 hover-theme"};function Ys({actions:n}){const[l,i]=u.useState(!1),[o,m]=u.useState({top:0,right:0}),h=u.useRef(null),x=u.useRef(null);u.useEffect(()=>{function b(y){x.current&&!x.current.contains(y.target)&&h.current&&!h.current.contains(y.target)&&i(!1)}return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),u.useEffect(()=>{if(l&&h.current){const b=h.current.getBoundingClientRect();m({top:b.bottom+8,right:window.innerWidth-b.right})}},[l]);const v=l&&e.jsx("div",{ref:x,className:"fixed w-48 dropdown-menu z-[9999]",style:{top:o.top,right:o.right},children:e.jsx("div",{children:n.map((b,y)=>e.jsxs("button",{onClick:()=>{b.disabled||(b.onClick(),i(!1))},disabled:b.disabled,className:`w-full flex items-center px-4 py-2 text-sm ${b.disabled?"text-gray-400 dark:text-gray-500 cursor-not-allowed":Zj[b.color||"gray"]}`,children:[e.jsx("span",{className:"mr-3",children:Qj[b.icon]}),b.label]},y))})});return e.jsxs("div",{className:"relative inline-block text-left",children:[e.jsxs("button",{ref:h,onClick:()=>i(!l),className:"btn-actions",children:["Actions",e.jsx("svg",{className:`ml-2 h-4 w-4 transition-transform ${l?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),iv.createPortal(v,document.body)]})}function Wj(){const[n,l]=u.useState("sso"),[i,o]=u.useState([]),[m,h]=u.useState([]),[x,v]=u.useState([]),[b,y]=u.useState(!0),[f,g]=u.useState(null),[C,O]=u.useState(null),[w,k]=u.useState(null),[A,M]=u.useState(!1);u.useEffect(()=>{U()},[]);async function U(){try{y(!0);const[B,z,G]=await Promise.all([mn(),hb(),pr()]);o(B),h(z),v(G),g(null)}catch{g("Failed to load user data")}finally{y(!1)}}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"Users & Groups"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"Manage SSO users, local admins, and groups for access control."})]}),e.jsx("div",{className:"border-b border-theme",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>l("sso"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sso"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:["SSO Users",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs bg-theme-secondary text-theme-tertiary",children:i.length})]}),e.jsxs("button",{onClick:()=>l("local"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="local"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:["Local Users",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs bg-theme-secondary text-theme-tertiary",children:m.length})]}),e.jsxs("button",{onClick:()=>l("groups"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="groups"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:["Groups",e.jsx("span",{className:"ml-2 px-2 py-0.5 rounded-full text-xs bg-theme-secondary text-theme-tertiary",children:x.length})]})]})}),f&&e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400",children:f}),b?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[n==="sso"&&e.jsx(Jj,{users:i,onViewUser:O}),n==="local"&&e.jsx(e1,{users:m,onCreateUser:()=>M(!0),onDeleteUser:async B=>{if(confirm("Are you sure you want to delete this user?"))try{await pb(B),U()}catch{g("Failed to delete user")}}}),n==="groups"&&e.jsx(t1,{groups:x,onViewGroup:k})]}),C&&e.jsx(s1,{user:C,onClose:()=>O(null)}),w&&e.jsx(a1,{groupName:w,onClose:()=>k(null)}),A&&e.jsx(n1,{onClose:()=>M(!1),onSuccess:()=>{M(!1),U()}})]})}function Jj({users:n,onViewUser:l}){return n.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-theme-primary",children:"No SSO users yet"}),e.jsx("p",{className:"mt-2 text-theme-tertiary",children:"SSO users will appear here after they log in via OIDC or SAML."})]}):e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Provider"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Groups"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:n.map(i=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx("span",{className:"text-primary-700 font-medium text-sm",children:i.name?i.name.charAt(0).toUpperCase():i.email.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:i.name||"Unnamed"}),e.jsx("div",{className:"text-sm text-theme-tertiary",children:i.email})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-medium rounded-full bg-blue-600 text-white",children:i.provider})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[i.groups.length>0?i.groups.slice(0,3).map(o=>e.jsx("span",{className:"px-2 py-0.5 text-xs bg-theme-secondary text-theme-secondary rounded",children:o},o)):e.jsx("span",{className:"text-xs text-theme-muted italic",children:"No groups"}),i.groups.length>3&&e.jsxs("span",{className:"px-2 py-0.5 text-xs bg-theme-secondary text-theme-tertiary rounded",children:["+",i.groups.length-3," more"]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${i.isActive?"bg-green-600 text-white":"bg-theme-secondary text-theme-primary"}`,children:i.isActive?"Active":"Inactive"}),i.isAdmin&&e.jsx("span",{className:"ml-1 px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-orange-100 text-orange-800",children:"Admin"})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-tertiary",children:i.lastLoginAt?new Date(i.lastLoginAt).toLocaleString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"View Details",icon:"view",onClick:()=>l(i),color:"primary"}]})})]},i.id))})]})})}function e1({users:n,onCreateUser:l,onDeleteUser:i}){return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:l,className:"btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Local User"]})}),n.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-theme-primary",children:"No local users"}),e.jsx("p",{className:"mt-2 text-theme-tertiary",children:'Click "Add Local User" to create a local account.'})]}):e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Username"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Email"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Role"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Last Login"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:n.map(o=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-orange-100 flex items-center justify-center",children:e.jsx("span",{className:"text-orange-700 font-medium text-sm",children:o.username.charAt(0).toUpperCase()})}),e.jsx("div",{className:"ml-4",children:e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:o.username})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-tertiary",children:o.email}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${o.isAdmin?"bg-orange-100 text-orange-800":"bg-theme-secondary text-theme-primary"}`,children:o.isAdmin?"Admin":"User"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-tertiary",children:o.lastLoginAt?new Date(o.lastLoginAt).toLocaleString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-tertiary",children:new Date(o.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"Delete",icon:"delete",onClick:()=>i(o.id),color:"red",disabled:o.username==="admin"}]})})]},o.id))})]})})]})}function t1({groups:n,onViewGroup:l}){return n.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-theme-primary",children:"No groups found"}),e.jsx("p",{className:"mt-2 text-theme-tertiary",children:"Groups are synced from your identity provider when users log in, or created when assigning access rules."})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(i=>e.jsx("div",{className:"card hover:shadow-md transition-shadow cursor-pointer",onClick:()=>l(i.name),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx("svg",{className:"h-5 w-5 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:i.name}),e.jsxs("div",{className:"text-xs text-theme-tertiary",children:[i.memberCount," members"]})]})]}),e.jsx("svg",{className:"h-5 w-5 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})},i.name))})}function s1({user:n,onClose:l}){const[i,o]=u.useState([]),[m,h]=u.useState([]),[x,v]=u.useState([]),[b,y]=u.useState([]),[f,g]=u.useState([]),[C,O]=u.useState([]),[w,k]=u.useState(!0),[A,M]=u.useState("info"),[U,B]=u.useState(""),[z,G]=u.useState(null),[R,T]=u.useState(null);u.useEffect(()=>{se()},[n.id]);async function se(){k(!0);try{const[j,K,ie,V,le,he]=await Promise.all([ob(n.id),db(n.id),Wl(),bj(n.id),jj(n.id),Aj(n.id)]);o(j),h(K),v(ie),y(V),g(le),O(he)}catch{G("Failed to load user data")}finally{k(!1)}}const J=new Set(m.map(j=>j.id)),Y=x.filter(j=>!J.has(j.id)),te=j=>new Date(j)<new Date,re=b.filter(j=>!j.isRevoked&&!te(j.expiresAt)),I=f.filter(j=>!j.isRevoked&&!te(j.expiresAt)),D=C.filter(j=>!j.isRevoked&&(!j.expiresAt||!te(j.expiresAt)));async function E(){if(U)try{await mb(n.id,U),B(""),await se()}catch{G("Failed to assign gateway")}}async function S(j){try{await ub(n.id,j),await se()}catch{G("Failed to remove gateway")}}async function W(j,K){if(confirm("Are you sure you want to revoke this config? This will immediately disconnect any active VPN session.")){T(j);try{K==="gateway"?await Gp(j,"revoked by admin"):await Vp(j,"revoked by admin"),await se()}catch{G("Failed to revoke config")}finally{T(null)}}}async function F(){if(confirm("Are you sure you want to revoke ALL configs for this user? This will disconnect all active VPN sessions."))try{await Promise.all([Ob(n.id,"all configs revoked by admin"),vj(n.id,"all configs revoked by admin")]),await se()}catch{G("Failed to revoke configs")}}async function me(j){if(confirm("Are you sure you want to revoke this API key?")){T(j);try{await Pp(j),await se()}catch{G("Failed to revoke API key")}finally{T(null)}}}async function pe(){if(confirm("Are you sure you want to PERMANENTLY DELETE all API keys for this user? This cannot be undone."))try{await Nj(n.id),await se()}catch{G("Failed to delete API keys")}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-3xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-theme",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx("span",{className:"text-primary-700 font-medium text-lg",children:n.name?n.name.charAt(0).toUpperCase():n.email.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-theme-primary",children:n.name||"Unnamed User"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:n.email})]})]}),e.jsx("button",{onClick:l,className:"text-theme-muted hover:text-theme-tertiary",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"border-b border-theme px-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-6 overflow-x-auto",children:[e.jsx("button",{onClick:()=>M("info"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${A==="info"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary"}`,children:"Info"}),e.jsxs("button",{onClick:()=>M("gateways"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${A==="gateways"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary"}`,children:["Gateways (",m.length,")"]}),e.jsxs("button",{onClick:()=>M("configs"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${A==="configs"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary"}`,children:["VPN Configs (",re.length+I.length,")"]}),e.jsxs("button",{onClick:()=>M("apikeys"),className:`py-2 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${A==="apikeys"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary"}`,children:["API Keys (",D.length,")"]})]})}),z&&e.jsxs("div",{className:"mx-6 mt-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-red-700 dark:text-red-400 text-sm",children:[z,e.jsx("button",{onClick:()=>G(null),className:"ml-2 text-red-500 hover:text-red-700",children:""})]}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[50vh]",children:w?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):A==="info"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary uppercase",children:"Provider"}),e.jsx("p",{className:"text-sm font-medium text-theme-primary",children:n.provider})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary uppercase",children:"External ID"}),e.jsx("p",{className:"text-sm font-medium text-theme-primary font-mono text-xs break-all",children:n.externalId})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary uppercase",children:"Status"}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${n.isActive?"bg-green-600 text-white":"bg-theme-secondary text-theme-primary"}`,children:n.isActive?"Active":"Inactive"}),n.isAdmin&&e.jsx("span",{className:"ml-1 px-2 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Admin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary uppercase",children:"Last Login"}),e.jsx("p",{className:"text-sm text-theme-primary",children:n.lastLoginAt?new Date(n.lastLoginAt).toLocaleString():"Never"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"text-xs text-theme-tertiary uppercase mb-2 block",children:["Groups (",n.groups.length,")"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.groups.length>0?n.groups.map(j=>e.jsx("span",{className:"px-3 py-1 bg-purple-600 text-white rounded-full text-sm",children:j},j)):e.jsx("span",{className:"text-sm text-theme-muted italic",children:"No groups assigned"})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"text-xs text-theme-tertiary uppercase mb-2 block",children:["Access Rules (",i.length,")"]}),i.length>0?e.jsx("div",{className:"border border-theme rounded-lg divide-y divide-theme",children:i.map(j=>e.jsxs("div",{className:"p-3 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-theme-primary",children:j.name}),e.jsxs("p",{className:"text-xs text-theme-tertiary",children:[e.jsx("span",{className:"font-mono bg-theme-secondary px-1 rounded",children:j.value}),e.jsxs("span",{className:"ml-2",children:["(",j.ruleType,")"]})]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${j.isActive?"bg-green-600 text-white":"bg-theme-secondary text-theme-primary"}`,children:j.isActive?"Active":"Inactive"})]},j.id))}):e.jsx("p",{className:"text-sm text-theme-muted italic",children:"No access rules assigned (directly or via groups)"})]})]}):A==="gateways"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:U,onChange:j=>B(j.target.value),className:"flex-1 px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select a gateway to assign..."}),Y.map(j=>e.jsxs("option",{value:j.id,children:[j.name," (",j.hostname||j.publicIp,")"]},j.id))]}),e.jsx("button",{onClick:E,disabled:!U,className:"btn btn-primary",children:"Assign"})]}),e.jsx("div",{className:"space-y-2",children:m.length===0?e.jsx("p",{className:"text-theme-tertiary text-sm py-4 text-center",children:"No gateways assigned to this user"}):m.map(j=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-sm flex items-center",children:[j.name,e.jsx("span",{className:`ml-2 px-1.5 py-0.5 text-xs rounded-full ${j.isActive?"bg-green-600 text-white":"bg-theme-secondary text-theme-tertiary"}`,children:j.isActive?"Online":"Offline"})]}),e.jsxs("div",{className:"text-xs text-theme-tertiary",children:[j.hostname||j.publicIp," - ",j.vpnProtocol.toUpperCase(),":",j.vpnPort]})]}),e.jsx("button",{onClick:()=>S(j.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]},j.id))})]}):A==="configs"?e.jsxs("div",{className:"space-y-4",children:[(re.length>0||I.length>0)&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:F,className:"btn bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 hover:bg-red-200 text-sm",children:"Revoke All Active Configs"})}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-theme-secondary mb-2",children:["Gateway Configs (",b.length,")"]}),b.length===0?e.jsx("p",{className:"text-theme-muted text-sm italic",children:"No gateway configs"}):e.jsx("div",{className:"border rounded-lg divide-y",children:b.map(j=>e.jsxs("div",{className:`p-3 flex items-center justify-between ${j.isRevoked||te(j.expiresAt)?"bg-theme-tertiary":""}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:j.gatewayName}),e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-blue-600 text-white",children:"Gateway"}),j.isRevoked?e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-red-600 text-white",children:"Revoked"}):te(j.expiresAt)?e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-theme-secondary text-theme-tertiary",children:"Expired"}):e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-green-600 text-white",children:"Active"})]}),e.jsxs("div",{className:"text-xs text-theme-tertiary mt-1",children:[j.fileName,"  Expires: ",new Date(j.expiresAt).toLocaleString()]})]}),!j.isRevoked&&!te(j.expiresAt)&&e.jsxs("button",{onClick:()=>W(j.id,"gateway"),disabled:R===j.id,className:"inline-flex items-center text-red-600 hover:text-red-800 text-sm disabled:opacity-50",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),R===j.id?"Revoking...":"Revoke"]})]},j.id))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-theme-secondary mb-2",children:["Mesh Hub Configs (",f.length,")"]}),f.length===0?e.jsx("p",{className:"text-theme-muted text-sm italic",children:"No mesh configs"}):e.jsx("div",{className:"border rounded-lg divide-y",children:f.map(j=>e.jsxs("div",{className:`p-3 flex items-center justify-between ${j.isRevoked||te(j.expiresAt)?"bg-theme-tertiary":""}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:j.hubName}),e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-purple-600 text-white",children:"Mesh Hub"}),j.isRevoked?e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-red-600 text-white",children:"Revoked"}):te(j.expiresAt)?e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-theme-secondary text-theme-tertiary",children:"Expired"}):e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-green-600 text-white",children:"Active"})]}),e.jsxs("div",{className:"text-xs text-theme-tertiary mt-1",children:[j.fileName,"  Expires: ",new Date(j.expiresAt).toLocaleString()]})]}),!j.isRevoked&&!te(j.expiresAt)&&e.jsxs("button",{onClick:()=>W(j.id,"mesh"),disabled:R===j.id,className:"inline-flex items-center text-red-600 hover:text-red-800 text-sm disabled:opacity-50",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),R===j.id?"Revoking...":"Revoke"]})]},j.id))})]})]}):e.jsxs("div",{className:"space-y-4",children:[C.length>0&&e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:pe,className:"btn bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 hover:bg-red-200 text-sm",children:"Delete All API Keys"})}),C.length===0?e.jsx("p",{className:"text-theme-muted text-sm italic text-center py-4",children:"No API keys"}):e.jsx("div",{className:"border rounded-lg divide-y",children:C.map(j=>e.jsxs("div",{className:`p-3 flex items-center justify-between ${j.isRevoked?"bg-theme-tertiary":""}`,children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-medium",children:j.name}),e.jsxs("code",{className:"text-xs bg-theme-secondary px-1.5 py-0.5 rounded",children:[j.keyPrefix,"..."]}),j.isRevoked?e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-red-600 text-white",children:"Revoked"}):j.expiresAt&&te(j.expiresAt)?e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-theme-secondary text-theme-tertiary",children:"Expired"}):e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-green-600 text-white",children:"Active"}),j.isAdminProvisioned&&e.jsx("span",{className:"px-1.5 py-0.5 text-xs rounded bg-orange-100 text-orange-700",children:"Admin"})]}),e.jsxs("div",{className:"text-xs text-theme-tertiary mt-1",children:["Created: ",new Date(j.createdAt).toLocaleString(),j.lastUsedAt&&`  Last used: ${new Date(j.lastUsedAt).toLocaleString()}`,j.expiresAt&&`  Expires: ${new Date(j.expiresAt).toLocaleString()}`]}),j.description&&e.jsx("div",{className:"text-xs text-theme-muted mt-1",children:j.description})]}),!j.isRevoked&&e.jsxs("button",{onClick:()=>me(j.id),disabled:R===j.id,className:"inline-flex items-center text-red-600 hover:text-red-800 text-sm disabled:opacity-50",children:[e.jsx("svg",{className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),R===j.id?"Revoking...":"Revoke"]})]},j.id))})]})}),e.jsx("div",{className:"p-4 border-t border-theme flex justify-end",children:e.jsx("button",{onClick:l,className:"btn btn-secondary",children:"Close"})})]})})}function a1({groupName:n,onClose:l}){const[i,o]=u.useState([]),[m,h]=u.useState([]),[x,v]=u.useState(!0),[b,y]=u.useState("members");return u.useEffect(()=>{Promise.all([fb(n),yb(n)]).then(([f,g])=>{o(f),h(g)}).catch(()=>{}).finally(()=>v(!1))},[n]),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-hidden",children:[e.jsx("div",{className:"p-6 border-b border-theme",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-12 w-12 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx("svg",{className:"h-6 w-6 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-theme-primary",children:n}),e.jsxs("p",{className:"text-sm text-theme-tertiary",children:[i.length," members"]})]})]}),e.jsx("button",{onClick:l,className:"text-theme-muted hover:text-theme-tertiary",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsx("div",{className:"border-b border-theme px-6",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>y("members"),className:`py-2 px-1 border-b-2 font-medium text-sm ${b==="members"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary"}`,children:["Members (",i.length,")"]}),e.jsxs("button",{onClick:()=>y("rules"),className:`py-2 px-1 border-b-2 font-medium text-sm ${b==="rules"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary"}`,children:["Access Rules (",m.length,")"]})]})}),e.jsx("div",{className:"p-6 overflow-y-auto max-h-[50vh]",children:x?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):b==="members"?i.length>0?e.jsx("div",{className:"space-y-2",children:i.map(f=>e.jsxs("div",{className:"flex items-center p-3 bg-theme-tertiary rounded-lg",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx("span",{className:"text-primary-700 font-medium text-xs",children:f.name?f.name.charAt(0).toUpperCase():f.email.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-theme-primary",children:f.name||f.email}),f.name&&e.jsx("p",{className:"text-xs text-theme-tertiary",children:f.email})]}),e.jsx("span",{className:"ml-auto px-2 py-0.5 text-xs bg-blue-600 text-white rounded",children:f.provider})]},f.id))}):e.jsx("p",{className:"text-center text-theme-tertiary py-8",children:"No members in this group"}):m.length>0?e.jsx("div",{className:"space-y-2",children:m.map(f=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-theme-primary",children:f.name}),e.jsxs("p",{className:"text-xs text-theme-tertiary",children:[e.jsx("span",{className:"font-mono bg-theme-card px-1 rounded border border-theme",children:f.value}),e.jsxs("span",{className:"ml-2",children:["(",f.ruleType,")"]})]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${f.isActive?"bg-green-600 text-white":"bg-theme-secondary text-theme-primary"}`,children:f.isActive?"Active":"Inactive"})]},f.id))}):e.jsx("p",{className:"text-center text-theme-tertiary py-8",children:"No access rules assigned to this group"})}),e.jsx("div",{className:"p-4 border-t border-theme flex justify-end",children:e.jsx("button",{onClick:l,className:"btn btn-secondary",children:"Close"})})]})})}function n1({onClose:n,onSuccess:l}){const[i,o]=u.useState(""),[m,h]=u.useState(""),[x,v]=u.useState(""),[b,y]=u.useState(""),[f,g]=u.useState(!1),[C,O]=u.useState(!1),[w,k]=u.useState(null);async function A(M){if(M.preventDefault(),x!==b){k("Passwords do not match");return}if(x.length<8){k("Password must be at least 8 characters");return}O(!0),k(null);try{await xb({username:i,email:m,password:x,is_admin:f}),l()}catch{k("Failed to create user. Username may already exist.")}finally{O(!1)}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-md w-full mx-4",children:e.jsxs("form",{onSubmit:A,children:[e.jsx("div",{className:"p-6 border-b border-theme",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-theme-primary",children:"Create Local User"}),e.jsx("button",{type:"button",onClick:n,className:"text-theme-muted hover:text-theme-tertiary",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[w&&e.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:w}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Username"}),e.jsx("input",{type:"text",value:i,onChange:M=>o(M.target.value),className:"input",placeholder:"Enter username",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Email"}),e.jsx("input",{type:"email",value:m,onChange:M=>h(M.target.value),className:"input",placeholder:"Enter email address",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Password"}),e.jsx("input",{type:"password",value:x,onChange:M=>v(M.target.value),className:"input",placeholder:"Enter password",required:!0,minLength:8})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Confirm Password"}),e.jsx("input",{type:"password",value:b,onChange:M=>y(M.target.value),className:"input",placeholder:"Confirm password",required:!0})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isAdmin",checked:f,onChange:M=>g(M.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsxs("label",{htmlFor:"isAdmin",className:"ml-2 block text-sm text-theme-secondary",children:["Administrator",e.jsx("span",{className:"block text-xs text-theme-tertiary",children:"Admins have full access to manage gateways, users, and settings"})]})]})]}),e.jsxs("div",{className:"p-4 border-t border-theme flex justify-end gap-3",children:[e.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:C,className:"btn btn-primary",children:C?"Creating...":"Create User"})]})]})})})}function r1(){const[n,l]=u.useState([]),[i,o]=u.useState(!0),[m,h]=u.useState(null),[x,v]=u.useState(!1),[b,y]=u.useState(!1),[f,g]=u.useState(null),[C,O]=u.useState(!1),[w,k]=u.useState(null),[A,M]=u.useState(null),[U,B]=u.useState(!1),[z,G]=u.useState(null),[R,T]=u.useState(!1),[se,J]=u.useState(null);u.useEffect(()=>{Y()},[]);async function Y(){try{o(!0);const D=await Wl();l(D),h(null)}catch{h("Failed to load gateways")}finally{o(!1)}}async function te(D){if(confirm(`Are you sure you want to delete gateway "${D.name}"?`))try{await V2(D.id),await Y()}catch{h("Failed to delete gateway")}}async function re(D){if(confirm(`Re-provision gateway "${D.name}"?

WARNING: This will regenerate all certificates. Existing client VPN configs will stop working and users must download new configs.`))try{await P2(D.id),await Y(),h(null)}catch{h("Failed to trigger reprovision")}}function I(D,E){k(D),M(null),O(!0)}return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"Gateway Management"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"Register and manage VPN gateways for your organization."})]}),e.jsxs("button",{onClick:()=>v(!0),className:"btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Gateway"]})]})}),m&&e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-theme rounded-lg text-red-700 dark:text-red-400",children:m}),i?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n.length>0?e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Gateway"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"VPN Settings"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Last Heartbeat"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:n.map(D=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:D.name}),e.jsx("div",{className:"text-sm text-theme-tertiary",children:D.hostname}),D.publicIp&&e.jsx("div",{className:"text-xs text-theme-muted",children:D.publicIp})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${D.isActive?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}`,children:D.isActive?"Online":"Offline"})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-tertiary",children:[e.jsxs("div",{children:[D.vpnProtocol.toUpperCase(),":",D.vpnPort]}),e.jsx("div",{className:"text-xs",children:e.jsx("span",{className:`px-1.5 py-0.5 rounded ${D.cryptoProfile==="fips"?"bg-purple-600 text-white":D.cryptoProfile==="compatible"?"bg-yellow-500 text-white":"bg-blue-600 text-white"}`,children:D.cryptoProfile==="fips"?"FIPS":D.cryptoProfile==="compatible"?"Compatible":"Modern"})})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-tertiary",children:D.lastHeartbeat?new Date(D.lastHeartbeat).toLocaleString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"Edit",icon:"edit",onClick:()=>{G(D),B(!0)},color:"gray"},{label:"Access",icon:"access",onClick:()=>{J(D),T(!0)},color:"purple"},{label:"Re-provision",icon:"install",onClick:()=>re(D)},{label:"Install",icon:"install",onClick:()=>I(D),color:"primary"},{label:"Delete",icon:"delete",onClick:()=>te(D),color:"red"}]})})]},D.id))})]})}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-theme-primary",children:"No gateways registered"}),e.jsx("p",{className:"mt-2 text-theme-tertiary",children:"Get started by adding a new VPN gateway."}),e.jsx("button",{onClick:()=>v(!0),className:"mt-4 btn btn-primary",children:"Add Gateway"})]}),x&&e.jsx(l1,{onClose:()=>v(!1),onSuccess:D=>{g(D),v(!1),y(!0),Y()}}),b&&f&&e.jsx(i1,{gateway:f,onClose:()=>{y(!1),g(null)},onShowInstaller:D=>{const E={id:f.id,name:f.name,hostname:f.hostname,publicIp:"",vpnPort:f.vpnPort,vpnProtocol:f.vpnProtocol,cryptoProfile:"modern",vpnSubnet:"172.31.255.0/24",tlsAuthEnabled:!0,fullTunnelMode:!1,pushDns:!1,dnsServers:[],sessionEnabled:!0,isActive:!1,lastHeartbeat:null,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};k(E),M(D),y(!1),g(null),O(!0)}}),C&&w&&e.jsx(c1,{gateway:w,token:A,onClose:()=>{O(!1),k(null),M(null)}}),U&&z&&e.jsx(o1,{gateway:z,onClose:()=>{B(!1),G(null)},onSuccess:()=>{B(!1),G(null),Y()}}),R&&se&&e.jsx(d1,{gateway:se,onClose:()=>{T(!1),J(null)}})]})}function l1({onClose:n,onSuccess:l}){const[i,o]=u.useState(""),[m,h]=u.useState(""),[x,v]=u.useState(""),[b,y]=u.useState("1194"),[f,g]=u.useState("udp"),[C,O]=u.useState("modern"),[w,k]=u.useState("172.31.255.0/24"),[A,M]=u.useState(!0),[U,B]=u.useState(!1),[z,G]=u.useState(!1),[R,T]=u.useState("1.1.1.1, 8.8.8.8"),[se,J]=u.useState(!0),[Y,te]=u.useState(!1),[re,I]=u.useState(null);async function D(E){if(E.preventDefault(),te(!0),I(null),!m&&!x){I("Either hostname or public IP is required"),te(!1);return}try{const S=await G2({name:i,hostname:m||void 0,public_ip:x||void 0,vpn_port:parseInt(b)||1194,vpn_protocol:f,crypto_profile:C,vpn_subnet:w||"172.31.255.0/24",tls_auth_enabled:A,full_tunnel_mode:U,push_dns:z,dns_servers:z?R.split(",").map(W=>W.trim()).filter(W=>W):[],session_enabled:se});l(S)}catch(S){I(S.response?.data?.error||"Failed to register gateway")}finally{te(!1)}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-theme-primary mb-4",children:"Register New Gateway"}),re&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-theme rounded text-red-700 dark:text-red-400 text-sm",children:re}),e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Gateway Name *"}),e.jsx("input",{type:"text",value:i,onChange:E=>o(E.target.value),placeholder:"us-east-1",className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]}),e.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg mb-2",children:e.jsx("p",{className:"text-sm text-gray-800 dark:text-blue-400",children:"Provide either a hostname or IP address (at least one is required)"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Hostname"}),e.jsx("input",{type:"text",value:m,onChange:E=>h(E.target.value),placeholder:"vpn.example.com",className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Public IP"}),e.jsx("input",{type:"text",value:x,onChange:E=>v(E.target.value),placeholder:"203.0.113.10",className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"VPN Port"}),e.jsx("input",{type:"number",value:b,onChange:E=>y(E.target.value),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Protocol"}),e.jsxs("select",{value:f,onChange:E=>g(E.target.value),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"udp",children:"UDP"}),e.jsx("option",{value:"tcp",children:"TCP"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Crypto Profile"}),e.jsxs("select",{value:C,onChange:E=>O(E.target.value),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"modern",children:"Modern (Recommended) - AES-256-GCM, CHACHA20-POLY1305"}),e.jsx("option",{value:"fips",children:"FIPS 140-3 Compliant - AES-256-GCM, AES-128-GCM"}),e.jsx("option",{value:"compatible",children:"Compatible - AES-256-GCM, AES-128-GCM, AES-256-CBC, AES-128-CBC"})]}),e.jsxs("p",{className:"mt-1 text-xs text-theme-tertiary",children:[C==="fips"&&"FIPS mode uses only FIPS 140-3 validated cryptographic algorithms (AES-GCM).",C==="compatible"&&"Compatible mode supports older OpenVPN 2.3.x clients with CBC fallback.",C==="modern"&&"Modern mode uses the latest secure ciphers including CHACHA20-POLY1305."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"VPN Subnet"}),e.jsx("input",{type:"text",value:w,onChange:E=>k(E.target.value),placeholder:"172.31.255.0/24",className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("p",{className:"mt-1 text-xs text-theme-tertiary",children:"The subnet used for VPN client IP addresses. Must be a valid CIDR block."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"tlsAuthEnabled",checked:A,onChange:E=>M(E.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"tlsAuthEnabled",className:"ml-2 block text-sm text-theme-secondary",children:"Enable TLS Authentication"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary -mt-2",children:"TLS-Auth provides additional security. Disable for simpler direct IP connections."}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"fullTunnelMode",checked:U,onChange:E=>B(E.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"fullTunnelMode",className:"ml-2 block text-sm text-theme-secondary",children:"Full Tunnel Mode"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary -mt-2",children:"Route all client traffic through VPN. When disabled (default), only routes for allowed networks are pushed."}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"pushDns",checked:z,onChange:E=>G(E.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"pushDns",className:"ml-2 block text-sm text-theme-secondary",children:"Push DNS Servers"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary -mt-2",children:"Push DNS servers to clients. When disabled (default), client DNS settings are not changed."}),z&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"dnsServers",className:"block text-sm font-medium text-theme-secondary",children:"DNS Servers"}),e.jsx("input",{type:"text",id:"dnsServers",value:R,onChange:E=>T(E.target.value),className:"mt-1 block w-full rounded-md border-theme shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"1.1.1.1, 8.8.8.8"}),e.jsx("p",{className:"mt-1 text-xs text-theme-tertiary",children:"Comma-separated list of DNS server IPs to push to clients."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"sessionEnabled",checked:se,onChange:E=>J(E.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"sessionEnabled",className:"ml-2 block text-sm text-theme-secondary",children:"Enable Remote Sessions"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary -mt-2",children:"Allow administrators to run commands on this gateway via the Remote Sessions page."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",disabled:Y,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:Y,children:Y?"Registering...":"Register Gateway"})]})]})]})})}function i1({gateway:n,onClose:l,onShowInstaller:i}){const[o,m]=u.useState(!1);function h(){navigator.clipboard.writeText(n.token),m(!0),setTimeout(()=>m(!1),2e3)}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-lg w-full mx-4 p-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 dark:bg-green-900/30 mb-4",children:e.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsx("h2",{className:"text-xl font-semibold text-theme-primary",children:"Gateway Registered!"})]}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-400 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-400",children:"Save this token!"}),e.jsx("p",{className:"text-sm text-yellow-700 dark:text-yellow-400 mt-1",children:"This token will only be shown once. You'll need it to configure the gateway agent."})]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Gateway Name"}),e.jsx("div",{className:"text-sm text-theme-primary",children:n.name})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Authentication Token"}),e.jsxs("div",{className:"flex",children:[e.jsx("input",{type:"text",readOnly:!0,value:n.token,className:"flex-1 px-3 py-2 bg-gray-100 dark:bg-gray-800 border border-theme rounded-l-lg text-sm font-mono"}),e.jsx("button",{onClick:h,className:"px-4 py-2 bg-primary-600 text-white rounded-r-lg hover:bg-primary-700",children:o?"Copied!":"Copy"})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end space-x-3",children:[e.jsx("button",{onClick:l,className:"btn btn-secondary",children:"Done"}),e.jsxs("button",{onClick:()=>i(n.token),className:"btn btn-primary inline-flex items-center",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"View Installer"]})]})]})})}function c1({gateway:n,token:l,onClose:i}){const o=window.location.origin,m=l||"YOUR_GATEWAY_TOKEN",h=!!l,x=`curl -sSL ${o}/scripts/install-gateway.sh | sudo bash -s -- \\
  --server ${o} \\
  --token ${m} \\
  --name ${n.name}`,[v,b]=u.useState(!1);function y(){navigator.clipboard.writeText(x),b(!0),setTimeout(()=>b(!1),2e3)}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("h2",{className:"text-xl font-semibold text-theme-primary mb-4",children:["Install Gateway: ",n.name]}),e.jsxs("div",{className:"space-y-4",children:[!h&&e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-400 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-400",children:"Token Required"}),e.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-400 mt-1",children:["Replace ",e.jsx("code",{className:"bg-yellow-100 dark:bg-yellow-900/30 px-1",children:"YOUR_GATEWAY_TOKEN"})," with the token you received when registering this gateway."]})]})]})}),h&&e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-green-400 mr-2 flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-green-800 dark:text-green-400",children:"Token Included"}),e.jsx("p",{className:"text-sm text-green-700 dark:text-green-400 mt-1",children:"The gateway token is already included in the command below. Copy and run it on your gateway server."})]})]})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-theme-secondary mb-2",children:"Quick Install"}),e.jsx("p",{className:"text-sm text-theme-tertiary mb-2",children:"Run this command on your gateway server:"}),e.jsxs("div",{className:"relative",children:[e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg text-sm overflow-x-auto whitespace-pre-wrap break-all",children:x}),e.jsx("button",{onClick:y,className:"absolute top-2 right-2 px-3 py-1.5 bg-gray-700 text-gray-200 text-xs rounded hover:bg-gray-600 flex items-center",children:v?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied!"]}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})}),"Copy"]})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-theme-secondary mb-2",children:"Manual Installation"}),e.jsxs("ol",{className:"text-sm text-theme-secondary space-y-2 list-decimal list-inside",children:[e.jsxs("li",{children:["Download the gateway binary:",e.jsxs("div",{className:"mt-1 ml-5 space-x-2",children:[e.jsx("a",{href:"/downloads/gatekey-gateway-linux-amd64",className:"text-primary-600 hover:underline text-xs",children:"Linux AMD64"}),e.jsx("a",{href:"/downloads/gatekey-gateway-linux-arm64",className:"text-primary-600 hover:underline text-xs",children:"Linux ARM64"})]})]}),e.jsxs("li",{children:["Move to ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 text-xs",children:"/usr/local/bin/gatekey-gateway"})]}),e.jsxs("li",{children:["Create config at ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-800 px-1 text-xs",children:"/etc/gatekey/gateway.yaml"})]}),e.jsx("li",{children:"Configure systemd service and start"})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-blue-400 mb-2",children:"Requirements"}),e.jsxs("ul",{className:"text-sm text-gray-800 dark:text-blue-400 space-y-1",children:[e.jsx("li",{children:"- Ubuntu 20.04+, Debian 11+, RHEL 8+, or Fedora 35+"}),e.jsx("li",{children:"- Root/sudo access"}),e.jsx("li",{children:"- Outbound HTTPS access to the control plane"}),e.jsxs("li",{children:["- Inbound access on VPN port (",n.vpnPort,"/",n.vpnProtocol,")"]})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:i,className:"btn btn-secondary",children:"Close"})})]})})}function o1({gateway:n,onClose:l,onSuccess:i}){const[o,m]=u.useState(n.name),[h,x]=u.useState(n.hostname),[v,b]=u.useState(n.publicIp||""),[y,f]=u.useState(n.vpnPort.toString()),[g,C]=u.useState(n.vpnProtocol),[O,w]=u.useState(n.cryptoProfile||"modern"),[k,A]=u.useState(n.vpnSubnet||"10.8.0.0/24"),[M,U]=u.useState(n.tlsAuthEnabled??!0),[B,z]=u.useState(n.fullTunnelMode??!1),[G,R]=u.useState(n.pushDns??!1),[T,se]=u.useState((n.dnsServers??[]).join(", ")||"1.1.1.1, 8.8.8.8"),[J,Y]=u.useState(n.sessionEnabled??!0),[te,re]=u.useState(!1),[I,D]=u.useState(null);async function E(S){if(S.preventDefault(),re(!0),D(null),!h&&!v){D("Either hostname or public IP is required"),re(!1);return}try{await q2(n.id,{name:o,hostname:h||void 0,public_ip:v||void 0,vpn_port:parseInt(y)||1194,vpn_protocol:g,crypto_profile:O,vpn_subnet:k||"172.31.255.0/24",tls_auth_enabled:M,full_tunnel_mode:B,push_dns:G,dns_servers:G?T.split(",").map(W=>W.trim()).filter(W=>W):[],session_enabled:J}),i()}catch(W){D(W.response?.data?.error||"Failed to update gateway")}finally{re(!1)}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-theme-primary mb-4",children:"Edit Gateway"}),I&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-theme rounded text-red-700 dark:text-red-400 text-sm",children:I}),e.jsxs("form",{onSubmit:E,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Gateway Name *"}),e.jsx("input",{type:"text",value:o,onChange:S=>m(S.target.value),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]}),e.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg mb-2",children:e.jsx("p",{className:"text-sm text-gray-800 dark:text-blue-400",children:"Provide either a hostname or IP address (at least one is required)"})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Hostname"}),e.jsx("input",{type:"text",value:h,onChange:S=>x(S.target.value),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Public IP"}),e.jsx("input",{type:"text",value:v,onChange:S=>b(S.target.value),placeholder:"203.0.113.10",className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"VPN Port"}),e.jsx("input",{type:"number",value:y,onChange:S=>f(S.target.value),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Protocol"}),e.jsxs("select",{value:g,onChange:S=>C(S.target.value),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"udp",children:"UDP"}),e.jsx("option",{value:"tcp",children:"TCP"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Crypto Profile"}),e.jsxs("select",{value:O,onChange:S=>w(S.target.value),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"modern",children:"Modern (Recommended) - AES-256-GCM, CHACHA20-POLY1305"}),e.jsx("option",{value:"fips",children:"FIPS 140-3 Compliant - AES-256-GCM, AES-128-GCM"}),e.jsx("option",{value:"compatible",children:"Compatible - AES-256-GCM, AES-128-GCM, AES-256-CBC, AES-128-CBC"})]}),e.jsxs("p",{className:"mt-1 text-xs text-theme-tertiary",children:[O==="fips"&&"FIPS mode uses only FIPS 140-3 validated cryptographic algorithms (AES-GCM).",O==="compatible"&&"Compatible mode supports older OpenVPN 2.3.x clients with CBC fallback.",O==="modern"&&"Modern mode uses the latest secure ciphers including CHACHA20-POLY1305."]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"VPN Subnet"}),e.jsx("input",{type:"text",value:k,onChange:S=>A(S.target.value),placeholder:"172.31.255.0/24",className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("p",{className:"mt-1 text-xs text-theme-tertiary",children:"The subnet used for VPN client IP addresses. Must be a valid CIDR block."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"editTlsAuthEnabled",checked:M,onChange:S=>U(S.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"editTlsAuthEnabled",className:"ml-2 block text-sm text-theme-secondary",children:"Enable TLS Authentication"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary -mt-2",children:"TLS-Auth provides additional security. Disable for simpler direct IP connections."}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"editFullTunnelMode",checked:B,onChange:S=>z(S.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"editFullTunnelMode",className:"ml-2 block text-sm text-theme-secondary",children:"Full Tunnel Mode"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary -mt-2",children:"Route all client traffic through VPN. When disabled (default), only routes for allowed networks are pushed."}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"editPushDns",checked:G,onChange:S=>R(S.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"editPushDns",className:"ml-2 block text-sm text-theme-secondary",children:"Push DNS Servers"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary -mt-2",children:"Push DNS servers to clients. When disabled (default), client DNS settings are not changed."}),G&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"editDnsServers",className:"block text-sm font-medium text-theme-secondary",children:"DNS Servers"}),e.jsx("input",{type:"text",id:"editDnsServers",value:T,onChange:S=>se(S.target.value),className:"mt-1 block w-full rounded-md border-theme shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",placeholder:"1.1.1.1, 8.8.8.8"}),e.jsx("p",{className:"mt-1 text-xs text-theme-tertiary",children:"Comma-separated list of DNS server IPs to push to clients."})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"editSessionEnabled",checked:J,onChange:S=>Y(S.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"editSessionEnabled",className:"ml-2 block text-sm text-theme-secondary",children:"Enable Remote Sessions"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary -mt-2",children:"Allow administrators to run commands on this gateway via the Remote Sessions page."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:l,className:"btn btn-secondary",disabled:te,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:te,children:te?"Saving...":"Save Changes"})]})]})]})})}function d1({gateway:n,onClose:l}){const[i,o]=u.useState("networks"),[m,h]=u.useState(!0),[x,v]=u.useState(null),[b,y]=u.useState([]),[f,g]=u.useState([]),[C,O]=u.useState(""),[w,k]=u.useState([]),[A,M]=u.useState(""),[U,B]=u.useState([]),[z,G]=u.useState("");u.useEffect(()=>{R()},[]);async function R(){h(!0),v(null);try{const[S,W,F,me]=await Promise.all([tb(n.id),dn(),F2(n.id),K2(n.id)]);y(S),g(W),k(F),B(me)}catch{v("Failed to load data")}finally{h(!1)}}const T=new Set(b.map(S=>S.id)),se=f.filter(S=>!T.has(S.id));async function J(){if(C)try{await Up(n.id,C),O(""),await R()}catch{v("Failed to assign network")}}async function Y(S){try{await Op(n.id,S),await R()}catch{v("Failed to remove network")}}async function te(){if(A.trim())try{await $2(n.id,A.trim()),M(""),await R()}catch{v("Failed to assign user")}}async function re(S){try{await Y2(n.id,S),await R()}catch{v("Failed to remove user")}}async function I(){if(z.trim())try{await I2(n.id,z.trim()),G(""),await R()}catch{v("Failed to assign group")}}async function D(S){try{await X2(n.id,S),await R()}catch{v("Failed to remove group")}}const E=[{id:"networks",label:"Networks",count:b.length},{id:"users",label:"Users",count:w.length},{id:"groups",label:"Groups",count:U.length}];return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("h2",{className:"text-xl font-semibold text-theme-primary mb-4",children:["Manage Access: ",n.name]}),x&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-theme rounded text-red-700 dark:text-red-400 text-sm",children:x}),e.jsx("div",{className:"border-b border-theme mb-4",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:E.map(S=>e.jsxs("button",{onClick:()=>o(S.id),className:`py-2 px-1 border-b-2 font-medium text-sm ${i===S.id?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:[S.label,e.jsx("span",{className:`ml-2 px-2 py-0.5 rounded-full text-xs ${i===S.id?"bg-primary-100 dark:bg-primary-900/30 text-primary-600":"bg-gray-100 dark:bg-gray-700 text-theme-secondary"}`,children:S.count})]},S.id))})}),m?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-4",children:[i==="networks"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:C,onChange:S=>O(S.target.value),className:"flex-1 px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select a network to add..."}),se.map(S=>e.jsxs("option",{value:S.id,children:[S.name," (",S.cidr,")"]},S.id))]}),e.jsx("button",{onClick:J,disabled:!C,className:"btn btn-primary",children:"Add"})]}),e.jsx("div",{className:"space-y-2",children:b.length===0?e.jsx("p",{className:"text-theme-tertiary text-sm py-4 text-center",children:"No networks assigned"}):b.map(S=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:S.name}),e.jsx("div",{className:"text-xs text-theme-tertiary",children:S.cidr})]}),e.jsx("button",{onClick:()=>Y(S.id),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]},S.id))})]}),i==="users"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:A,onChange:S=>M(S.target.value),placeholder:"Enter user ID or email...",className:"flex-1 px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",onKeyPress:S=>S.key==="Enter"&&te()}),e.jsx("button",{onClick:te,disabled:!A.trim(),className:"btn btn-primary",children:"Add"})]}),e.jsx("div",{className:"space-y-2",children:w.length===0?e.jsx("p",{className:"text-theme-tertiary text-sm py-4 text-center",children:"No users assigned"}):w.map(S=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:S.email||S.userId}),S.name&&e.jsx("div",{className:"text-xs text-theme-tertiary",children:S.name})]}),e.jsx("button",{onClick:()=>re(S.userId),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]},S.userId))})]}),i==="groups"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:z,onChange:S=>G(S.target.value),placeholder:"Enter group name...",className:"flex-1 px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500",onKeyPress:S=>S.key==="Enter"&&I()}),e.jsx("button",{onClick:I,disabled:!z.trim(),className:"btn btn-primary",children:"Add"})]}),e.jsx("div",{className:"space-y-2",children:U.length===0?e.jsx("p",{className:"text-theme-tertiary text-sm py-4 text-center",children:"No groups assigned"}):U.map(S=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-theme-tertiary rounded-lg",children:[e.jsx("div",{className:"font-medium text-sm",children:S.groupName}),e.jsx("button",{onClick:()=>D(S.groupName),className:"text-red-600 hover:text-red-800 text-sm",children:"Remove"})]},S.groupName))})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:l,className:"btn btn-secondary",children:"Close"})})]})})}function m1(){const[n,l]=u.useState([]),[i,o]=u.useState(!0),[m,h]=u.useState(null),[x,v]=u.useState(!1),[b,y]=u.useState(null),[f,g]=u.useState(!1),[C,O]=u.useState(!1),[w,k]=u.useState(null);u.useEffect(()=>{A()},[]);async function A(){try{o(!0);const z=await dn();l(z),h(null)}catch{h("Failed to load networks")}finally{o(!1)}}async function M(z){if(confirm(`Are you sure you want to delete network "${z.name}"?`))try{await W2(z.id),await A()}catch{h("Failed to delete network")}}function U(z){k(z),g(!0)}function B(z){k(z),O(!0)}return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"Network Management"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"Define CIDR network blocks and assign gateways to serve them."})]}),e.jsxs("button",{onClick:()=>v(!0),className:"btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Network"]})]})}),m&&e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400",children:m}),i?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n.length>0?e.jsx("div",{className:"card p-0 overflow-hidden",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Network"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"CIDR"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:n.map(z=>e.jsxs("tr",{className:"hover:bg-theme-tertiary transition-colors",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:z.name}),z.description&&e.jsx("div",{className:"text-sm text-theme-tertiary",children:z.description})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("code",{className:"px-2 py-1 bg-theme-tertiary rounded text-sm font-mono text-theme-secondary",children:z.cidr})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${z.isActive?"bg-green-600 text-white":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:z.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-tertiary",children:new Date(z.createdAt).toLocaleDateString()}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"Gateways",icon:"gateway",onClick:()=>U(z),color:"primary"},{label:"Access Rules",icon:"rules",onClick:()=>B(z),color:"green"},{label:"Edit",icon:"edit",onClick:()=>y(z),color:"gray"},{label:"Delete",icon:"delete",onClick:()=>M(z),color:"red"}]})})]},z.id))})]})}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-theme-primary",children:"No networks defined"}),e.jsx("p",{className:"mt-2 text-theme-tertiary",children:"Get started by adding a network CIDR block."}),e.jsx("button",{onClick:()=>v(!0),className:"mt-4 btn btn-primary",children:"Add Network"})]}),x&&e.jsx(zx,{onClose:()=>v(!1),onSuccess:()=>{v(!1),A()}}),b&&e.jsx(zx,{network:b,onClose:()=>y(null),onSuccess:()=>{y(null),A()}}),f&&w&&e.jsx(u1,{network:w,onClose:()=>{g(!1),k(null)}}),C&&w&&e.jsx(h1,{network:w,onClose:()=>{O(!1),k(null)}})]})}function zx({network:n,onClose:l,onSuccess:i}){const[o,m]=u.useState(n?.name||""),[h,x]=u.useState(n?.description||""),[v,b]=u.useState(n?.cidr||""),[y,f]=u.useState(n?.isActive??!0),[g,C]=u.useState(!1),[O,w]=u.useState(null);async function k(A){A.preventDefault(),C(!0),w(null);try{n?await Z2(n.id,{name:o,description:h,cidr:v,is_active:y}):await Q2({name:o,description:h,cidr:v,is_active:y}),i()}catch(M){w(M.response?.data?.error||`Failed to ${n?"update":"create"} network`)}finally{C(!1)}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-md w-full mx-4 p-6 border border-theme",children:[e.jsx("h2",{className:"text-xl font-semibold text-theme-primary mb-4",children:n?"Edit Network":"Add New Network"}),O&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-red-700 dark:text-red-400 text-sm",children:O}),e.jsxs("form",{onSubmit:k,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Network Name *"}),e.jsx("input",{type:"text",value:o,onChange:A=>m(A.target.value),placeholder:"production-network",className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"CIDR Block *"}),e.jsx("input",{type:"text",value:v,onChange:A=>b(A.target.value),placeholder:"10.0.0.0/23",className:"input font-mono",required:!0}),e.jsx("p",{className:"text-xs text-theme-muted mt-1",children:"e.g., 10.0.0.0/24, 192.168.1.0/24"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Description"}),e.jsx("textarea",{value:h,onChange:A=>x(A.target.value),placeholder:"Production VPN network for internal services",rows:2,className:"input"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:y,onChange:A=>f(A.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-theme-secondary",children:"Active"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:l,className:"btn btn-secondary",disabled:g,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:g,children:g?"Saving...":n?"Update Network":"Create Network"})]})]})]})})}function u1({network:n,onClose:l}){const[i,o]=u.useState([]),[m,h]=u.useState([]),[x,v]=u.useState(!0),[b,y]=u.useState(null),[f,g]=u.useState("");u.useEffect(()=>{C()},[n.id]);async function C(){try{v(!0);const[M,U]=await Promise.all([J2(n.id),Wl()]);o(M),h(U),y(null)}catch{y("Failed to load gateways")}finally{v(!1)}}async function O(){if(f)try{await Up(f,n.id),g(""),await C()}catch{y("Failed to assign gateway")}}async function w(M){try{await Op(M,n.id),await C()}catch{y("Failed to remove gateway")}}const k=new Set(i.map(M=>M.id)),A=m.filter(M=>!k.has(M.id));return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-lg w-full mx-4 p-6 border border-theme",children:[e.jsx("h2",{className:"text-xl font-semibold text-theme-primary mb-2",children:"Manage Gateways"}),e.jsxs("p",{className:"text-sm text-theme-tertiary mb-4",children:["Network: ",e.jsx("span",{className:"font-medium",children:n.name})," (",n.cidr,")"]}),b&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-red-700 dark:text-red-400 text-sm",children:b}),x?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[A.length>0&&e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Add Gateway"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:f,onChange:M=>g(M.target.value),className:"input flex-1",children:[e.jsx("option",{value:"",children:"Select a gateway..."}),A.map(M=>e.jsxs("option",{value:M.id,children:[M.name,M.hostname?` (${M.hostname})`:""]},M.id))]}),e.jsx("button",{onClick:O,disabled:!f,className:"btn btn-primary",children:"Add"})]})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-theme-secondary mb-2",children:["Assigned Gateways (",i.length,")"]}),i.length>0?e.jsx("div",{className:"border border-theme rounded-lg divide-y divide-theme",children:i.map(M=>e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:M.name}),e.jsx("div",{className:"text-xs text-theme-tertiary",children:M.hostname})]}),e.jsx("button",{onClick:()=>w(M.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300 text-sm",children:"Remove"})]},M.id))}):e.jsx("p",{className:"text-sm text-theme-tertiary italic",children:"No gateways assigned to this network"})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:l,className:"btn btn-secondary",children:"Close"})})]})})}function h1({network:n,onClose:l}){const[i,o]=u.useState([]),[m,h]=u.useState(!0),[x,v]=u.useState(null);u.useEffect(()=>{b()},[n.id]);async function b(){try{h(!0);const g=await eb(n.id);o(g),v(null)}catch{v("Failed to load access rules")}finally{h(!1)}}const y=i.filter(g=>g.networkId===n.id),f=i.filter(g=>!g.networkId);return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto border border-theme",children:[e.jsx("h2",{className:"text-xl font-semibold text-theme-primary mb-2",children:"Access Rules"}),e.jsxs("p",{className:"text-sm text-theme-tertiary mb-4",children:["Network: ",e.jsx("span",{className:"font-medium",children:n.name})," (",n.cidr,")"]}),x&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-red-700 dark:text-red-400 text-sm",children:x}),e.jsxs("div",{className:"mb-4 p-3 bg-amber-50 dark:bg-amber-900/30 border border-amber-300 dark:border-amber-700 rounded text-amber-800 dark:text-amber-200 text-sm",children:[e.jsx("strong",{children:"Note:"})," Users/groups must be assigned to access rules to gain access. Rules can be created and assigned from the ",e.jsx("a",{href:"/admin/access-rules",className:"underline text-amber-700 dark:text-amber-300 hover:text-amber-900 dark:hover:text-amber-100",children:"Access Rules"})," page."]}),m?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-theme-secondary mb-2 flex items-center",children:[e.jsx("span",{className:"bg-green-600 text-white px-2 py-0.5 rounded text-xs mr-2",children:"Network-Specific"}),"Rules for this network (",y.length,")"]}),y.length>0?e.jsx("div",{className:"border border-theme rounded-lg divide-y divide-theme",children:y.map(g=>e.jsx(Hx,{rule:g},g.id))}):e.jsx("p",{className:"text-sm text-theme-tertiary italic py-2",children:"No rules specifically assigned to this network"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-theme-secondary mb-2 flex items-center",children:[e.jsx("span",{className:"bg-blue-600 text-white px-2 py-0.5 rounded text-xs mr-2",children:"Global"}),"Rules applying to all networks (",f.length,")"]}),f.length>0?e.jsx("div",{className:"border border-theme rounded-lg divide-y divide-theme",children:f.map(g=>e.jsx(Hx,{rule:g},g.id))}):e.jsx("p",{className:"text-sm text-theme-tertiary italic py-2",children:"No global rules defined"})]})]}),e.jsxs("div",{className:"mt-6 flex justify-between",children:[e.jsx("a",{href:"/admin/access-rules",className:"btn btn-primary",children:"Manage Access Rules"}),e.jsx("button",{onClick:l,className:"btn btn-secondary",children:"Close"})]})]})})}function Hx({rule:n}){return e.jsx("div",{className:"p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:n.name}),e.jsxs("div",{className:"text-xs text-theme-tertiary mt-1",children:[e.jsx("code",{className:"bg-theme-tertiary px-1 rounded text-theme-secondary",children:n.value}),e.jsxs("span",{className:"ml-2",children:["(",n.ruleType,")"]}),n.portRange&&e.jsxs("span",{className:"ml-2",children:["Port: ",n.portRange]}),n.protocol&&e.jsxs("span",{className:"ml-1",children:["/ ",n.protocol.toUpperCase()]})]}),(n.users.length>0||n.groups.length>0)&&e.jsxs("div",{className:"text-xs mt-2",children:[n.users.length>0&&e.jsxs("span",{className:"text-purple-600 dark:text-purple-400 mr-3",children:["Users: ",n.users.length]}),n.groups.length>0&&e.jsxs("span",{className:"text-orange-600 dark:text-orange-400",children:["Groups: ",n.groups.join(", ")]})]})]}),e.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-medium ${n.isActive?"bg-green-600 text-white":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300"}`,children:n.isActive?"Active":"Inactive"})]})})}const Kp={ip:"IP Address",cidr:"CIDR Range",hostname:"Hostname",hostname_wildcard:"Hostname Wildcard"},Bx={ip:"192.168.1.100",cidr:"10.0.0.0/24",hostname:"api.example.com",hostname_wildcard:"*.example.com"};function x1(){const[n,l]=u.useState([]),[i,o]=u.useState([]),[m,h]=u.useState(!0),[x,v]=u.useState(null),[b,y]=u.useState(!1),[f,g]=u.useState(null),[C,O]=u.useState(!1),[w,k]=u.useState(null);u.useEffect(()=>{M(),A()},[]);async function A(){try{const z=await dn();o(z)}catch{}}async function M(){try{h(!0);const z=await zp();l(z),v(null)}catch{v("Failed to load access rules")}finally{h(!1)}}async function U(z){if(confirm(`Are you sure you want to delete access rule "${z.name}"?`))try{await nb(z.id),await M()}catch{v("Failed to delete access rule")}}async function B(z){try{const G=await Tx(z.id);k(G),O(!0)}catch{v("Failed to load rule details")}}return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"Access Rules"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"Define IP addresses, CIDR ranges, and hostnames that users/groups can access."})]}),e.jsxs("button",{onClick:()=>y(!0),className:"btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Rule"]})]})}),x&&e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-theme rounded-lg text-red-700 dark:text-red-400",children:x}),m?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n.length>0?e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Rule"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Type"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Network"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Value"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Port/Protocol"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:n.map(z=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:z.name}),z.description&&e.jsx("div",{className:"text-sm text-theme-tertiary",children:z.description})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-medium rounded-full bg-blue-600 text-white",children:Kp[z.ruleType]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:z.networkId?e.jsx("span",{className:"text-sm text-theme-primary",children:i.find(G=>G.id===z.networkId)?.name||"Unknown"}):e.jsx("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-medium rounded-full bg-yellow-500 text-white",children:"Unassigned"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("code",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 rounded text-sm font-mono",children:z.value})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-tertiary",children:[z.portRange||"*"," / ",z.protocol?.toUpperCase()||"*"]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${z.isActive?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}`,children:z.isActive?"Active":"Inactive"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"Assign",icon:"assign",onClick:()=>B(z),color:"purple"},{label:"Edit",icon:"edit",onClick:()=>g(z),color:"gray"},{label:"Delete",icon:"delete",onClick:()=>U(z),color:"red"}]})})]},z.id))})]})}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-theme-primary",children:"No access rules defined"}),e.jsx("p",{className:"mt-2 text-theme-tertiary",children:"Get started by adding an IP, CIDR, or hostname whitelist rule."}),e.jsx("button",{onClick:()=>y(!0),className:"mt-4 btn btn-primary",children:"Add Rule"})]}),b&&e.jsx(Gx,{onClose:()=>y(!1),onSuccess:()=>{y(!1),M()}}),f&&e.jsx(Gx,{rule:f,onClose:()=>g(null),onSuccess:()=>{g(null),M()}}),C&&w&&e.jsx(p1,{rule:w,onClose:()=>{O(!1),k(null)},onUpdate:async()=>{const z=await Tx(w.id);k(z)}})]})}function Gx({rule:n,onClose:l,onSuccess:i}){const[o,m]=u.useState(n?.name||""),[h,x]=u.useState(n?.description||""),[v,b]=u.useState(n?.ruleType||"ip"),[y,f]=u.useState(n?.value||""),[g,C]=u.useState(n?.portRange||""),[O,w]=u.useState(n?.protocol||""),[k,A]=u.useState(n?.networkId||""),[M,U]=u.useState(n?.isActive??!0),[B,z]=u.useState([]),[G,R]=u.useState(!1),[T,se]=u.useState(null);u.useEffect(()=>{dn().then(z).catch(()=>{})},[]);async function J(Y){Y.preventDefault(),R(!0),se(null);try{const te={name:o,description:h||void 0,rule_type:v,value:y,port_range:g||void 0,protocol:O||void 0,network_id:k||void 0,is_active:M};n?await ab(n.id,te):await sb(te),i()}catch(te){se(te.response?.data?.error||`Failed to ${n?"update":"create"} access rule`)}finally{R(!1)}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-lg w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-semibold text-theme-primary mb-4",children:n?"Edit Access Rule":"Add New Access Rule"}),T&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-theme rounded text-red-700 dark:text-red-400 text-sm",children:T}),e.jsxs("form",{onSubmit:J,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Rule Name *"}),e.jsx("input",{type:"text",value:o,onChange:Y=>m(Y.target.value),placeholder:"internal-api-access",className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Rule Type *"}),e.jsxs("select",{value:v,onChange:Y=>{b(Y.target.value),f("")},className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"ip",children:"IP Address"}),e.jsx("option",{value:"cidr",children:"CIDR Range"}),e.jsx("option",{value:"hostname",children:"Hostname"}),e.jsx("option",{value:"hostname_wildcard",children:"Hostname Wildcard"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Value *"}),e.jsx("input",{type:"text",value:y,onChange:Y=>f(Y.target.value),placeholder:Bx[v],className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 font-mono",required:!0}),e.jsxs("p",{className:"text-xs text-theme-tertiary mt-1",children:["Example: ",Bx[v]]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Port Range"}),e.jsx("input",{type:"text",value:g,onChange:Y=>C(Y.target.value),placeholder:"443 or 8000-9000",className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"Leave empty for all ports"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Protocol"}),e.jsxs("select",{value:O,onChange:Y=>w(Y.target.value),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Protocols"}),e.jsx("option",{value:"tcp",children:"TCP"}),e.jsx("option",{value:"udp",children:"UDP"}),e.jsx("option",{value:"icmp",children:"ICMP"})]})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:["Network ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:k,onChange:Y=>A(Y.target.value),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"-- Select Network --"}),B.map(Y=>e.jsxs("option",{value:Y.id,children:[Y.name," (",Y.cidr,")"]},Y.id))]}),e.jsx("p",{className:"mt-1 text-xs text-theme-tertiary",children:"Required for VPN access. Rules without a network won't apply to gateway or mesh connections."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Description"}),e.jsx("textarea",{value:h,onChange:Y=>x(Y.target.value),placeholder:"Allow access to internal API server",rows:2,className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:M,onChange:Y=>U(Y.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-theme-secondary",children:"Active"})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:l,className:"btn btn-secondary",disabled:G,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",disabled:G,children:G?"Saving...":n?"Update Rule":"Create Rule"})]})]})]})})}function p1({rule:n,onClose:l,onUpdate:i}){const[o,m]=u.useState(""),[h,x]=u.useState(""),[v,b]=u.useState(""),[y,f]=u.useState(""),[g,C]=u.useState([]),[O,w]=u.useState([]),[k,A]=u.useState(null),[M,U]=u.useState(!0);u.useEffect(()=>{Promise.all([mn(),pr()]).then(([Y,te])=>{C(Y),w(te)}).catch(()=>{}).finally(()=>U(!1))},[]);const B=g.filter(Y=>!n.users?.includes(Y.id)&&!n.users?.includes(Y.email)),z=O.filter(Y=>!n.groups?.includes(Y.name));async function G(){const Y=o||v.trim();if(Y)try{await rb(n.id,Y),m(""),b(""),i()}catch{A("Failed to assign rule to user")}}async function R(Y){try{await lb(n.id,Y),i()}catch{A("Failed to remove rule from user")}}async function T(){const Y=h||y.trim();if(Y)try{await ib(n.id,Y),x(""),f(""),i()}catch{A("Failed to assign rule to group")}}async function se(Y){try{await cb(n.id,Y),i()}catch{A("Failed to remove rule from group")}}function J(Y){const te=g.find(re=>re.id===Y||re.email===Y);return te?{name:te.name||te.email,email:te.email,provider:te.provider}:{name:Y,email:"",provider:""}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[e.jsx("h2",{className:"text-xl font-semibold text-theme-primary mb-2",children:"Assign Access Rule"}),e.jsxs("p",{className:"text-sm text-theme-tertiary mb-4",children:["Rule: ",e.jsx("span",{className:"font-medium",children:n.name})," (",Kp[n.ruleType],": ",e.jsx("code",{className:"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-gray-100 px-1 rounded",children:n.value}),")"]}),k&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-theme rounded text-red-700 dark:text-red-400 text-sm",children:k}),M?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-theme-secondary mb-2",children:"Assigned Users"}),e.jsxs("div",{className:"mb-3 p-3 bg-theme-tertiary rounded-lg space-y-2",children:[B.length>0&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:o,onChange:Y=>{m(Y.target.value),b("")},className:"flex-1 px-3 py-2 border border-theme rounded-lg text-sm focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select a user..."}),B.map(Y=>e.jsxs("option",{value:Y.id,children:[Y.name||Y.email," (",Y.email,")"]},Y.id))]}),e.jsx("button",{onClick:G,disabled:!o,className:"btn btn-primary text-sm",children:"Add"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:v,onChange:Y=>{b(Y.target.value),m("")},placeholder:"Or enter user ID/email manually...",className:"flex-1 px-3 py-2 border border-theme rounded-lg text-sm focus:ring-2 focus:ring-primary-500"}),e.jsx("button",{onClick:G,disabled:!v.trim(),className:"btn btn-secondary text-sm",children:"Add"})]})]}),n.users&&n.users.length>0?e.jsx("div",{className:"border border-theme rounded-lg divide-y divide-theme",children:n.users.map(Y=>{const te=J(Y);return e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 flex items-center justify-center",children:e.jsx("span",{className:"text-primary-700 font-medium text-xs",children:te.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-theme-primary",children:te.name}),te.email&&te.email!==te.name&&e.jsx("p",{className:"text-xs text-theme-tertiary",children:te.email})]}),te.provider&&e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-600 text-white rounded",children:te.provider})]}),e.jsx("button",{onClick:()=>R(Y),className:"p-1.5 rounded-full bg-red-100 text-red-600 hover:bg-red-200 hover:text-red-800 transition-colors",title:"Remove user",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Y)})}):e.jsx("p",{className:"text-sm text-theme-tertiary italic",children:"No users assigned"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-theme-secondary mb-2",children:"Assigned Groups"}),e.jsxs("div",{className:"mb-3 p-3 bg-theme-tertiary rounded-lg space-y-2",children:[z.length>0&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:h,onChange:Y=>{x(Y.target.value),f("")},className:"flex-1 px-3 py-2 border border-theme rounded-lg text-sm focus:ring-2 focus:ring-primary-500",children:[e.jsx("option",{value:"",children:"Select a group..."}),z.map(Y=>e.jsxs("option",{value:Y.name,children:[Y.name," (",Y.memberCount," members)"]},Y.name))]}),e.jsx("button",{onClick:T,disabled:!h,className:"btn btn-primary text-sm",children:"Add"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:y,onChange:Y=>{f(Y.target.value),x("")},placeholder:"Or enter group name manually...",className:"flex-1 px-3 py-2 border border-theme rounded-lg text-sm focus:ring-2 focus:ring-primary-500"}),e.jsx("button",{onClick:T,disabled:!y.trim(),className:"btn btn-secondary text-sm",children:"Add"})]})]}),n.groups&&n.groups.length>0?e.jsx("div",{className:"border border-theme rounded-lg divide-y divide-theme",children:n.groups.map(Y=>{const te=O.find(re=>re.name===Y);return e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx("svg",{className:"h-4 w-4 text-purple-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-theme-primary",children:Y}),te&&e.jsxs("p",{className:"text-xs text-theme-tertiary",children:[te.memberCount," members"]})]})]}),e.jsx("button",{onClick:()=>se(Y),className:"p-1.5 rounded-full bg-red-100 text-red-600 hover:bg-red-200 hover:text-red-800 transition-colors",title:"Remove group",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},Y)})}):e.jsx("p",{className:"text-sm text-theme-tertiary italic",children:"No groups assigned"})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:l,className:"btn btn-secondary",children:"Close"})})]})})}function f1(){const[n,l]=u.useState([]),[i,o]=u.useState(!0),[m,h]=u.useState(null),[x,v]=u.useState(!1),[b,y]=u.useState(null),[f,g]=u.useState(null);u.useEffect(()=>{C()},[]);async function C(){try{o(!0);const k=await Hp();l(k),h(null)}catch{h("Failed to load proxy applications")}finally{o(!1)}}async function O(k){if(confirm(`Delete "${k.name}"? This will remove all user access.`))try{await Ab(k.id),await C()}catch{h("Failed to delete application")}}function w(k){const A=`${window.location.origin}/proxy/${k}/`;navigator.clipboard.writeText(A)}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"Web Access Applications"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"Manage clientless web applications accessible via reverse proxy"})]}),e.jsxs("button",{onClick:()=>v(!0),className:"btn btn-primary inline-flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Application"]})]}),m&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-theme text-red-700 dark:text-red-400 px-4 py-3 rounded",children:m}),i?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n.length===0?e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})}),e.jsx("h3",{className:"mt-4 text-lg font-medium text-theme-primary",children:"No applications"}),e.jsx("p",{className:"mt-2 text-theme-tertiary",children:"Add a web application to enable clientless browser access"}),e.jsxs("button",{onClick:()=>v(!0),className:"mt-4 btn btn-primary inline-flex items-center",children:[e.jsx("svg",{className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Application"]})]}):e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Name"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Slug / URL"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Internal URL"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:n.map(k=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center",children:[k.iconUrl?e.jsx("img",{src:k.iconUrl,alt:"",className:"h-8 w-8 rounded mr-3"}):e.jsx("div",{className:"h-8 w-8 rounded bg-primary-100 text-primary-600 flex items-center justify-center mr-3",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:k.name}),e.jsx("div",{className:"text-sm text-theme-tertiary",children:k.description||"No description"})]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("code",{className:"text-sm bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-200 px-2 py-1 rounded",children:["/proxy/",k.slug,"/"]}),e.jsx("button",{onClick:()=>w(k.slug),className:"text-theme-muted hover:text-theme-secondary",title:"Copy URL",children:e.jsx("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"text-sm text-theme-primary font-mono",children:k.internalUrl})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs font-semibold rounded-full ${k.isActive?"bg-green-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}`,children:k.isActive?"Active":"Disabled"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"Open",icon:"open",onClick:()=>window.open(`/proxy/${k.slug}/`,"_blank"),color:"green"},{label:"Access",icon:"access",onClick:()=>g(k),color:"purple"},{label:"Edit",icon:"edit",onClick:()=>y(k),color:"gray"},{label:"Delete",icon:"delete",onClick:()=>O(k),color:"red"}]})})]},k.id))})]})}),x&&e.jsx(Vx,{onClose:()=>v(!1),onSuccess:()=>{v(!1),C()}}),b&&e.jsx(Vx,{app:b,onClose:()=>y(null),onSuccess:()=>{y(null),C()}}),f&&e.jsx(y1,{app:f,onClose:()=>g(null)})]})}function Vx({app:n,onClose:l,onSuccess:i}){const[o,m]=u.useState(!1),[h,x]=u.useState(null),[v,b]=u.useState(!1),[y,f]=u.useState(n?.name||""),[g,C]=u.useState(n?.slug||""),[O,w]=u.useState(n?.description||""),[k,A]=u.useState(n?.internalUrl||""),[M,U]=u.useState(n?.iconUrl||""),[B,z]=u.useState(n?.isActive??!0),[G,R]=u.useState(n?.preserveHostHeader??!1),[T,se]=u.useState(n?.stripPrefix??!0),[J,Y]=u.useState(n?.websocketEnabled??!0),[te,re]=u.useState(n?.timeoutSeconds??30);function I(E){return E.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-|-$/g,"")}async function D(E){E.preventDefault(),m(!0),x(null);const S={name:y,slug:g,description:O,internal_url:k,icon_url:M||void 0,is_active:B,preserve_host_header:G,strip_prefix:T,websocket_enabled:J,timeout_seconds:te};try{n?await Cb(n.id,S):await Sb(S),i()}catch(W){x(W.response?.data?.error||"Failed to save application")}finally{m(!1)}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-lg w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:n?"Edit Application":"Add Application"}),h&&e.jsx("div",{className:"mb-4 bg-red-50 dark:bg-red-900/20 border border-theme text-red-700 dark:text-red-400 px-4 py-3 rounded",children:h}),e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Name *"}),e.jsx("input",{type:"text",value:y,onChange:E=>{f(E.target.value),n||C(I(E.target.value))},className:"input mt-1",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Slug *"}),e.jsxs("div",{className:"mt-1 flex rounded-md shadow-sm",children:[e.jsx("span",{className:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-theme bg-theme-tertiary text-theme-tertiary text-sm",children:"/proxy/"}),e.jsx("input",{type:"text",value:g,onChange:E=>C(E.target.value.toLowerCase().replace(/[^a-z0-9-]/g,"")),className:"flex-1 min-w-0 block w-full px-3 py-2 rounded-none rounded-r-md border border-theme focus:outline-none focus:ring-1 focus:ring-primary-500 focus:border-primary-500",required:!0,pattern:"[a-z0-9][a-z0-9-]*[a-z0-9]|[a-z0-9]"})]}),e.jsx("p",{className:"mt-1 text-xs text-theme-tertiary",children:"Lowercase letters, numbers, and dashes only"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Description"}),e.jsx("input",{type:"text",value:O,onChange:E=>w(E.target.value),className:"input mt-1",placeholder:"Brief description of the application"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Internal URL *"}),e.jsx("input",{type:"url",value:k,onChange:E=>A(E.target.value),className:"input mt-1",placeholder:"http://internal-app.local:8080",required:!0}),e.jsx("p",{className:"mt-1 text-xs text-theme-tertiary",children:"The internal URL of the application to proxy to"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Icon URL"}),e.jsx("input",{type:"url",value:M,onChange:E=>U(E.target.value),className:"input mt-1",placeholder:"https://example.com/icon.png"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"isActive",checked:B,onChange:E=>z(E.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"isActive",className:"ml-2 text-sm text-theme-secondary",children:"Application is active"})]}),e.jsxs("button",{type:"button",onClick:()=>b(!v),className:"text-sm text-primary-600 hover:text-primary-800",children:[v?"Hide":"Show"," Advanced Options"]}),v&&e.jsxs("div",{className:"space-y-4 border-t pt-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"preserveHostHeader",checked:G,onChange:E=>R(E.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"preserveHostHeader",className:"ml-2 text-sm text-theme-secondary",children:"Preserve original Host header"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"stripPrefix",checked:T,onChange:E=>se(E.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"stripPrefix",className:"ml-2 text-sm text-theme-secondary",children:"Strip /proxy/slug prefix from requests"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"websocketEnabled",checked:J,onChange:E=>Y(E.target.checked),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-theme rounded"}),e.jsx("label",{htmlFor:"websocketEnabled",className:"ml-2 text-sm text-theme-secondary",children:"Enable WebSocket support"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Timeout (seconds)"}),e.jsx("input",{type:"number",value:te,onChange:E=>re(parseInt(E.target.value)||30),min:1,max:300,className:"input mt-1 w-32"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:l,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:o,className:"btn btn-primary",children:o?"Saving...":n?"Update":"Create"})]})]})]})})})}function y1({app:n,onClose:l}){const[i,o]=u.useState(!0),[m,h]=u.useState(null),[x,v]=u.useState([]),[b,y]=u.useState([]),[f,g]=u.useState([]),[C,O]=u.useState([]),[w,k]=u.useState(""),[A,M]=u.useState(""),[U,B]=u.useState(""),[z,G]=u.useState("");u.useEffect(()=>{R()},[n.id]);async function R(){try{o(!0);const[D,E,S,W]=await Promise.all([mn(),pr(),Eb(n.id),Rb(n.id)]);g(D),O(E),v(S),y(W),h(null)}catch{h("Failed to load data")}finally{o(!1)}}async function T(){const D=w||A.trim();if(D)try{const E=f.find(W=>W.email===D||W.id===D),S=E?E.id:D;await Mb(n.id,S),v([...x,S]),k(""),M("")}catch{h("Failed to assign user")}}async function se(D){try{await Lb(n.id,D),v(x.filter(E=>E!==D))}catch{h("Failed to remove user")}}async function J(){const D=U||z.trim();if(D)try{await Tb(n.id,D),y([...b,D]),B(""),G("")}catch{h("Failed to assign group")}}async function Y(D){try{await Db(n.id,D),y(b.filter(E=>E!==D))}catch{h("Failed to remove group")}}const te=f.filter(D=>!x.includes(D.id)&&!x.includes(D.email)),re=C.filter(D=>!b.includes(D.name));function I(D){const E=f.find(S=>S.id===D||S.email===D);return E?{name:E.name||E.email,email:E.email,provider:E.provider}:{name:D,email:"",provider:""}}return e.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsxs("div",{className:"bg-theme-card rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("h2",{className:"text-xl font-semibold text-theme-primary mb-2",children:["Access Control: ",n.name]}),e.jsx("p",{className:"text-sm text-theme-tertiary mb-4",children:"Users can access this application if they are directly assigned or belong to an assigned group."}),m&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-theme rounded text-red-700 dark:text-red-400 text-sm",children:m}),i?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-theme-secondary mb-2",children:"Assigned Users"}),e.jsxs("div",{className:"mb-3 p-3 bg-theme-tertiary rounded-lg space-y-2",children:[te.length>0&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:w,onChange:D=>{k(D.target.value),M("")},className:"flex-1 px-3 py-2 border border-theme rounded-lg text-sm focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"",children:"Select a user..."}),te.map(D=>e.jsxs("option",{value:D.id,children:[D.name||D.email," (",D.email,")"]},D.id))]}),e.jsx("button",{onClick:T,disabled:!w,className:"btn btn-primary text-sm",children:"Add"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:A,onChange:D=>{M(D.target.value),k("")},placeholder:"Or enter user ID/email manually...",className:"flex-1 px-3 py-2 border border-theme rounded-lg text-sm focus:ring-2 focus:ring-primary-500",onKeyDown:D=>{D.key==="Enter"&&A.trim()&&(D.preventDefault(),T())}}),e.jsx("button",{onClick:T,disabled:!A.trim(),className:"btn btn-secondary text-sm",children:"Add"})]})]}),x.length>0?e.jsx("div",{className:"border border-theme rounded-lg divide-y divide-theme",children:x.map(D=>{const E=I(D);return e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-primary-100 dark:bg-primary-900 flex items-center justify-center",children:e.jsx("span",{className:"text-primary-700 dark:text-primary-300 font-medium text-xs",children:E.name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-theme-primary",children:E.name}),E.email&&E.email!==E.name&&e.jsx("p",{className:"text-xs text-theme-tertiary",children:E.email})]}),E.provider&&e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs bg-blue-600 text-white rounded",children:E.provider})]}),e.jsx("button",{onClick:()=>se(D),className:"p-1.5 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/50 hover:text-red-800 dark:hover:text-red-300 transition-colors",title:"Remove user",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},D)})}):e.jsx("p",{className:"text-sm text-theme-tertiary italic",children:"No users assigned"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm font-medium text-theme-secondary mb-2",children:"Assigned Groups"}),e.jsxs("div",{className:"mb-3 p-3 bg-theme-tertiary rounded-lg space-y-2",children:[re.length>0&&e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:U,onChange:D=>{B(D.target.value),G("")},className:"flex-1 px-3 py-2 border border-theme rounded-lg text-sm focus:ring-2 focus:ring-primary-500 bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"",children:"Select a group..."}),re.map(D=>e.jsxs("option",{value:D.name,children:[D.name," (",D.memberCount," members)"]},D.name))]}),e.jsx("button",{onClick:J,disabled:!U,className:"btn btn-primary text-sm",children:"Add"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:z,onChange:D=>{G(D.target.value),B("")},placeholder:"Or enter group name manually...",className:"flex-1 px-3 py-2 border border-theme rounded-lg text-sm focus:ring-2 focus:ring-primary-500",onKeyDown:D=>{D.key==="Enter"&&z.trim()&&(D.preventDefault(),J())}}),e.jsx("button",{onClick:J,disabled:!z.trim(),className:"btn btn-secondary text-sm",children:"Add"})]})]}),b.length>0?e.jsx("div",{className:"border border-theme rounded-lg divide-y divide-theme",children:b.map(D=>{const E=C.find(S=>S.name===D);return e.jsxs("div",{className:"flex items-center justify-between p-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-100 dark:bg-purple-900 flex items-center justify-center",children:e.jsx("svg",{className:"h-4 w-4 text-purple-600 dark:text-purple-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("p",{className:"text-sm font-medium text-theme-primary",children:D}),E&&e.jsxs("p",{className:"text-xs text-theme-tertiary",children:[E.memberCount," members"]})]})]}),e.jsx("button",{onClick:()=>Y(D),className:"p-1.5 rounded-full bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 hover:bg-red-200 dark:hover:bg-red-900/50 hover:text-red-800 dark:hover:text-red-300 transition-colors",title:"Remove group",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},D)})}):e.jsx("p",{className:"text-sm text-theme-tertiary italic",children:"No groups assigned"})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:l,className:"btn btn-secondary",children:"Close"})})]})})}function g1(n){if(!n||n.length!==2)return"";const l=n.toUpperCase().split("").map(i=>127397+i.charCodeAt(0));return String.fromCodePoint(...l)}function v1(){const[n,l]=u.useState("logs"),[i,o]=u.useState([]),[m,h]=u.useState(null),[x,v]=u.useState(0),[b,y]=u.useState(!0),[f,g]=u.useState(null),[C,O]=u.useState(null),[w,k]=u.useState(""),[A,M]=u.useState(""),[U,B]=u.useState(""),[z,G]=u.useState(""),[R,T]=u.useState(0),se=25,[J,Y]=u.useState(30),[te,re]=u.useState(30);u.useEffect(()=>{I()},[n,R,w,A,U,z]);async function I(){try{if(y(!0),g(null),n==="logs"){const F={limit:se,offset:R*se};w&&(F.userEmail=w),A&&(F.ipAddress=A),U&&(F.provider=U),z==="true"&&(F.success=!0),z==="false"&&(F.success=!1);const me=await zb(F);o(me.logs),v(me.total)}else if(n==="stats"){const F=await Hb(30);h(F)}else if(n==="settings"){const F=await Gb();Y(F.days)}}catch{g("Failed to load data")}finally{y(!1)}}async function D(){try{await Vb(J),O("Retention setting saved successfully"),setTimeout(()=>O(null),3e3)}catch{g("Failed to save retention setting")}}async function E(){if(confirm(`Are you sure you want to delete logs older than ${te} days? This action cannot be undone.`))try{const F=await Bb(te);O(`Successfully deleted ${F.deletedCount} log entries`),setTimeout(()=>O(null),3e3),I()}catch{g("Failed to purge logs")}}function S(F){return new Date(F).toLocaleString()}function W(){k(""),M(""),B(""),G(""),T(0)}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"Login Monitoring"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"Monitor user login activity, view statistics, and manage log retention."})]}),e.jsx("div",{className:"border-b border-theme",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>l("logs"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="logs"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:"Login Logs"}),e.jsx("button",{onClick:()=>l("stats"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="stats"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:"Statistics"}),e.jsx("button",{onClick:()=>l("settings"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="settings"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:"Settings"})]})}),f&&e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400",children:f}),C&&e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-400",children:C}),b?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[n==="logs"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-sm font-medium text-theme-secondary mb-3",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-theme-tertiary mb-1",children:"Email"}),e.jsx("input",{type:"text",value:w,onChange:F=>{k(F.target.value),T(0)},placeholder:"Search by email...",className:"w-full px-3 py-2 border border-theme rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-theme-tertiary mb-1",children:"IP Address"}),e.jsx("input",{type:"text",value:A,onChange:F=>{M(F.target.value),T(0)},placeholder:"Search by IP...",className:"w-full px-3 py-2 border border-theme rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-theme-tertiary mb-1",children:"Provider"}),e.jsxs("select",{value:U,onChange:F=>{B(F.target.value),T(0)},className:"w-full px-3 py-2 border border-theme rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All Providers"}),e.jsx("option",{value:"oidc",children:"OIDC"}),e.jsx("option",{value:"saml",children:"SAML"}),e.jsx("option",{value:"local",children:"Local"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-theme-tertiary mb-1",children:"Status"}),e.jsxs("select",{value:z,onChange:F=>{G(F.target.value),T(0)},className:"w-full px-3 py-2 border border-theme rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"All"}),e.jsx("option",{value:"true",children:"Success"}),e.jsx("option",{value:"false",children:"Failed"})]})]})]}),(w||A||U||z)&&e.jsx("button",{onClick:W,className:"mt-3 text-sm text-primary-600 hover:text-primary-800",children:"Clear filters"})]}),e.jsxs("div",{className:"card overflow-hidden",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Time"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Provider"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"IP Address"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Location"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Status"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:i.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-theme-tertiary",children:"No login logs found"})}):i.map(F=>e.jsxs("tr",{className:"hover:bg-theme-tertiary",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:S(F.createdAt)}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:F.userEmail}),F.userName&&e.jsx("div",{className:"text-xs text-theme-tertiary",children:F.userName})]}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("span",{className:`inline-flex items-center px-2 py-0.5 rounded text-xs font-medium ${F.provider==="oidc"?"bg-blue-600 text-white":F.provider==="saml"?"bg-purple-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300"}`,children:F.provider.toUpperCase()}),F.providerName&&e.jsx("div",{className:"text-xs text-theme-tertiary mt-0.5",children:F.providerName})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-primary font-mono",children:F.ipAddress}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:[F.countryCode&&e.jsx("span",{className:"mr-1",children:g1(F.countryCode)}),F.city&&F.country?`${F.city}, ${F.country}`:F.country||"-"]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:F.success?e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-600 text-white",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Success"]}):e.jsxs("div",{children:[e.jsxs("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-600 text-white",children:[e.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Failed"]}),F.failureReason&&e.jsx("div",{className:"text-xs text-red-600 mt-0.5",children:F.failureReason})]})})]},F.id))})]})}),x>se&&e.jsxs("div",{className:"px-4 py-3 border-t border-theme flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-theme-tertiary",children:["Showing ",R*se+1," to ",Math.min((R+1)*se,x)," of ",x," logs"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>T(F=>Math.max(0,F-1)),disabled:R===0,className:"px-3 py-1 text-sm border rounded hover:bg-theme-tertiary disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),e.jsx("button",{onClick:()=>T(F=>F+1),disabled:(R+1)*se>=x,className:"px-3 py-1 text-sm border rounded hover:bg-theme-tertiary disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]})]}),n==="stats"&&m&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-sm text-theme-tertiary",children:"Total Logins"}),e.jsx("div",{className:"text-2xl font-bold text-theme-primary",children:m.totalLogins})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-sm text-theme-tertiary",children:"Successful"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.successfulLogins})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-sm text-theme-tertiary",children:"Failed"}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:m.failedLogins})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-sm text-theme-tertiary",children:"Unique Users"}),e.jsx("div",{className:"text-2xl font-bold text-theme-primary",children:m.uniqueUsers})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"text-sm text-theme-tertiary",children:"Unique IPs"}),e.jsx("div",{className:"text-2xl font-bold text-theme-primary",children:m.uniqueIps})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-4",children:"Logins by Provider"}),e.jsx("div",{className:"space-y-3",children:Object.entries(m.loginsByProvider).length===0?e.jsx("div",{className:"text-theme-tertiary text-sm",children:"No data available"}):Object.entries(m.loginsByProvider).map(([F,me])=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-20 text-sm font-medium text-theme-secondary uppercase",children:F}),e.jsx("div",{className:"flex-1 mx-3",children:e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${F==="oidc"?"bg-blue-500":F==="saml"?"bg-purple-500":"bg-theme-tertiary0"}`,style:{width:`${me/m.totalLogins*100}%`}})})}),e.jsx("div",{className:"w-16 text-sm text-theme-tertiary text-right",children:me})]},F))})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-4",children:"Logins by Country"}),e.jsx("div",{className:"space-y-3",children:Object.entries(m.loginsByCountry).length===0?e.jsx("div",{className:"text-theme-tertiary text-sm",children:"No data available"}):Object.entries(m.loginsByCountry).slice(0,10).map(([F,me])=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-24 text-sm font-medium text-theme-secondary truncate",children:F}),e.jsx("div",{className:"flex-1 mx-3",children:e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-primary-500 rounded-full",style:{width:`${me/m.totalLogins*100}%`}})})}),e.jsx("div",{className:"w-16 text-sm text-theme-tertiary text-right",children:me})]},F))})]})]}),m.recentFailures.length>0&&e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-4",children:"Recent Failed Logins"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Time"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"IP Address"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Reason"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:m.recentFailures.map(F=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-theme-tertiary",children:S(F.createdAt)}),e.jsx("td",{className:"px-4 py-3 text-sm text-theme-primary",children:F.userEmail}),e.jsx("td",{className:"px-4 py-3 text-sm text-theme-primary font-mono",children:F.ipAddress}),e.jsx("td",{className:"px-4 py-3 text-sm text-red-600",children:F.failureReason||"-"})]},F.id))})]})})]})]}),n==="settings"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-2",children:"Log Retention"}),e.jsx("p",{className:"text-sm text-theme-tertiary mb-4",children:"Configure how long login logs are kept. Logs older than this will be automatically deleted. Set to 0 to keep logs forever."}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-32",children:e.jsx("input",{type:"number",min:"0",value:J,onChange:F=>Y(parseInt(F.target.value)||0),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsx("span",{className:"text-theme-tertiary",children:"days"}),e.jsx("button",{onClick:D,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Save"})]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-2",children:"Manual Purge"}),e.jsx("p",{className:"text-sm text-theme-tertiary mb-4",children:"Manually delete login logs older than a specified number of days. This action cannot be undone."}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("span",{className:"text-theme-tertiary",children:"Delete logs older than"}),e.jsx("div",{className:"w-24",children:e.jsx("input",{type:"number",min:"1",value:te,onChange:F=>re(parseInt(F.target.value)||1),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})}),e.jsx("span",{className:"text-theme-tertiary",children:"days"}),e.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Purge Logs"})]})]})]})]})]})}function b1(){const[n,l]=u.useState("hubs"),[i,o]=u.useState([]),[m,h]=u.useState(null),[x,v]=u.useState([]),[b,y]=u.useState(!0),[f,g]=u.useState(null),[C,O]=u.useState(!1),[w,k]=u.useState(!1),[A,M]=u.useState(!1),[U,B]=u.useState(!1),[z,G]=u.useState(!1),[R,T]=u.useState(null),[se,J]=u.useState(!1),[Y,te]=u.useState(null),[re,I]=u.useState(null),[D,E]=u.useState(null),[S,W]=u.useState(null),[F,me]=u.useState(null),[pe,j]=u.useState(null);u.useEffect(()=>{K()},[]),u.useEffect(()=>{m&&ie(m.id)},[m]);async function K(){try{y(!0);const ce=await Pb();o(ce),ce.length>0&&!m&&h(ce[0]),g(null)}catch{g("Failed to load mesh hubs")}finally{y(!1)}}async function ie(ce){try{const Ve=await aj(ce);v(Ve)}catch{g("Failed to load spokes")}}async function V(ce){if(confirm(`Are you sure you want to delete hub "${ce.name}"? This will also delete all associated spokes.`))try{await $b(ce.id),await K(),m?.id===ce.id&&h(i.length>1&&i.find(Ve=>Ve.id!==ce.id)||null)}catch{g("Failed to delete hub")}}async function le(ce){try{await Yb(ce.id),await K(),g(null)}catch{g("Failed to provision hub")}}async function he(ce){if(confirm(`Are you sure you want to delete spoke "${ce.name}"?`))try{await lj(ce.id),m&&await ie(m.id)}catch{g("Failed to delete spoke")}}async function ye(ce){try{await ij(ce.id),m&&await ie(m.id),g(null)}catch{g("Failed to provision spoke")}}async function Fe(ce){try{const Ve=await Kb(ce.id);I({type:"hub",name:ce.name,script:Ve}),B(!0)}catch{g("Failed to get install script")}}async function Ue(ce){try{const Ve=await cj(ce.id);I({type:"spoke",name:ce.name,script:Ve}),B(!0)}catch{g("Failed to get install script")}}function It(ce){switch(ce){case"online":case"connected":return"bg-green-600 text-white";case"offline":case"disconnected":return"bg-gray-100 dark:bg-gray-700 text-gray-800 dark:text-gray-300";case"error":return"bg-red-600 text-white";default:return"bg-yellow-500 text-white"}}return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"card",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"Mesh Networking"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"Manage mesh hubs and spokes for hub-and-spoke VPN connectivity."})]})})}),e.jsx("div",{className:"border-b border-theme",children:e.jsxs("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[e.jsx("button",{onClick:()=>l("hubs"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n==="hubs"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:"Hubs"}),e.jsx("button",{onClick:()=>l("spokes"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${n==="spokes"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:"Spokes"})]})}),f&&e.jsxs("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400",children:[f,e.jsx("button",{onClick:()=>g(null),className:"ml-4 text-red-500 hover:text-red-700",children:""})]}),n==="hubs"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>O(!0),className:"btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Hub"]})}),b?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i.length>0?e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Hub"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Endpoint"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Connections"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Last Heartbeat"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:i.map(ce=>e.jsxs("tr",{className:m?.id===ce.id?"row-selected":"row-hover",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:ce.name}),e.jsx("div",{className:"text-sm text-theme-tertiary",children:ce.description})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${It(ce.status)}`,children:ce.status.charAt(0).toUpperCase()+ce.status.slice(1)})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-tertiary",children:[e.jsx("div",{children:ce.publicEndpoint}),e.jsxs("div",{className:"text-xs",children:[ce.vpnProtocol.toUpperCase(),":",ce.vpnPort]})]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-tertiary",children:[e.jsxs("div",{children:[ce.connectedSpokes," spokes"]}),e.jsxs("div",{children:[ce.connectedClients," clients"]})]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-tertiary",children:ce.lastHeartbeat?new Date(ce.lastHeartbeat).toLocaleString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"View Spokes",icon:"gateway",onClick:()=>{h(ce),l("spokes")}},{label:"Edit",icon:"edit",onClick:()=>me(ce)},{label:"Manage Access",icon:"access",onClick:()=>{T(ce),G(!0)}},{label:"Re-provision",icon:"install",onClick:()=>le(ce)},{label:"Install Script",icon:"view",onClick:()=>Fe(ce),color:"primary"},{label:"Delete",icon:"delete",onClick:()=>V(ce),color:"red"}]})})]},ce.id))})]})}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-theme-primary",children:"No mesh hubs"}),e.jsx("p",{className:"mt-1 text-sm text-theme-tertiary",children:"Get started by creating a new mesh hub."}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>O(!0),className:"btn btn-primary",children:"Add Hub"})})]})]}),n==="spokes"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:"Select Hub"}),e.jsxs("select",{value:m?.id||"",onChange:ce=>h(i.find(Ve=>Ve.id===ce.target.value)||null),className:"input",children:[e.jsx("option",{value:"",children:"-- Select a hub --"}),i.map(ce=>e.jsx("option",{value:ce.id,children:ce.name},ce.id))]})]}),m&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{onClick:()=>k(!0),className:"btn btn-primary",children:[e.jsx("svg",{className:"w-5 h-5 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Add Spoke"]})}),x.length>0?e.jsx("div",{className:"card p-0",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Spoke"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Networks"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Tunnel IP"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Last Seen"}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:x.map(ce=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:ce.name}),e.jsx("div",{className:"text-sm text-theme-tertiary",children:ce.description}),ce.remoteIp&&e.jsxs("div",{className:"text-xs text-theme-muted",children:["Remote: ",ce.remoteIp]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ${It(ce.status)}`,children:ce.status.charAt(0).toUpperCase()+ce.status.slice(1)})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-tertiary",children:ce.localNetworks.length>0?e.jsx("div",{className:"flex flex-wrap gap-1",children:ce.localNetworks.map((Ve,fr)=>e.jsx("span",{className:"px-2 py-0.5 bg-gray-100 dark:bg-gray-700 text-theme-secondary rounded text-xs",children:Ve},fr))}):e.jsx("span",{className:"text-theme-muted",children:"No networks"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-tertiary",children:ce.tunnelIp||e.jsx("span",{className:"text-theme-muted",children:"Not assigned"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-theme-tertiary",children:ce.lastSeen?new Date(ce.lastSeen).toLocaleString():"Never"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:e.jsx(Ys,{actions:[{label:"Edit",icon:"edit",onClick:()=>j(ce)},{label:"Manage Access",icon:"access",onClick:()=>{te(ce),J(!0)}},{label:"Re-provision",icon:"install",onClick:()=>ye(ce)},{label:"Install Script",icon:"view",onClick:()=>Ue(ce),color:"primary"},{label:"Delete",icon:"delete",onClick:()=>he(ce),color:"red"}]})})]},ce.id))})]})}):e.jsxs("div",{className:"card text-center py-12",children:[e.jsx("svg",{className:"mx-auto h-12 w-12 text-theme-muted",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8.111 16.404a5.5 5.5 0 017.778 0M12 20h.01m-7.08-7.071c3.904-3.905 10.236-3.905 14.141 0M1.394 9.393c5.857-5.857 15.355-5.857 21.213 0"})}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-theme-primary",children:"No spokes"}),e.jsx("p",{className:"mt-1 text-sm text-theme-tertiary",children:"Add spokes to connect remote sites to this hub."}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{onClick:()=>k(!0),className:"btn btn-primary",children:"Add Spoke"})})]})]}),!m&&e.jsx("div",{className:"card text-center py-12 text-theme-tertiary",children:"Select a hub to view its spokes"})]}),C&&e.jsx(j1,{onClose:()=>O(!1),onSuccess:ce=>{E(ce),O(!1),M(!0),K()}}),w&&m&&e.jsx(N1,{hubId:m.id,onClose:()=>k(!1),onSuccess:ce=>{W(ce),k(!1),M(!0),ie(m.id)}}),A&&(D||S)&&e.jsx(w1,{type:D?"hub":"spoke",name:D?.name||S?.name||"",token:D?.apiToken||S?.token||"",controlPlaneUrl:D?.controlPlaneUrl||window.location.origin,onClose:()=>{M(!1),E(null),W(null)}}),U&&re&&e.jsx(k1,{type:re.type,name:re.name,script:re.script,onClose:()=>{B(!1),I(null)}}),z&&R&&e.jsx(S1,{hub:R,onClose:()=>{G(!1),T(null)}}),se&&Y&&e.jsx(C1,{spoke:Y,onClose:()=>{J(!1),te(null)}}),F&&e.jsx(A1,{hub:F,onClose:()=>me(null),onSuccess:()=>{me(null),K()}}),pe&&m&&e.jsx(E1,{spoke:pe,onClose:()=>j(null),onSuccess:()=>{j(null),ie(m.id)}})]})}function j1({onClose:n,onSuccess:l}){const[i,o]=u.useState({name:"",description:"",publicEndpoint:"",vpnPort:1194,vpnProtocol:"udp",vpnSubnet:"172.30.0.0/16",cryptoProfile:"fips",tlsAuthEnabled:!0,fullTunnelMode:!1,pushDns:!1,dnsServers:[],sessionEnabled:!0}),[m,h]=u.useState(""),[x,v]=u.useState(!1),[b,y]=u.useState(null);async function f(g){g.preventDefault(),v(!0),y(null);try{const C=await qb(i);l(C)}catch{y("Failed to create hub")}finally{v(!1)}}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative modal-content max-w-lg w-full p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-theme-primary",children:"Add Mesh Hub"}),b&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded",children:b}),e.jsxs("form",{onSubmit:f,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Name"}),e.jsx("input",{type:"text",value:i.name,onChange:g=>o({...i,name:g.target.value}),className:"input",required:!0,placeholder:"e.g., main-hub"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Description"}),e.jsx("input",{type:"text",value:i.description,onChange:g=>o({...i,description:g.target.value}),className:"input",placeholder:"Optional description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Public Endpoint"}),e.jsx("input",{type:"text",value:i.publicEndpoint,onChange:g=>o({...i,publicEndpoint:g.target.value}),className:"input",required:!0,placeholder:"e.g., hub.example.com or 1.2.3.4"}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"The public hostname or IP where spokes will connect"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"VPN Port"}),e.jsx("input",{type:"number",value:i.vpnPort,onChange:g=>o({...i,vpnPort:parseInt(g.target.value)}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Protocol"}),e.jsxs("select",{value:i.vpnProtocol,onChange:g=>o({...i,vpnProtocol:g.target.value}),className:"input",children:[e.jsx("option",{value:"udp",children:"UDP"}),e.jsx("option",{value:"tcp",children:"TCP"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"VPN Subnet"}),e.jsx("input",{type:"text",value:i.vpnSubnet,onChange:g=>o({...i,vpnSubnet:g.target.value}),className:"input",placeholder:"172.30.0.0/16"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Crypto Profile"}),e.jsxs("select",{value:i.cryptoProfile,onChange:g=>o({...i,cryptoProfile:g.target.value}),className:"input",children:[e.jsx("option",{value:"fips",children:"FIPS (AES-256-GCM, AES-128-GCM)"}),e.jsx("option",{value:"modern",children:"Modern (AES-256-GCM, ChaCha20)"}),e.jsx("option",{value:"compatible",children:"Compatible (includes CBC ciphers)"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"tlsAuth",checked:i.tlsAuthEnabled,onChange:g=>o({...i,tlsAuthEnabled:g.target.checked}),className:"rounded border-theme text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"tlsAuth",className:"ml-2 text-sm text-theme-secondary",children:"Enable TLS-Auth (additional HMAC layer)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"fullTunnel",checked:i.fullTunnelMode,onChange:g=>o({...i,fullTunnelMode:g.target.checked}),className:"rounded border-theme text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"fullTunnel",className:"ml-2 text-sm text-theme-secondary",children:"Full Tunnel Mode (route all client traffic through VPN)"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"pushDns",checked:i.pushDns,onChange:g=>o({...i,pushDns:g.target.checked}),className:"rounded border-theme text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"pushDns",className:"ml-2 text-sm text-theme-secondary",children:"Push DNS servers to clients"})]}),i.pushDns&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"DNS Servers"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:m,onChange:g=>h(g.target.value),className:"input flex-1",placeholder:"e.g., 1.1.1.1",onKeyDown:g=>{g.key==="Enter"&&(g.preventDefault(),m.trim()&&(o({...i,dnsServers:[...i.dnsServers||[],m.trim()]}),h("")))}}),e.jsx("button",{type:"button",onClick:()=>{m.trim()&&(o({...i,dnsServers:[...i.dnsServers||[],m.trim()]}),h(""))},className:"btn btn-secondary",children:"Add"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"Leave empty to use defaults (1.1.1.1, 8.8.8.8)"}),i.dnsServers&&i.dnsServers.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:i.dnsServers.map((g,C)=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-theme-secondary rounded text-sm flex items-center",children:[g,e.jsx("button",{type:"button",onClick:()=>o({...i,dnsServers:i.dnsServers?.filter((O,w)=>w!==C)}),className:"ml-1 text-theme-muted hover:text-red-600",children:""})]},C))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"hubSessionEnabled",checked:i.sessionEnabled??!0,onChange:g=>o({...i,sessionEnabled:g.target.checked}),className:"rounded border-theme text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"hubSessionEnabled",className:"ml-2 text-sm text-theme-secondary",children:"Enable Remote Sessions"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary -mt-2",children:"Allow administrators to run commands on this hub via the Remote Sessions page."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:x,className:"btn btn-primary",children:x?"Creating...":"Create Hub"})]})]})]})})})}function N1({hubId:n,onClose:l,onSuccess:i}){const[o,m]=u.useState({name:"",description:"",localNetworks:[],sessionEnabled:!0}),[h,x]=u.useState(""),[v,b]=u.useState(!1),[y,f]=u.useState(null);function g(){h&&!o.localNetworks.includes(h)&&(m({...o,localNetworks:[...o.localNetworks,h]}),x(""))}function C(w){m({...o,localNetworks:o.localNetworks.filter(k=>k!==w)})}async function O(w){w.preventDefault(),b(!0),f(null);try{const k=await nj(n,o);i(k)}catch{f("Failed to create spoke")}finally{b(!1)}}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative modal-content max-w-lg w-full p-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4 text-theme-primary",children:"Add Mesh Spoke"}),y&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded",children:y}),e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Name"}),e.jsx("input",{type:"text",value:o.name,onChange:w=>m({...o,name:w.target.value}),className:"input",required:!0,placeholder:"e.g., home-lab"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Description"}),e.jsx("input",{type:"text",value:o.description,onChange:w=>m({...o,description:w.target.value}),className:"input",placeholder:"Optional description"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Local Networks"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:h,onChange:w=>x(w.target.value),className:"input flex-1",placeholder:"e.g., 10.0.0.0/8",onKeyDown:w=>w.key==="Enter"&&(w.preventDefault(),g())}),e.jsx("button",{type:"button",onClick:g,className:"btn btn-secondary",children:"Add"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"Networks behind this spoke that should be routable via the hub"}),o.localNetworks.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.localNetworks.map(w=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-theme-secondary rounded text-sm flex items-center",children:[w,e.jsx("button",{type:"button",onClick:()=>C(w),className:"ml-1 text-theme-muted hover:text-red-600",children:""})]},w))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"spokeSessionEnabled",checked:o.sessionEnabled??!0,onChange:w=>m({...o,sessionEnabled:w.target.checked}),className:"rounded border-theme text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"spokeSessionEnabled",className:"ml-2 text-sm text-theme-secondary",children:"Enable Remote Sessions"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary -mt-2",children:"Allow administrators to run commands on this spoke via the Remote Sessions page."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:l,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:v,className:"btn btn-primary",children:v?"Creating...":"Create Spoke"})]})]})]})})})}function w1({type:n,name:l,token:i,controlPlaneUrl:o,onClose:m}){const[h,x]=u.useState(!1);function v(){navigator.clipboard.writeText(i),x(!0),setTimeout(()=>x(!1),2e3)}const b=n==="hub"?`curl -sSL ${o}/scripts/install-hub.sh | sudo bash -s -- \\
  --token "${i}" \\
  --control-plane "${o}"`:`curl -sSL ${o}/scripts/install-mesh-spoke.sh | sudo bash -s -- \\
  --token "${i}" \\
  --control-plane "${o}"`,[y,f]=u.useState(!1);function g(){navigator.clipboard.writeText(b),f(!0),setTimeout(()=>f(!1),2e3)}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative modal-content max-w-2xl w-full p-6",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-green-600 dark:text-green-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),e.jsxs("h2",{className:"ml-3 text-lg font-semibold text-theme-primary",children:[n==="hub"?"Hub":"Spoke"," Created"]})]}),e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800 dark:text-yellow-300",children:"Save this token!"}),e.jsxs("p",{className:"text-sm text-yellow-700 dark:text-yellow-400 mt-1",children:["This token will only be shown once. You'll need it to set up the ",n,"."]})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Name"}),e.jsx("div",{className:"text-theme-primary",children:l})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:n==="hub"?"API Token":"Spoke Token"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("code",{className:"flex-1 p-2 bg-gray-100 dark:bg-gray-700 rounded text-sm font-mono break-all text-theme-primary",children:i}),e.jsx("button",{onClick:v,className:"btn btn-secondary",children:h?"Copied!":"Copy"})]})]}),o&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Control Plane URL"}),e.jsx("code",{className:"block p-2 bg-gray-100 dark:bg-gray-700 rounded text-sm font-mono text-theme-primary",children:o})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:"Quick Setup Command"}),e.jsxs("p",{className:"text-xs text-theme-tertiary mb-2",children:["Run this command on your ",n==="hub"?"hub server":"spoke server"," to install and configure:"]}),e.jsxs("div",{className:"relative",children:[e.jsx("pre",{className:"p-3 bg-gray-900 text-green-400 rounded-lg text-sm overflow-x-auto font-mono",children:b}),e.jsx("button",{onClick:g,className:"absolute top-2 right-2 px-3 py-1 bg-gray-700 hover:bg-gray-600 text-white text-xs rounded",children:y?"Copied!":"Copy"})]})]})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:m,className:"btn btn-primary",children:"Done"})})]})})})}function k1({type:n,name:l,script:i,onClose:o}){const[m,h]=u.useState(!1);function x(){navigator.clipboard.writeText(i),h(!0),setTimeout(()=>h(!1),2e3)}function v(){const b=new Blob([i],{type:"text/plain"}),y=URL.createObjectURL(b),f=document.createElement("a");f.href=y,f.download=`install-${n}-${l.replace(/[^a-zA-Z0-9-_]/g,"-")}.sh`,document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(y)}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative modal-content max-w-3xl w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-theme-primary",children:["Install Script - ",n==="hub"?"Hub":"Spoke",": ",l]}),e.jsx("button",{onClick:o,className:"text-theme-muted hover:text-theme-tertiary",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4 mb-4",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-500 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-800 dark:text-blue-300",children:"Installation Instructions"}),e.jsxs("p",{className:"text-sm text-gray-700 dark:text-blue-400 mt-1",children:["Run this script on your ",n==="hub"?"hub server":"spoke server"," with root privileges:"]}),e.jsxs("code",{className:"block mt-2 text-sm bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded text-theme-secondary",children:["sudo bash install-",n,".sh"]})]})]})}),e.jsx("div",{className:"relative",children:e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg text-sm overflow-x-auto max-h-96 overflow-y-auto",children:e.jsx("code",{children:i})})}),e.jsxs("div",{className:"mt-4 flex justify-end space-x-3",children:[e.jsxs("button",{onClick:v,className:"btn btn-secondary",children:[e.jsx("svg",{className:"w-4 h-4 mr-2 inline",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download"]}),e.jsx("button",{onClick:x,className:"btn btn-primary",children:m?"Copied!":"Copy to Clipboard"})]})]})})})}function S1({hub:n,onClose:l}){const[i,o]=u.useState("users"),[m,h]=u.useState([]),[x,v]=u.useState([]),[b,y]=u.useState([]),[f,g]=u.useState([]),[C,O]=u.useState([]),[w,k]=u.useState([]),[A,M]=u.useState(!0),[U,B]=u.useState(""),[z,G]=u.useState(""),[R,T]=u.useState(""),[se,J]=u.useState(""),[Y,te]=u.useState(""),[re,I]=u.useState(null);u.useEffect(()=>{D()},[n.id]);async function D(){try{M(!0);const[V,le,he,ye,Fe,Ue]=await Promise.all([Ib(n.id),Zb(n.id),ej(n.id),mn(),pr(),dn()]);h(V),v(le),y(he),g(ye),O(Fe.map(It=>It.name)),k(Ue)}catch{I("Failed to load access data")}finally{M(!1)}}async function E(){const V=U||z.trim();if(V){if(m.includes(V)){I("User already assigned");return}try{await Xb(n.id,V),h([...m,V]),B(""),G(""),I(null)}catch{I("Failed to add user")}}}async function S(V){try{await Qb(n.id,V),h(m.filter(le=>le!==V))}catch{I("Failed to remove user")}}async function W(){const V=R||se.trim();if(V){if(x.includes(V)){I("Group already assigned");return}try{await Wb(n.id,V),v([...x,V]),T(""),J(""),I(null)}catch{I("Failed to add group")}}}async function F(V){try{await Jb(n.id,V),v(x.filter(le=>le!==V))}catch{I("Failed to remove group")}}async function me(){if(Y)try{await tj(n.id,Y);const V=w.find(le=>le.id===Y);V&&y([...b,{id:V.id,name:V.name,description:V.description||"",cidr:V.cidr,isActive:V.isActive}]),te("")}catch{I("Failed to add network")}}async function pe(V){try{await sj(n.id,V),y(b.filter(le=>le.id!==V))}catch{I("Failed to remove network")}}const j=f.filter(V=>!m.includes(V.id)),K=C.filter(V=>!x.includes(V)),ie=w.filter(V=>!b.find(le=>le.id===V.id));return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative modal-content max-w-2xl w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h2",{className:"text-lg font-semibold text-theme-primary",children:["Manage Access - ",n.name]}),e.jsx("button",{onClick:l,className:"text-theme-muted hover:text-theme-tertiary",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),re&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-red-700 dark:text-red-400 text-sm",children:re}),e.jsxs("div",{className:"info-box mb-4",children:[e.jsx("strong",{className:"text-theme-primary",children:"Zero-Trust Model:"})," ",e.jsx("span",{className:"info-box-text",children:"Users only get routes to networks they have explicit access rules for. Assign networks to this hub, then ensure users have access rules within those networks."})]}),e.jsx("div",{className:"border-b border-theme mb-4",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>o("users"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${i==="users"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary"}`,children:["Users (",m.length,")"]}),e.jsxs("button",{onClick:()=>o("groups"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${i==="groups"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary"}`,children:["Groups (",x.length,")"]}),e.jsxs("button",{onClick:()=>o("networks"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${i==="networks"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary"}`,children:["Networks (",b.length,")"]})]})}),A?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i==="networks"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("select",{value:Y,onChange:V=>te(V.target.value),className:"input flex-1",children:[e.jsx("option",{value:"",children:"Select a network..."}),ie.map(V=>e.jsxs("option",{value:V.id,children:[V.name," (",V.cidr,")"]},V.id))]}),e.jsx("button",{onClick:me,disabled:!Y,className:"btn btn-primary",children:"Add"})]}),e.jsx("div",{className:"border border-theme rounded-lg divide-y divide-theme",children:b.length===0?e.jsx("div",{className:"p-4 text-center text-theme-tertiary",children:"No networks assigned to this hub. Add networks to enable zero-trust access control."}):b.map(V=>e.jsxs("div",{className:"p-3 flex items-center justify-between bg-theme-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-theme-primary",children:V.name}),e.jsx("div",{className:"text-sm text-theme-tertiary",children:V.cidr}),V.description&&e.jsx("div",{className:"text-xs text-theme-muted",children:V.description})]}),e.jsx("button",{onClick:()=>pe(V.id),className:"text-red-600 hover:text-red-800",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},V.id))})]}):i==="users"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex space-x-2",children:e.jsxs("select",{value:U,onChange:V=>{B(V.target.value),G("")},className:"input flex-1 text-sm",children:[e.jsx("option",{value:"",children:"Select from list..."}),j.map(V=>e.jsxs("option",{value:V.id,children:[V.email," ",V.name&&`(${V.name})`]},V.id))]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-theme-tertiary",children:"or type:"}),e.jsx("input",{type:"text",value:z,onChange:V=>{G(V.target.value),B("")},onKeyDown:V=>V.key==="Enter"&&(V.preventDefault(),E()),placeholder:"username or email",className:"input flex-1 text-sm"}),e.jsx("button",{onClick:E,disabled:!U&&!z.trim(),className:"btn btn-primary",children:"Add"})]})]}),e.jsx("div",{className:"border border-theme rounded-lg divide-y divide-theme",children:m.length===0?e.jsx("div",{className:"p-4 text-center text-theme-tertiary",children:"No users assigned to this hub"}):m.map(V=>{const le=f.find(he=>he.id===V);return e.jsxs("div",{className:"p-3 flex items-center justify-between bg-theme-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-theme-primary",children:le?.email||V}),le?.name&&e.jsx("div",{className:"text-sm text-theme-tertiary",children:le.name})]}),e.jsx("button",{onClick:()=>S(V),className:"text-red-600 hover:text-red-800",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},V)})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex space-x-2",children:e.jsxs("select",{value:R,onChange:V=>{T(V.target.value),J("")},className:"input flex-1 text-sm",children:[e.jsx("option",{value:"",children:"Select from list..."}),K.map(V=>e.jsx("option",{value:V,children:V},V))]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-theme-tertiary",children:"or type:"}),e.jsx("input",{type:"text",value:se,onChange:V=>{J(V.target.value),T("")},onKeyDown:V=>V.key==="Enter"&&(V.preventDefault(),W()),placeholder:"group name",className:"input flex-1 text-sm"}),e.jsx("button",{onClick:W,disabled:!R&&!se.trim(),className:"btn btn-primary",children:"Add"})]})]}),e.jsx("div",{className:"border border-theme rounded-lg divide-y divide-theme",children:x.length===0?e.jsx("div",{className:"p-4 text-center text-theme-tertiary",children:"No groups assigned to this hub"}):x.map(V=>e.jsxs("div",{className:"p-3 flex items-center justify-between bg-theme-card",children:[e.jsx("div",{className:"font-medium text-theme-primary",children:V}),e.jsx("button",{onClick:()=>F(V),className:"text-red-600 hover:text-red-800",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},V))})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:l,className:"btn btn-secondary",children:"Close"})})]})})})}function C1({spoke:n,onClose:l}){const[i,o]=u.useState("users"),[m,h]=u.useState([]),[x,v]=u.useState([]),[b,y]=u.useState([]),[f,g]=u.useState([]),[C,O]=u.useState(!0),[w,k]=u.useState(""),[A,M]=u.useState(""),[U,B]=u.useState(""),[z,G]=u.useState(""),[R,T]=u.useState(null);u.useEffect(()=>{se()},[n.id]);async function se(){try{O(!0);const[E,S,W,F]=await Promise.all([oj(n.id),uj(n.id),mn(),pr()]);h(E),v(S),y(W),g(F.map(me=>me.name))}catch{T("Failed to load access data")}finally{O(!1)}}async function J(){const E=w||A.trim();if(E){if(m.includes(E)){T("User already assigned");return}try{await dj(n.id,E),h([...m,E]),k(""),M(""),T(null)}catch{T("Failed to add user")}}}async function Y(E){try{await mj(n.id,E),h(m.filter(S=>S!==E))}catch{T("Failed to remove user")}}async function te(){const E=U||z.trim();if(E){if(x.includes(E)){T("Group already assigned");return}try{await hj(n.id,E),v([...x,E]),B(""),G(""),T(null)}catch{T("Failed to add group")}}}async function re(E){try{await xj(n.id,E),v(x.filter(S=>S!==E))}catch{T("Failed to remove group")}}const I=b.filter(E=>!m.includes(E.id)),D=f.filter(E=>!x.includes(E));return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative modal-content max-w-2xl w-full p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-semibold text-theme-primary",children:["Manage Spoke Access - ",n.name]}),e.jsx("p",{className:"text-sm text-theme-tertiary mt-1",children:"Control which users/groups can route traffic to networks behind this spoke"})]}),e.jsx("button",{onClick:l,className:"text-theme-muted hover:text-theme-tertiary",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.localNetworks.length>0&&e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[e.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-blue-300 mb-1",children:"Networks accessible via this spoke:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:n.localNetworks.map((E,S)=>e.jsx("span",{className:"px-2 py-1 bg-blue-600 text-white rounded text-sm font-mono",children:E},S))})]}),R&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-red-700 dark:text-red-400 text-sm",children:R}),e.jsx("div",{className:"border-b border-theme mb-4",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>o("users"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${i==="users"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary"}`,children:["Users (",m.length,")"]}),e.jsxs("button",{onClick:()=>o("groups"),className:`whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm ${i==="groups"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary"}`,children:["Groups (",x.length,")"]})]})}),C?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i==="users"?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex space-x-2",children:e.jsxs("select",{value:w,onChange:E=>{k(E.target.value),M("")},className:"input flex-1 text-sm",children:[e.jsx("option",{value:"",children:"Select from list..."}),I.map(E=>e.jsxs("option",{value:E.id,children:[E.email," ",E.name&&`(${E.name})`]},E.id))]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-theme-tertiary",children:"or type:"}),e.jsx("input",{type:"text",value:A,onChange:E=>{M(E.target.value),k("")},onKeyDown:E=>E.key==="Enter"&&(E.preventDefault(),J()),placeholder:"username or email",className:"input flex-1 text-sm"}),e.jsx("button",{onClick:J,disabled:!w&&!A.trim(),className:"btn btn-primary",children:"Add"})]})]}),e.jsx("div",{className:"border border-theme rounded-lg divide-y divide-theme",children:m.length===0?e.jsx("div",{className:"p-4 text-center text-theme-tertiary",children:"No users have access to this spoke's networks"}):m.map(E=>{const S=b.find(W=>W.id===E);return e.jsxs("div",{className:"p-3 flex items-center justify-between bg-theme-card",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-theme-primary",children:S?.email||E}),S?.name&&e.jsx("div",{className:"text-sm text-theme-tertiary",children:S.name})]}),e.jsx("button",{onClick:()=>Y(E),className:"text-red-600 hover:text-red-800",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},E)})})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex space-x-2",children:e.jsxs("select",{value:U,onChange:E=>{B(E.target.value),G("")},className:"input flex-1 text-sm",children:[e.jsx("option",{value:"",children:"Select from list..."}),D.map(E=>e.jsx("option",{value:E,children:E},E))]})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-theme-tertiary",children:"or type:"}),e.jsx("input",{type:"text",value:z,onChange:E=>{G(E.target.value),B("")},onKeyDown:E=>E.key==="Enter"&&(E.preventDefault(),te()),placeholder:"group name",className:"input flex-1 text-sm"}),e.jsx("button",{onClick:te,disabled:!U&&!z.trim(),className:"btn btn-primary",children:"Add"})]})]}),e.jsx("div",{className:"border border-theme rounded-lg divide-y divide-theme",children:x.length===0?e.jsx("div",{className:"p-4 text-center text-theme-tertiary",children:"No groups have access to this spoke's networks"}):x.map(E=>e.jsxs("div",{className:"p-3 flex items-center justify-between bg-theme-card",children:[e.jsx("div",{className:"font-medium text-theme-primary",children:E}),e.jsx("button",{onClick:()=>re(E),className:"text-red-600 hover:text-red-800",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]},E))})]}),e.jsx("div",{className:"mt-6 flex justify-end",children:e.jsx("button",{onClick:l,className:"btn btn-secondary",children:"Close"})})]})})})}function A1({hub:n,onClose:l,onSuccess:i}){const[o,m]=u.useState({name:n.name,description:n.description||"",publicEndpoint:n.publicEndpoint||"",vpnPort:n.vpnPort||1194,vpnProtocol:n.vpnProtocol||"udp",vpnSubnet:n.vpnSubnet||"172.30.0.0/16",cryptoProfile:n.cryptoProfile||"modern",tlsAuthEnabled:n.tlsAuthEnabled??!0,fullTunnelMode:n.fullTunnelMode??!1,pushDns:n.pushDns??!1,dnsServers:n.dnsServers||[],localNetworks:n.localNetworks||[],sessionEnabled:n.sessionEnabled??!0}),[h,x]=u.useState(""),[v,b]=u.useState(""),[y,f]=u.useState(!1),[g,C]=u.useState(null);async function O(w){w.preventDefault(),f(!0),C(null);try{await Fb(n.id,o),i()}catch{C("Failed to update hub")}finally{f(!1)}}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative modal-content max-w-lg w-full p-6 max-h-[90vh] overflow-y-auto",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 text-theme-primary",children:["Edit Hub: ",n.name]}),g&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded",children:g}),e.jsxs("form",{onSubmit:O,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Name"}),e.jsx("input",{type:"text",value:o.name,onChange:w=>m({...o,name:w.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Description"}),e.jsx("input",{type:"text",value:o.description,onChange:w=>m({...o,description:w.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Public Endpoint"}),e.jsx("input",{type:"text",value:o.publicEndpoint,onChange:w=>m({...o,publicEndpoint:w.target.value}),className:"input"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Port"}),e.jsx("input",{type:"number",value:o.vpnPort,onChange:w=>m({...o,vpnPort:parseInt(w.target.value)}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Protocol"}),e.jsxs("select",{value:o.vpnProtocol,onChange:w=>m({...o,vpnProtocol:w.target.value}),className:"input",children:[e.jsx("option",{value:"udp",children:"UDP"}),e.jsx("option",{value:"tcp",children:"TCP"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"VPN Subnet"}),e.jsx("input",{type:"text",value:o.vpnSubnet,onChange:w=>m({...o,vpnSubnet:w.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Crypto Profile"}),e.jsxs("select",{value:o.cryptoProfile,onChange:w=>m({...o,cryptoProfile:w.target.value}),className:"input",children:[e.jsx("option",{value:"modern",children:"Modern"}),e.jsx("option",{value:"fips",children:"FIPS"}),e.jsx("option",{value:"compatible",children:"Compatible"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o.tlsAuthEnabled,onChange:w=>m({...o,tlsAuthEnabled:w.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"TLS-Auth"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o.fullTunnelMode,onChange:w=>m({...o,fullTunnelMode:w.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Full Tunnel"})]}),e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:o.pushDns,onChange:w=>m({...o,pushDns:w.target.checked}),className:"mr-2"}),e.jsx("span",{className:"text-sm",children:"Push DNS"})]})]}),o.pushDns&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"DNS Servers"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:h,onChange:w=>x(w.target.value),className:"input flex-1",placeholder:"1.1.1.1",onKeyDown:w=>{w.key==="Enter"&&(w.preventDefault(),h&&(m({...o,dnsServers:[...o.dnsServers,h]}),x("")))}}),e.jsx("button",{type:"button",onClick:()=>{h&&(m({...o,dnsServers:[...o.dnsServers,h]}),x(""))},className:"btn btn-secondary",children:"Add"})]}),o.dnsServers.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.dnsServers.map(w=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-sm text-theme-primary",children:[w,e.jsx("button",{type:"button",onClick:()=>m({...o,dnsServers:o.dnsServers.filter(k=>k!==w)}),className:"ml-1 text-red-600",children:""})]},w))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Local Networks"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:v,onChange:w=>b(w.target.value),className:"input flex-1",placeholder:"192.168.1.0/24",onKeyDown:w=>{w.key==="Enter"&&(w.preventDefault(),v&&(m({...o,localNetworks:[...o.localNetworks,v]}),b("")))}}),e.jsx("button",{type:"button",onClick:()=>{v&&(m({...o,localNetworks:[...o.localNetworks,v]}),b(""))},className:"btn btn-secondary",children:"Add"})]}),o.localNetworks.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.localNetworks.map(w=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-sm text-theme-primary",children:[w,e.jsx("button",{type:"button",onClick:()=>m({...o,localNetworks:o.localNetworks.filter(k=>k!==w)}),className:"ml-1 text-red-600",children:""})]},w))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"editHubSessionEnabled",checked:o.sessionEnabled??!0,onChange:w=>m({...o,sessionEnabled:w.target.checked}),className:"rounded border-theme text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"editHubSessionEnabled",className:"ml-2 text-sm text-theme-secondary",children:"Enable Remote Sessions"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary -mt-2",children:"Allow administrators to run commands on this hub via the Remote Sessions page."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:l,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:y,className:"btn btn-primary",children:y?"Saving...":"Save"})]})]})]})})})}function E1({spoke:n,onClose:l,onSuccess:i}){const[o,m]=u.useState({name:n.name,description:n.description||"",localNetworks:n.localNetworks||[],sessionEnabled:n.sessionEnabled??!0}),[h,x]=u.useState(""),[v,b]=u.useState(!1),[y,f]=u.useState(null);async function g(C){C.preventDefault(),b(!0),f(null);try{await rj(n.id,o),i()}catch{f("Failed to update spoke")}finally{b(!1)}}return e.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:e.jsx("div",{className:"flex min-h-screen items-center justify-center p-4",children:e.jsxs("div",{className:"relative modal-content max-w-lg w-full p-6",children:[e.jsxs("h2",{className:"text-lg font-semibold mb-4 text-theme-primary",children:["Edit Spoke: ",n.name]}),y&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded",children:y}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Name"}),e.jsx("input",{type:"text",value:o.name,onChange:C=>m({...o,name:C.target.value}),className:"input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Description"}),e.jsx("input",{type:"text",value:o.description,onChange:C=>m({...o,description:C.target.value}),className:"input"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary",children:"Local Networks"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:h,onChange:C=>x(C.target.value),className:"input flex-1",placeholder:"e.g., 10.0.0.0/24",onKeyDown:C=>{C.key==="Enter"&&(C.preventDefault(),h&&!o.localNetworks.includes(h)&&(m({...o,localNetworks:[...o.localNetworks,h]}),x("")))}}),e.jsx("button",{type:"button",onClick:()=>{h&&!o.localNetworks.includes(h)&&(m({...o,localNetworks:[...o.localNetworks,h]}),x(""))},className:"btn btn-secondary",children:"Add"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"Networks behind this spoke routable via hub"}),o.localNetworks.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:o.localNetworks.map(C=>e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-theme-secondary rounded text-sm flex items-center",children:[C,e.jsx("button",{type:"button",onClick:()=>m({...o,localNetworks:o.localNetworks.filter(O=>O!==C)}),className:"ml-1 text-theme-muted hover:text-red-600",children:""})]},C))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",id:"editSpokeSessionEnabled",checked:o.sessionEnabled??!0,onChange:C=>m({...o,sessionEnabled:C.target.checked}),className:"rounded border-theme text-primary-600 focus:ring-primary-500"}),e.jsx("label",{htmlFor:"editSpokeSessionEnabled",className:"ml-2 text-sm text-theme-secondary",children:"Enable Remote Sessions"})]}),e.jsx("p",{className:"text-xs text-theme-tertiary -mt-2",children:"Allow administrators to run commands on this spoke via the Remote Sessions page."}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:l,className:"btn btn-secondary",children:"Cancel"}),e.jsx("button",{type:"submit",disabled:v,className:"btn btn-primary",children:v?"Saving...":"Save"})]})]})]})})})}function M1(){const[n,l]=u.useState("gateway"),[i,o]=u.useState([]),[m,h]=u.useState([]),[x,v]=u.useState(0),[b,y]=u.useState(0),[f,g]=u.useState(!0),[C,O]=u.useState(null),[w,k]=u.useState(null),[A,M]=u.useState(""),[U,B]=u.useState("all");u.useEffect(()=>{z()},[]),u.useEffect(()=>{(i.length>0||m.length>0||x>0||b>0)&&G()},[n]);async function z(){try{g(!0),O(null);const[D,E]=await Promise.all([Dx(),_x()]);o(D.configs),v(D.total),h(E.configs),y(E.total)}catch{O("Failed to load configs")}finally{g(!1)}}async function G(){try{if(g(!0),O(null),n==="gateway"){const D=await Dx();o(D.configs),v(D.total)}else{const D=await _x();h(D.configs),y(D.total)}}catch{O("Failed to load configs")}finally{g(!1)}}async function R(D,E){const S=prompt("Enter reason for revocation (optional):");if(S!==null)try{E?await Vp(D,S||"Revoked by admin"):await Gp(D,S||"Revoked by admin"),k("Config revoked successfully"),setTimeout(()=>k(null),3e3),z()}catch{O("Failed to revoke config")}}function T(D){return new Date(D).toLocaleString()}function se(D){return new Date(D)<new Date}function J(D){return D.isRevoked?"revoked":se(D.expiresAt)?"expired":"active"}function Y(D){return D.filter(E=>!(A&&!(E.userEmail?.toLowerCase().includes(A.toLowerCase())||E.userName?.toLowerCase().includes(A.toLowerCase()))||U!=="all"&&J(E)!==U))}const te=Y(i),re=Y(m);function I(){M(""),B("all")}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"VPN Configurations"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"View and manage all VPN configurations across all users."})]}),e.jsx("div",{className:"border-b border-theme",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsxs("button",{onClick:()=>l("gateway"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="gateway"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:["Gateway Configs",e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300",children:x})]}),e.jsxs("button",{onClick:()=>l("mesh"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="mesh"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:["Mesh Configs",e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-primary-100 dark:bg-primary-900/30 text-primary-700 dark:text-primary-300",children:b})]})]})}),C&&e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400",children:C}),w&&e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-400",children:w}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-sm font-medium text-theme-secondary mb-3",children:"Filters"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-theme-tertiary mb-1",children:"User"}),e.jsx("input",{type:"text",value:A,onChange:D=>M(D.target.value),placeholder:"Search by email or name...",className:"w-full px-3 py-2 border border-theme rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-theme-tertiary mb-1",children:"Status"}),e.jsxs("select",{value:U,onChange:D=>B(D.target.value),className:"w-full px-3 py-2 border border-theme rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"all",children:"All"}),e.jsx("option",{value:"active",children:"Active"}),e.jsx("option",{value:"revoked",children:"Revoked"}),e.jsx("option",{value:"expired",children:"Expired"})]})]})]}),(A||U!=="all")&&e.jsx("button",{onClick:I,className:"mt-3 text-sm text-primary-600 hover:text-primary-800",children:"Clear filters"})]}),f?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[n==="gateway"&&e.jsx("div",{className:"card overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Gateway"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"File"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Expires"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:te.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-theme-tertiary",children:"No gateway configs found"})}):te.map(D=>{const E=J(D);return e.jsxs("tr",{className:"hover:bg-theme-tertiary",children:[e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:D.userEmail}),D.userName&&e.jsx("div",{className:"text-xs text-theme-tertiary",children:D.userName})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-600 text-white",children:D.gatewayName})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-primary font-mono",children:D.fileName}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:T(D.createdAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:T(D.expiresAt)}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[E==="active"&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-600 text-white",children:"Active"}),E==="revoked"&&e.jsxs("div",{children:[e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-600 text-white",children:"Revoked"}),D.revokedReason&&e.jsx("div",{className:"text-xs text-theme-tertiary mt-0.5",children:D.revokedReason})]}),E==="expired"&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 border border-amber-300 dark:border-amber-700",children:"Expired"})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:E==="active"?e.jsxs("button",{onClick:()=>R(D.id,!1),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium rounded-md border border-red-300 dark:border-red-700 text-red-700 dark:text-red-400 bg-transparent hover:bg-red-50 dark:hover:bg-red-900/20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[e.jsx("svg",{className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),"Revoke"]}):e.jsx("span",{className:"text-theme-muted",children:""})})]},D.id)})})]})})}),n==="mesh"&&e.jsx("div",{className:"card overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Mesh Hub"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"File"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Created"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Expires"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:re.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-4 py-8 text-center text-theme-tertiary",children:"No mesh configs found"})}):re.map(D=>{const E=J(D);return e.jsxs("tr",{className:"hover:bg-theme-tertiary",children:[e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:D.userEmail}),D.userName&&e.jsx("div",{className:"text-xs text-theme-tertiary",children:D.userName})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-purple-600 text-white",children:D.hubName})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-primary font-mono",children:D.fileName}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:T(D.createdAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:T(D.expiresAt)}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[E==="active"&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-green-600 text-white",children:"Active"}),E==="revoked"&&e.jsxs("div",{children:[e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-red-600 text-white",children:"Revoked"}),D.revokedReason&&e.jsx("div",{className:"text-xs text-theme-tertiary mt-0.5",children:D.revokedReason})]}),E==="expired"&&e.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-amber-100 dark:bg-amber-900/30 text-amber-800 dark:text-amber-300 border border-amber-300 dark:border-amber-700",children:"Expired"})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:E==="active"?e.jsxs("button",{onClick:()=>R(D.id,!0),className:"inline-flex items-center px-3 py-1.5 text-sm font-medium rounded-md border border-red-300 dark:border-red-700 text-red-700 dark:text-red-400 bg-transparent hover:bg-red-50 dark:hover:bg-red-900/20 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[e.jsx("svg",{className:"h-4 w-4 mr-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"})}),"Revoke"]}):e.jsx("span",{className:"text-theme-muted",children:""})})]},D.id)})})]})})})]})]})}function L1({title:n,titleId:l,...i},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?u.createElement("title",{id:l},n):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const Lo=u.forwardRef(L1);function R1({title:n,titleId:l,...i},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?u.createElement("title",{id:l},n):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m6.75 7.5 3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0 0 21 18V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v12a2.25 2.25 0 0 0 2.25 2.25Z"}))}const Vo=u.forwardRef(R1);function T1({title:n,titleId:l,...i},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?u.createElement("title",{id:l},n):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const Ro=u.forwardRef(T1);function D1({title:n,titleId:l,...i},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?u.createElement("title",{id:l},n):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const Px=u.forwardRef(D1);function _1({title:n,titleId:l,...i},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?u.createElement("title",{id:l},n):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 17.25v-.228a4.5 4.5 0 0 0-.12-1.03l-2.268-9.64a3.375 3.375 0 0 0-3.285-2.602H7.923a3.375 3.375 0 0 0-3.285 2.602l-2.268 9.64a4.5 4.5 0 0 0-.12 1.03v.228m19.5 0a3 3 0 0 1-3 3H5.25a3 3 0 0 1-3-3m19.5 0a3 3 0 0 0-3-3H5.25a3 3 0 0 0-3 3m16.5 0h.008v.008h-.008v-.008Zm-3 0h.008v.008h-.008v-.008Z"}))}const Ol=u.forwardRef(_1);function U1({title:n,titleId:l,...i},o){return u.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:o,"aria-labelledby":l},i),n?u.createElement("title",{id:l},n):null,u.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const sn=u.forwardRef(U1);function O1(){const[n,l]=u.useState("topology"),[i,o]=u.useState(!0),[m,h]=u.useState(null),[x,v]=u.useState(null),[b,y]=u.useState(null),[f,g]=u.useState(null),[C,O]=u.useState(""),[w,k]=u.useState([]),[A,M]=u.useState(0);u.useEffect(()=>{U()},[n]);async function U(){try{if(o(!0),h(null),n==="topology"){const R=await qp();y(R)}else if(n==="sessions"){const R=await Mj();k(R.sessions),M(R.total)}}catch(R){h("Failed to load data"),console.error(R)}finally{o(!1)}}function B(R){return new Date(R).toLocaleString()}function z(R){if(R===0)return"0 B";const T=1024,se=["B","KB","MB","GB"],J=Math.floor(Math.log(R)/Math.log(T));return parseFloat((R/Math.pow(T,J)).toFixed(1))+" "+se[J]}function G(R){return b?b.meshSpokes.filter(T=>T.hubId===R):[]}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"Network Topology"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"View your network topology and active VPN sessions."})]}),e.jsx("div",{className:"border-b border-theme",children:e.jsxs("nav",{className:"-mb-px flex space-x-8",children:[e.jsx("button",{onClick:()=>l("topology"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="topology"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:"Topology Map"}),e.jsx("button",{onClick:()=>l("sessions"),className:`py-2 px-1 border-b-2 font-medium text-sm ${n==="sessions"?"border-primary-500 text-primary-600":"border-transparent text-theme-tertiary hover:text-theme-secondary hover:border-theme"}`,children:"Active Sessions"})]})}),m&&e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800 dark:text-red-300",children:m}),x&&e.jsx("div",{className:"mt-2 text-sm text-red-700 dark:text-red-400 whitespace-pre-line",children:x})]}),e.jsx("div",{className:"ml-auto pl-3",children:e.jsx("button",{onClick:()=>{h(null),v(null)},className:"inline-flex rounded-md bg-red-50 p-1.5 text-red-500 hover:bg-red-100",children:e.jsx(sn,{className:"h-5 w-5"})})})]})}),i?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs(e.Fragment,{children:[n==="topology"&&b&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:"Select Hub or Gateway to View"}),e.jsx("div",{className:"flex gap-4",children:e.jsxs("select",{value:C,onChange:R=>{O(R.target.value),g(null)},className:"flex-1 px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 bg-theme-card text-theme-primary",children:[e.jsx("option",{value:"",children:"-- Select a Hub or Gateway --"}),b.meshHubs.length>0&&e.jsx("optgroup",{label:"Mesh Hubs",children:b.meshHubs.map(R=>e.jsxs("option",{value:`hub-${R.id}`,children:[R.name," (",R.status,") - ",R.connectedSpokes," spokes, ",R.connectedUsers," users"]},`hub-${R.id}`))}),b.gateways.length>0&&e.jsx("optgroup",{label:"Gateways",children:b.gateways.map(R=>e.jsxs("option",{value:`gateway-${R.id}`,children:[R.name," (",R.isActive?"active":"inactive",") - ",R.clientCount," clients"]},`gateway-${R.id}`))})]})})]}),!C&&e.jsxs("div",{className:"card text-center py-12 text-theme-tertiary",children:[e.jsx(Ol,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"Select a hub or gateway above to view its topology"})]}),C.startsWith("hub-")&&e.jsxs("div",{className:"flex gap-6",children:[e.jsx("div",{className:"flex-1 card overflow-x-auto",children:e.jsx("div",{className:"min-w-[800px]",children:b.meshHubs.filter(R=>`hub-${R.id}`===C).map(R=>{const T=G(R.id),se=R.status==="online";return e.jsxs("div",{className:"mb-8 last:mb-0",children:[e.jsxs("h3",{className:"text-lg font-semibold text-theme-primary mb-4 flex items-center gap-2",children:[e.jsx(Ol,{className:"w-5 h-5 text-blue-600"}),"Mesh: ",R.name]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-48",children:e.jsxs("button",{onClick:()=>g({type:"user",data:{hubId:R.id,hubName:R.name,count:R.connectedUsers}}),className:"w-full p-4 rounded-lg border-2 border-green-500 bg-white dark:bg-green-900/20 hover:border-green-600 transition-colors cursor-pointer text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ro,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-green-300",children:"Users"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-green-400",children:R.connectedUsers}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-green-500",children:"connected clients"})]})}),e.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center justify-center pt-8",children:[e.jsx(Lo,{className:"w-8 h-8 text-theme-muted"}),e.jsx("div",{className:"text-xs text-theme-muted mt-1",children:"VPN"})]}),e.jsx("div",{className:"flex-shrink-0 w-64",children:e.jsxs("button",{onClick:()=>g({type:"hub",data:R}),className:`w-full p-4 rounded-lg border-2 transition-colors cursor-pointer text-left ${se?"border-blue-500 bg-white dark:bg-blue-900/20 hover:border-blue-600":"border-theme bg-theme-tertiary hover:border-gray-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${se?"bg-blue-500":"bg-gray-400"}`}),e.jsx("span",{className:`font-medium ${se?"text-gray-800 dark:text-blue-300":"text-theme-secondary"}`,children:R.name})]}),e.jsx("div",{className:"text-xs text-theme-tertiary mb-2",children:"Mesh Hub"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-theme-tertiary",children:"Public:"}),e.jsxs("span",{className:"font-mono text-theme-secondary",children:[R.publicIp,":",R.vpnPort]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-theme-tertiary",children:"Tunnel:"}),e.jsx("span",{className:"font-mono text-blue-700 dark:text-blue-400",children:R.serverTunnelIp})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-theme-tertiary",children:"Subnet:"}),e.jsx("span",{className:"font-mono text-theme-tertiary",children:R.vpnSubnet})]})]}),e.jsx("div",{className:"mt-3 pt-2 border-t border-theme",children:e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-theme-tertiary",children:"Spokes:"}),e.jsx("span",{className:"font-medium",children:R.connectedSpokes})]})})]})}),e.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center justify-center pt-8",children:[e.jsx(Lo,{className:"w-8 h-8 text-theme-muted"}),e.jsx("div",{className:"text-xs text-theme-muted mt-1",children:"Mesh"})]}),e.jsx("div",{className:"flex-1 space-y-3",children:T.length===0?e.jsx("div",{className:"p-4 rounded-lg border-2 border-dashed border-theme bg-theme-tertiary text-center text-theme-tertiary",children:"No spokes connected"}):T.map(J=>{const Y=J.status==="connected";return e.jsxs("button",{onClick:()=>g({type:"spoke",data:J}),className:`w-full p-4 rounded-lg border-2 transition-colors cursor-pointer text-left ${Y?"border-purple-500 bg-white dark:bg-purple-900/20 hover:border-purple-600":"border-theme bg-theme-tertiary hover:border-gray-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${Y?"bg-purple-500":"bg-gray-400"}`}),e.jsx("span",{className:`font-medium ${Y?"text-gray-800 dark:text-purple-300":"text-theme-secondary"}`,children:J.name}),e.jsx("span",{className:`ml-auto text-xs ${Y?"text-gray-600 dark:text-purple-400":"text-theme-tertiary"}`,children:J.status})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-xs",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-tertiary",children:"Tunnel: "}),e.jsx("span",{className:"font-mono text-gray-700 dark:text-purple-400",children:J.tunnelIp||"N/A"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-theme-tertiary",children:"Remote: "}),e.jsx("span",{className:"font-mono text-theme-secondary",children:J.remoteIp||"N/A"})]})]}),J.localNetworks.length>0&&e.jsxs("div",{className:"mt-2 pt-2 border-t border-theme",children:[e.jsx("div",{className:"text-xs text-theme-tertiary mb-1",children:"Routes:"}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[J.localNetworks.slice(0,3).map((te,re)=>e.jsx("span",{className:"px-1.5 py-0.5 bg-purple-600 text-white text-xs font-mono rounded",children:te},re)),J.localNetworks.length>3&&e.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-100 text-theme-tertiary text-xs rounded",children:["+",J.localNetworks.length-3," more"]})]})]})]},J.id)})})]})]},R.id)})})}),f&&e.jsxs("div",{className:"w-96 card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary",children:"Node Details"}),e.jsx("button",{onClick:()=>g(null),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(sn,{className:"w-5 h-5 text-theme-tertiary"})})]}),f.type==="user"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ro,{className:"w-6 h-6 text-green-600"}),e.jsx("span",{className:"text-lg font-medium text-green-800 dark:text-green-300",children:"Connected Users"})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Hub"}),e.jsx("div",{className:"text-sm font-medium",children:f.data.hubName})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Active Connections"}),e.jsx("div",{className:"text-2xl font-bold text-green-700 dark:text-green-400",children:f.data.count})]})]}),e.jsx("div",{className:"pt-3 border-t",children:e.jsx("a",{href:"#",onClick:R=>{R.preventDefault(),l("sessions")},className:"text-sm text-primary-600 hover:text-primary-800",children:"View Active Sessions "})})]}),f.type==="hub"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-3 rounded-lg ${f.data.status==="online"?"selected-highlight":"bg-theme-tertiary"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ol,{className:`w-6 h-6 ${f.data.status==="online"?"text-blue-600":"text-theme-tertiary"}`}),e.jsx("span",{className:`text-lg font-medium ${f.data.status==="online"?"text-blue-800 dark:text-blue-300":"text-theme-secondary"}`,children:f.data.name})]}),e.jsx("div",{className:"text-xs text-theme-tertiary mt-1",children:"Mesh Hub"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-theme-tertiary rounded-lg",children:[e.jsx("div",{className:"text-xs text-theme-tertiary mb-2",children:"Network Endpoints"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-theme-tertiary",children:"Public:"}),e.jsx("span",{className:"font-mono",children:f.data.publicEndpoint})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-theme-tertiary",children:"Server Tunnel IP:"}),e.jsx("span",{className:"font-mono text-blue-700 dark:text-blue-400",children:f.data.serverTunnelIp})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-theme-tertiary",children:"VPN Subnet:"}),e.jsx("span",{className:"font-mono",children:f.data.vpnSubnet})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Status"}),e.jsx("div",{className:`text-sm ${f.data.status==="online"?"text-blue-600":"text-theme-tertiary"}`,children:f.data.status})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Connected Spokes"}),e.jsx("div",{className:"text-sm font-medium",children:f.data.connectedSpokes})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Connected Users"}),e.jsx("div",{className:"text-sm font-medium",children:f.data.connectedUsers})]}),f.data.localNetworks?.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Hub Local Networks"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:f.data.localNetworks.map((R,T)=>e.jsx("span",{className:"px-2 py-0.5 bg-blue-600 text-white text-xs font-mono rounded",children:R},T))})]}),f.data.lastHeartbeat&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Last Heartbeat"}),e.jsx("div",{className:"text-sm",children:B(f.data.lastHeartbeat)})]})]}),e.jsx("div",{className:"pt-3 border-t",children:e.jsx("a",{href:"/admin/mesh",className:"block text-sm text-primary-600 hover:text-primary-800",children:"Manage Mesh "})})]}),f.type==="spoke"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-3 rounded-lg ${f.data.status==="connected"?"selected-highlight":"bg-theme-tertiary"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ol,{className:`w-6 h-6 ${f.data.status==="connected"?"text-purple-600":"text-theme-tertiary"}`}),e.jsx("span",{className:`text-lg font-medium ${f.data.status==="connected"?"text-purple-800 dark:text-purple-300":"text-theme-secondary"}`,children:f.data.name})]}),e.jsx("div",{className:"text-xs text-theme-tertiary mt-1",children:"Mesh Spoke"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 bg-theme-tertiary rounded-lg",children:[e.jsx("div",{className:"text-xs text-theme-tertiary mb-2",children:"Network Endpoints"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-theme-tertiary",children:"Tunnel IP:"}),e.jsx("span",{className:"font-mono text-purple-700 dark:text-purple-400",children:f.data.tunnelIp||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-theme-tertiary",children:"Remote Public IP:"}),e.jsx("span",{className:"font-mono",children:f.data.remoteIp||"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Status"}),e.jsx("div",{className:`text-sm ${f.data.status==="connected"?"text-purple-600":"text-theme-tertiary"}`,children:f.data.status})]}),f.data.localNetworks.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Advertised Routes"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:f.data.localNetworks.map((R,T)=>e.jsx("span",{className:"px-2 py-0.5 bg-purple-600 text-white text-xs font-mono rounded",children:R},T))})]}),f.data.lastSeen&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Last Seen"}),e.jsx("div",{className:"text-sm",children:B(f.data.lastSeen)})]})]}),e.jsx("div",{className:"pt-3 border-t",children:e.jsx("a",{href:"/admin/mesh",className:"block text-sm text-primary-600 hover:text-primary-800",children:"Manage Mesh "})})]})]})]}),C.startsWith("gateway-")&&e.jsxs("div",{className:"flex gap-6",children:[e.jsx("div",{className:"flex-1 card overflow-x-auto",children:e.jsx("div",{className:"min-w-[600px]",children:b.gateways.filter(R=>`gateway-${R.id}`===C).map(R=>e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold text-theme-primary mb-4 flex items-center gap-2",children:[e.jsx(Px,{className:"w-5 h-5 text-green-600"}),"Gateway: ",R.name]}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"flex-shrink-0 w-48",children:e.jsxs("div",{className:"w-full p-4 rounded-lg border-2 border-green-500 bg-white dark:bg-green-900/20 text-left",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ro,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{className:"font-medium text-gray-800 dark:text-green-300",children:"Clients"})]}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-green-400",children:R.clientCount}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-green-500",children:"connected clients"})]})}),e.jsxs("div",{className:"flex-shrink-0 flex flex-col items-center justify-center pt-8",children:[e.jsx(Lo,{className:"w-8 h-8 text-theme-muted"}),e.jsx("div",{className:"text-xs text-theme-muted mt-1",children:"VPN"})]}),e.jsx("div",{className:"flex-shrink-0 w-64",children:e.jsxs("button",{onClick:()=>g({type:"gateway",data:R}),className:`w-full p-4 rounded-lg border-2 transition-colors cursor-pointer text-left ${R.isActive?"border-green-500 bg-white dark:bg-green-900/20 hover:border-green-600":"border-theme bg-theme-tertiary hover:border-gray-400"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${R.isActive?"bg-green-500":"bg-gray-400"}`}),e.jsx("span",{className:`font-medium ${R.isActive?"text-gray-800 dark:text-green-300":"text-theme-secondary"}`,children:R.name})]}),e.jsx("div",{className:"text-xs text-theme-tertiary mb-2",children:"Gateway"}),e.jsxs("div",{className:"space-y-1 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-theme-tertiary",children:"Public:"}),e.jsxs("span",{className:"font-mono text-theme-secondary",children:[R.publicIp,":",R.vpnPort]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-theme-tertiary",children:"Protocol:"}),e.jsx("span",{className:"text-theme-secondary",children:R.vpnProtocol?.toUpperCase()})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-theme-tertiary",children:"Status:"}),e.jsx("span",{className:R.isActive?"text-green-600":"text-theme-tertiary",children:R.isActive?"Active":"Inactive"})]})]})]})})]})]},R.id))})}),f&&f.type==="gateway"&&e.jsxs("div",{className:"w-96 card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary",children:"Gateway Details"}),e.jsx("button",{onClick:()=>g(null),className:"p-1 hover:bg-gray-100 rounded",children:e.jsx(sn,{className:"w-5 h-5 text-theme-tertiary"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:`p-3 rounded-lg ${f.data.isActive?"selected-highlight":"bg-theme-tertiary"}`,children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Px,{className:`w-6 h-6 ${f.data.isActive?"text-green-600":"text-theme-tertiary"}`}),e.jsx("span",{className:`text-lg font-medium ${f.data.isActive?"text-green-800 dark:text-green-300":"text-theme-secondary"}`,children:f.data.name})]}),e.jsx("div",{className:"text-xs text-theme-tertiary mt-1",children:"Gateway"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Hostname"}),e.jsx("div",{className:"text-sm font-mono",children:f.data.hostname||"N/A"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Public IP"}),e.jsx("div",{className:"text-sm font-mono",children:f.data.publicIp})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"VPN Port"}),e.jsxs("div",{className:"text-sm",children:[f.data.vpnPort," (",f.data.vpnProtocol?.toUpperCase(),")"]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Status"}),e.jsx("div",{className:`text-sm ${f.data.isActive?"text-green-600":"text-theme-tertiary"}`,children:f.data.isActive?"Active":"Inactive"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Connected Clients"}),e.jsx("div",{className:"text-sm font-medium",children:f.data.clientCount})]}),f.data.lastHeartbeat&&e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-theme-tertiary",children:"Last Heartbeat"}),e.jsx("div",{className:"text-sm",children:B(f.data.lastHeartbeat)})]})]}),e.jsxs("div",{className:"pt-3 border-t space-y-2",children:[e.jsx("a",{href:`/admin/access-rules?gateway=${f.data.id}`,className:"block text-sm text-primary-600 hover:text-primary-800",children:"View Access Rules "}),e.jsx("a",{href:"/admin/gateways",className:"block text-sm text-primary-600 hover:text-primary-800",children:"Manage Gateways "})]})]})]})]})]}),n==="sessions"&&e.jsxs("div",{className:"card overflow-hidden",children:[e.jsxs("div",{className:"px-4 py-3 border-b border-theme flex items-center justify-between",children:[e.jsxs("h3",{className:"font-medium text-theme-primary",children:["Active VPN Sessions (",A,")"]}),e.jsx("button",{onClick:U,className:"text-sm text-primary-600 hover:text-primary-800",children:"Refresh"})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"User"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Hub"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Client IP"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"VPN Address"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Connected"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Traffic"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:!w||w.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-theme-tertiary",children:"No active sessions"})}):(w||[]).map(R=>e.jsxs("tr",{className:"hover:bg-theme-tertiary",children:[e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap",children:[e.jsx("div",{className:"text-sm font-medium text-theme-primary",children:R.userEmail}),R.userName&&e.jsx("div",{className:"text-xs text-theme-tertiary",children:R.userName})]}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-primary",children:R.gatewayName}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-theme-tertiary",children:R.clientIp}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-theme-tertiary",children:R.vpnAddress}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:B(R.connectedAt)}),e.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:[e.jsx("span",{className:"text-green-600",children:z(R.bytesSent)})," / ",e.jsx("span",{className:"text-blue-600",children:z(R.bytesRecv)})]})]},R.id))})]})})]})]})]})}function z1(){const[n,l]=u.useState(!0),[i,o]=u.useState(null),[m,h]=u.useState(null),[x,v]=u.useState(null),[b,y]=u.useState([]),[f,g]=u.useState("ping"),[C,O]=u.useState(""),[w,k]=u.useState(""),[A,M]=u.useState(""),[U,B]=u.useState("control-plane"),[z,G]=u.useState(!1),[R,T]=u.useState(null),[se,J]=u.useState("");u.useEffect(()=>{Y()},[]);async function Y(){try{l(!0),o(null);const[E,S]=await Promise.all([Lj(),qp()]);y(E.tools),v(S)}catch(E){o("Failed to load data"),console.error(E)}finally{l(!1)}}async function te(){if(!C.trim()){o("Target is required"),h(null);return}try{G(!0),T(null),o(null),h(null);const E=await Rj({tool:f,target:C.trim(),port:w?parseInt(w):void 0,ports:A||void 0,location:U});T(E)}catch(E){console.error(E);const S=E;S.response?.data?.error?(o(S.response.data.error),h(S.response.data.details||null)):(o("Failed to execute tool"),h(null))}finally{G(!1)}}function re(E){return new Date(E).toLocaleString()}function I(E){return x?x.meshSpokes.filter(S=>S.hubId===E):[]}function D(){const E=[{id:"control-plane",name:"Control Plane",type:"control-plane"}];if(!se||!x)return E;if(se.startsWith("hub-")){const S=se.replace("hub-",""),W=x.meshHubs.find(F=>F.id===S);if(W){E.push({id:`hub:${W.id}`,name:`Hub: ${W.name}`,type:"hub"});const F=I(S);for(const me of F)me.status==="connected"&&E.push({id:`spoke:${me.id}`,name:`Spoke: ${me.name}`,type:"spoke"})}}else if(se.startsWith("gateway-")){const S=se.replace("gateway-",""),W=x.gateways.find(F=>F.id===S);W&&E.push({id:`gateway:${W.id}`,name:`Gateway: ${W.name}`,type:"gateway"})}return E}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"Network Tools"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"Run network diagnostic tools from the control plane or remote agents."})]}),i&&e.jsx("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.28 7.22a.75.75 0 00-1.06 1.06L8.94 10l-1.72 1.72a.75.75 0 101.06 1.06L10 11.06l1.72 1.72a.75.75 0 101.06-1.06L11.06 10l1.72-1.72a.75.75 0 00-1.06-1.06L10 8.94 8.28 7.22z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:i}),m&&e.jsx("div",{className:"mt-2 text-sm text-red-700 whitespace-pre-line",children:m})]}),e.jsx("div",{className:"ml-auto pl-3",children:e.jsx("button",{onClick:()=>{o(null),h(null)},className:"inline-flex rounded-md bg-red-50 p-1.5 text-red-500 hover:bg-red-100",children:e.jsx(sn,{className:"h-5 w-5"})})})]})}),n?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-2",children:"Select Hub or Gateway Context"}),e.jsxs("select",{value:se,onChange:E=>{J(E.target.value),B("control-plane")},className:"w-full max-w-md px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:"-- Select a Hub or Gateway --"}),x?.meshHubs&&x.meshHubs.length>0&&e.jsx("optgroup",{label:"Mesh Hubs",children:x.meshHubs.map(E=>e.jsxs("option",{value:`hub-${E.id}`,children:[E.name," (",E.status,") - ",E.connectedSpokes," spokes"]},`hub-${E.id}`))}),x?.gateways&&x.gateways.length>0&&e.jsx("optgroup",{label:"Gateways",children:x.gateways.map(E=>e.jsxs("option",{value:`gateway-${E.id}`,children:[E.name," (",E.isActive?"active":"inactive",")"]},`gateway-${E.id}`))})]}),e.jsx("p",{className:"text-xs text-theme-tertiary mt-1",children:"Select a hub or gateway to enable execution from that node and its connected spokes."})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-4",children:"Network Diagnostic Tools"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Tool"}),e.jsx("select",{value:f,onChange:E=>g(E.target.value),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:b.map(E=>e.jsxs("option",{value:E.name,children:[E.name," - ",E.description]},E.name))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Target"}),e.jsx("input",{type:"text",value:C,onChange:E=>O(E.target.value),placeholder:"e.g., 8.8.8.8 or google.com",className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),f==="nc"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Port"}),e.jsx("input",{type:"number",value:w,onChange:E=>k(E.target.value),placeholder:"e.g., 443",className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),f==="nmap"&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Ports"}),e.jsx("input",{type:"text",value:A,onChange:E=>M(E.target.value),placeholder:"e.g., 22,80,443",className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-theme-secondary mb-1",children:"Execute From"}),e.jsx("select",{value:U,onChange:E=>B(E.target.value),className:"w-full px-3 py-2 border border-theme rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:D().map(E=>e.jsxs("option",{value:E.id,children:[E.name," ",E.id!=="control-plane"?"(requires agent)":""]},E.id))}),U!=="control-plane"&&e.jsx("p",{className:"text-xs text-amber-600 mt-1",children:"Remote execution requires deployed agent binaries"})]})]}),e.jsx("button",{onClick:te,disabled:z||!C.trim(),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:z?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Running..."]}):"Run Tool"})]}),R&&e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-medium text-theme-primary",children:[R.tool," to ",R.target]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm",children:[e.jsx("span",{className:`px-2 py-1 rounded ${R.status==="success"?"bg-green-600 text-white":R.status==="timeout"?"bg-yellow-500 text-white":"bg-red-600 text-white"}`,children:R.status}),e.jsxs("span",{className:"text-theme-tertiary",children:["Duration: ",R.duration]})]})]}),R.error&&e.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:R.error}),e.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto text-sm font-mono whitespace-pre-wrap",children:R.output||"No output"}),e.jsxs("div",{className:"mt-3 text-xs text-theme-tertiary",children:["Executed from: ",R.location," at ",re(R.startedAt)]})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-4",children:"Available Tools"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:b.map(E=>e.jsxs("div",{className:"p-3 bg-theme-tertiary rounded-lg",children:[e.jsx("div",{className:"font-medium text-theme-primary",children:E.name}),e.jsx("div",{className:"text-sm text-theme-tertiary mt-1",children:E.description}),E.required&&E.required.length>0&&e.jsxs("div",{className:"text-xs text-theme-tertiary mt-2",children:["Required: ",E.required.join(", ")]})]},E.name))})]})]})]})}function H1({agent:n,onClose:l,showHeader:i=!1}){const[o,m]=u.useState(!1),[h,x]=u.useState(!0),[v,b]=u.useState([]),[y,f]=u.useState(""),[g,C]=u.useState([]),[O,w]=u.useState(-1),k=u.useRef(null),A=u.useRef(null),M=u.useRef(null),U=u.useCallback((G,R)=>{b(T=>[...T,{type:G,content:R,timestamp:new Date}])},[]);u.useEffect(()=>{const G=new WebSocket(Dj());k.current=G;let R=!1;return G.onopen=()=>{x(!1),U("system",`Connected to control plane, selecting agent ${n.nodeName}...`)},G.onmessage=T=>{try{const se=JSON.parse(T.data);switch(se.type){case"agent_list":R||G.send(JSON.stringify({type:"connect_agent",payload:{agentId:n.id},timestamp:new Date().toISOString()}));break;case"agent_connected":R=!0,m(!0),U("system",`Connected to ${n.nodeType}: ${n.nodeName}`);break;case"output":if(se.payload){const J=typeof se.payload=="string"?JSON.parse(se.payload):se.payload;if(J.output){const Y=J.output.replace(/\n$/,"");U(J.is_stderr?"error":"output",Y)}J.done&&J.exit_code!==void 0&&U("system",`Command completed with exit code ${J.exit_code}`)}break;case"error":if(se.payload){const J=typeof se.payload=="string"?JSON.parse(se.payload):se.payload;U("error",J.message||"Unknown error")}break}}catch(se){console.error("Failed to parse message:",se)}},G.onclose=()=>{m(!1),U("system","Connection closed")},G.onerror=()=>{x(!1),U("error","WebSocket connection error")},()=>{G.readyState===WebSocket.OPEN&&G.send(JSON.stringify({type:"disconnect",timestamp:new Date().toISOString()})),G.close()}},[n,U]),u.useEffect(()=>{A.current&&(A.current.scrollTop=A.current.scrollHeight)},[v]),u.useEffect(()=>{M.current?.focus()},[]);const B=G=>{G.preventDefault(),!(!y.trim()||!k.current||k.current.readyState!==WebSocket.OPEN)&&(U("input",`$ ${y}`),k.current.send(JSON.stringify({type:"command",payload:{command:y.trim()},timestamp:new Date().toISOString()})),C(R=>[...R,y]),w(-1),f(""))},z=G=>{if(G.key==="ArrowUp"){if(G.preventDefault(),g.length>0){const R=O<g.length-1?O+1:O;w(R),f(g[g.length-1-R])}}else if(G.key==="ArrowDown")if(G.preventDefault(),O>0){const R=O-1;w(R),f(g[g.length-1-R])}else O===0&&(w(-1),f(""))};return e.jsxs("div",{className:"flex flex-col h-full bg-gray-900 rounded-lg overflow-hidden",children:[i&&e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-800 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vo,{className:"w-5 h-5 text-green-400"}),e.jsxs("span",{className:"text-gray-200 font-medium",children:[n.nodeType,": ",n.nodeName]}),e.jsx("span",{className:`w-2 h-2 rounded-full ${o?"bg-green-500":"bg-red-500"}`})]}),e.jsx("button",{onClick:l,className:"p-1 hover:bg-gray-700 rounded transition-colors",children:e.jsx(sn,{className:"w-5 h-5 text-gray-400"})})]}),e.jsxs("div",{ref:A,className:"flex-1 p-4 overflow-y-auto font-mono text-sm",onClick:()=>M.current?.focus(),children:[h&&e.jsx("div",{className:"text-yellow-400",children:"Connecting..."}),v.map((G,R)=>e.jsx("div",{className:`whitespace-pre-wrap break-all ${G.type==="input"?"text-cyan-400":G.type==="error"?"text-red-400":G.type==="system"?"text-yellow-400":"text-gray-100"}`,children:G.content},R))]}),e.jsxs("form",{onSubmit:B,className:"flex items-center px-4 py-2 bg-gray-800 border-t border-gray-700",children:[e.jsx("span",{className:"text-green-400 mr-2",children:"$"}),e.jsx("input",{ref:M,type:"text",value:y,onChange:G=>f(G.target.value),onKeyDown:z,disabled:!o,placeholder:o?"Enter command...":"Disconnected",className:"flex-1 bg-transparent text-gray-100 outline-none placeholder-gray-500 font-mono",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false"})]})]})}const To=3600*1e3;function B1(){const[n,l]=u.useState(!0),[i,o]=u.useState(null),[m,h]=u.useState([]),[x,v]=u.useState([]),[b,y]=u.useState(null);u.useEffect(()=>{f()},[]),u.useEffect(()=>{const k=setInterval(()=>{const A=Date.now();v(M=>{const U=M.filter(B=>A-B.openedAt.getTime()>=To);if(U.length>0){const B=M.filter(z=>A-z.openedAt.getTime()<To);return b&&U.some(z=>z.agent.id===b)&&y(B.length>0?B[0].agent.id:null),B}return M})},6e4);return()=>clearInterval(k)},[b]);async function f(){try{l(!0),o(null);const k=await Tj();h(k)}catch(k){o("Failed to load remote agents"),console.error(k)}finally{l(!1)}}const g=u.useCallback(k=>{if(x.find(M=>M.agent.id===k.id)){y(k.id);return}v(M=>[...M,{agent:k,openedAt:new Date}]),y(k.id)},[x]),C=u.useCallback(k=>{if(v(A=>A.filter(M=>M.agent.id!==k)),b===k){const A=x.filter(M=>M.agent.id!==k);y(A.length>0?A[0].agent.id:null)}},[b,x]);function O(k){return new Date(k).toLocaleString()}function w(k){const A=Date.now()-k.getTime(),M=To-A;if(M<=0)return"Expiring...";const U=Math.floor(M/6e4);return U<60?`${U}m left`:`${Math.floor(U/60)}h ${U%60}m left`}return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary",children:"Remote Sessions"}),e.jsx("p",{className:"text-theme-tertiary mt-1",children:"Connect to and run commands on remote hubs, gateways, and spokes."})]}),i&&e.jsx("div",{className:"p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400",children:i}),n?e.jsx("div",{className:"card flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e.jsxs("div",{className:"space-y-6",children:[x.length>0&&e.jsxs("div",{className:"card p-0 overflow-hidden",children:[e.jsx("div",{className:"flex items-center bg-gray-800 border-b border-gray-700 overflow-x-auto",children:x.map(k=>e.jsxs("div",{className:`flex items-center gap-2 px-4 py-2 cursor-pointer border-r border-gray-700 min-w-0 ${b===k.agent.id?"bg-gray-900 text-white":"bg-gray-800 text-theme-muted hover:bg-gray-700 hover:text-gray-200"}`,onClick:()=>y(k.agent.id),children:[e.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${k.agent.nodeType==="hub"?"bg-blue-400":k.agent.nodeType==="gateway"?"bg-green-400":"bg-purple-400"}`}),e.jsxs("span",{className:"truncate text-sm font-medium",children:[k.agent.nodeType,": ",k.agent.nodeName]}),e.jsxs("span",{className:"text-xs text-theme-tertiary whitespace-nowrap",children:["(",w(k.openedAt),")"]}),e.jsx("button",{onClick:A=>{A.stopPropagation(),C(k.agent.id)},className:"p-0.5 hover:bg-gray-600 rounded ml-1 flex-shrink-0",title:"Disconnect",children:e.jsx(sn,{className:"w-4 h-4"})})]},k.agent.id))}),e.jsx("div",{className:"h-[450px]",children:x.map(k=>e.jsx("div",{className:b===k.agent.id?"h-full":"hidden",children:e.jsx(H1,{agent:k.agent,onClose:()=>C(k.agent.id)})},k.agent.id))})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary",children:"Connected Agents"}),e.jsx("button",{onClick:f,className:"text-sm text-primary-600 hover:text-primary-800",children:"Refresh"})]}),e.jsx("p",{className:"text-sm text-theme-tertiary mb-4",children:"Remote sessions allow you to run shell commands on connected hubs, gateways, and spokes. Agents connect outbound to the control plane, so no inbound firewall rules are needed."}),m.length===0?e.jsxs("div",{className:"text-center py-8 text-theme-tertiary",children:[e.jsx(Vo,{className:"w-12 h-12 mx-auto mb-4 text-theme-muted"}),e.jsx("p",{className:"font-medium",children:"No agents connected"}),e.jsxs("p",{className:"text-sm mt-1",children:["Enable remote sessions on your hubs, gateways, or spokes by setting ",e.jsx("code",{className:"bg-gray-300 dark:bg-gray-600 px-1 rounded text-gray-900 dark:text-gray-100",children:"session_enabled: true"})," in their config."]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Name"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Connected"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-theme-card divide-y divide-theme",children:m.map(k=>e.jsxs("tr",{className:"hover:bg-theme-tertiary",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${k.nodeType==="hub"?"bg-blue-600 text-white":k.nodeType==="gateway"?"bg-green-600 text-white":"bg-purple-600 text-white"}`,children:k.nodeType})}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-theme-primary",children:k.nodeName}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-theme-tertiary",children:O(k.connectedAt)}),e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("button",{onClick:()=>g(k),className:`inline-flex items-center gap-1 px-3 py-1 text-sm rounded transition-colors ${x.some(A=>A.agent.id===k.id)?"text-green-600 hover:text-green-800 hover:bg-green-50":"text-primary-600 hover:text-primary-800 hover:bg-primary-50"}`,children:[e.jsx(Vo,{className:"w-4 h-4"}),x.some(A=>A.agent.id===k.id)?"View":"Connect"]})})]},k.id))})]})})]}),e.jsxs("div",{className:"instruction-box",children:[e.jsx("h3",{className:"instruction-box-title",children:"CLI Access"}),e.jsxs("div",{className:"instruction-box-text space-y-2",children:[e.jsx("p",{children:"You can also use remote sessions from the command line:"}),e.jsxs("div",{className:"bg-gray-900 p-3 rounded font-mono text-xs space-y-1 text-gray-300",children:[e.jsx("div",{className:"text-gray-500",children:"# List connected agents"}),e.jsx("div",{className:"text-gray-100",children:"gatekey-admin session list"}),e.jsx("div",{className:"mt-2 text-gray-500",children:"# Execute a single command"}),e.jsx("div",{className:"text-gray-100",children:'gatekey-admin session exec <agent-id> "ip addr"'}),e.jsx("div",{className:"mt-2 text-gray-500",children:"# Start interactive session"}),e.jsx("div",{className:"text-gray-100",children:"gatekey-admin session connect <agent-id>"})]})]})]}),e.jsxs("div",{className:"instruction-box",children:[e.jsx("h3",{className:"instruction-box-title",children:"Setup Instructions"}),e.jsxs("div",{className:"instruction-box-text space-y-2",children:[e.jsx("p",{children:"To enable remote sessions on an agent:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-1 ml-2",children:[e.jsxs("li",{children:["Add ",e.jsx("code",{className:"bg-gray-300 dark:bg-gray-600 px-1 rounded text-gray-900 dark:text-gray-100",children:"session_enabled: true"})," to the agent's config file"]}),e.jsx("li",{children:"Ensure the agent can reach the control plane URL"}),e.jsx("li",{children:"Restart the agent service"})]}),e.jsx("p",{className:"mt-2",children:"The agent will automatically connect to the control plane and appear in the list above."})]})]})]})]})}const Do=[{id:"downloads",title:"Downloads",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"})})},{id:"install",title:"Install Client",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})})},{id:"configure",title:"Configure",icon:e.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]})},{id:"gateways",title:"Gateways",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})})},{id:"networks",title:"Networks",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})})},{id:"access-rules",title:"Access Rules",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{id:"proxy-apps",title:"Proxy Apps",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})},{id:"oidc-providers",title:"OIDC Providers",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})},{id:"saml-providers",title:"SAML Providers",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})},{id:"monitoring",title:"Monitoring",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})},{id:"admin-configs",title:"Config Management",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})},{id:"api-keys",title:"API Keys",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})})},{id:"admin-cli",title:"Admin CLI",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})},{id:"diagnostics",title:"Diagnostics",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065zM15 12a3 3 0 11-6 0 3 3 0 016 0z"})})},{id:"mesh",title:"Mesh Networking",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2zM12 7v10M7 12h10"})})},{id:"general",title:"General Settings",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"})})},{id:"certificate-ca",title:"Certificate CA",icon:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}];function G1(){const n=window.location.origin,[l,i]=u.useState("install");u.useEffect(()=>{const m=()=>{const h=Do.map(v=>document.getElementById(v.id)),x=window.scrollY+150;for(let v=h.length-1;v>=0;v--){const b=h[v];if(b&&b.offsetTop<=x){i(Do[v].id);break}}};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const o=m=>{const h=document.getElementById(m);if(h){const v=h.getBoundingClientRect().top+window.pageYOffset;window.scrollTo({top:v-100,behavior:"smooth"})}};return e.jsxs("div",{className:"flex gap-8",children:[e.jsx("div",{className:"hidden lg:block w-64 flex-shrink-0",children:e.jsxs("div",{className:"sticky top-24",children:[e.jsx("h2",{className:"text-sm font-semibold text-theme-primary uppercase tracking-wider mb-4",children:"Documentation"}),e.jsx("nav",{className:"space-y-1",children:Do.map(m=>e.jsxs("button",{onClick:()=>o(m.id),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${l===m.id?"bg-primary-50 text-primary-700":"text-theme-secondary hover:bg-theme-secondary hover:text-theme-primary"}`,children:[e.jsx("span",{className:`mr-3 ${l===m.id?"text-primary-600":"text-theme-muted"}`,children:m.icon}),m.title]},m.id))})]})}),e.jsxs("div",{className:"flex-1 max-w-4xl space-y-12",children:[e.jsx("section",{id:"downloads",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Download GateKey CLIs"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"Download the GateKey command-line tools for your platform."}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"GateKey Client (gatekey)"}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"The VPN client for connecting to gateways. Required for end users."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("a",{href:`${n}/bin/gatekey-linux-amd64`,className:"flex items-center p-4 border border-theme rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey",children:[e.jsxs("svg",{className:"h-8 w-8 mr-3",viewBox:"0 0 256 256",fill:"none",children:[e.jsx("ellipse",{cx:"128",cy:"156",rx:"72",ry:"84",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"176",rx:"48",ry:"60",fill:"#FFFFFF"}),e.jsx("circle",{cx:"128",cy:"72",r:"48",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"80",rx:"32",ry:"28",fill:"#FFFFFF"}),e.jsx("circle",{cx:"116",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("circle",{cx:"140",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("path",{d:"M128 76 L116 92 L140 92 Z",fill:"#F4A103"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:"Linux (x64)"}),e.jsx("p",{className:"text-xs text-theme-tertiary",children:"gatekey-linux-amd64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-linux-arm64`,className:"flex items-center p-4 border border-theme rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey",children:[e.jsxs("svg",{className:"h-8 w-8 mr-3",viewBox:"0 0 256 256",fill:"none",children:[e.jsx("ellipse",{cx:"128",cy:"156",rx:"72",ry:"84",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"176",rx:"48",ry:"60",fill:"#FFFFFF"}),e.jsx("circle",{cx:"128",cy:"72",r:"48",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"80",rx:"32",ry:"28",fill:"#FFFFFF"}),e.jsx("circle",{cx:"116",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("circle",{cx:"140",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("path",{d:"M128 76 L116 92 L140 92 Z",fill:"#F4A103"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:"Linux (ARM64)"}),e.jsx("p",{className:"text-xs text-theme-tertiary",children:"gatekey-linux-arm64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-darwin-amd64`,className:"flex items-center p-4 border border-theme rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey",children:[e.jsx("svg",{className:"h-8 w-8 mr-3",fill:"#555555",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.1 22C7.79 22.05 6.8 20.68 5.96 19.47C4.25 17 2.94 12.45 4.7 9.39C5.57 7.87 7.13 6.91 8.82 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5M13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:"macOS (Intel)"}),e.jsx("p",{className:"text-xs text-theme-tertiary",children:"gatekey-darwin-amd64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-darwin-arm64`,className:"flex items-center p-4 border border-theme rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey",children:[e.jsx("svg",{className:"h-8 w-8 mr-3",fill:"#555555",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.1 22C7.79 22.05 6.8 20.68 5.96 19.47C4.25 17 2.94 12.45 4.7 9.39C5.57 7.87 7.13 6.91 8.82 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5M13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:"macOS (Apple Silicon)"}),e.jsx("p",{className:"text-xs text-theme-tertiary",children:"gatekey-darwin-arm64"})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"GateKey Admin CLI (gatekey-admin)"}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"Administrative CLI for managing gateways, networks, users, API keys, and more. For administrators only."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("a",{href:`${n}/bin/gatekey-admin-linux-amd64`,className:"flex items-center p-4 border border-theme rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey-admin",children:[e.jsxs("svg",{className:"h-8 w-8 mr-3",viewBox:"0 0 256 256",fill:"none",children:[e.jsx("ellipse",{cx:"128",cy:"156",rx:"72",ry:"84",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"176",rx:"48",ry:"60",fill:"#FFFFFF"}),e.jsx("circle",{cx:"128",cy:"72",r:"48",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"80",rx:"32",ry:"28",fill:"#FFFFFF"}),e.jsx("circle",{cx:"116",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("circle",{cx:"140",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("path",{d:"M128 76 L116 92 L140 92 Z",fill:"#F4A103"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:"Linux (x64)"}),e.jsx("p",{className:"text-xs text-theme-tertiary",children:"gatekey-admin-linux-amd64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-admin-linux-arm64`,className:"flex items-center p-4 border border-theme rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey-admin",children:[e.jsxs("svg",{className:"h-8 w-8 mr-3",viewBox:"0 0 256 256",fill:"none",children:[e.jsx("ellipse",{cx:"128",cy:"156",rx:"72",ry:"84",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"176",rx:"48",ry:"60",fill:"#FFFFFF"}),e.jsx("circle",{cx:"128",cy:"72",r:"48",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"80",rx:"32",ry:"28",fill:"#FFFFFF"}),e.jsx("circle",{cx:"116",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("circle",{cx:"140",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("path",{d:"M128 76 L116 92 L140 92 Z",fill:"#F4A103"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:"Linux (ARM64)"}),e.jsx("p",{className:"text-xs text-theme-tertiary",children:"gatekey-admin-linux-arm64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-admin-darwin-amd64`,className:"flex items-center p-4 border border-theme rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey-admin",children:[e.jsx("svg",{className:"h-8 w-8 mr-3",fill:"#555555",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.1 22C7.79 22.05 6.8 20.68 5.96 19.47C4.25 17 2.94 12.45 4.7 9.39C5.57 7.87 7.13 6.91 8.82 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5M13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:"macOS (Intel)"}),e.jsx("p",{className:"text-xs text-theme-tertiary",children:"gatekey-admin-darwin-amd64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-admin-darwin-arm64`,className:"flex items-center p-4 border border-theme rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey-admin",children:[e.jsx("svg",{className:"h-8 w-8 mr-3",fill:"#555555",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.1 22C7.79 22.05 6.8 20.68 5.96 19.47C4.25 17 2.94 12.45 4.7 9.39C5.57 7.87 7.13 6.91 8.82 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5M13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:"macOS (Apple Silicon)"}),e.jsx("p",{className:"text-xs text-theme-tertiary",children:"gatekey-admin-darwin-arm64"})]})]})]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"GateKey Android App"}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"Mobile VPN client for Android devices. Connect to gateways on the go."}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:e.jsxs("a",{href:"/mobile/gatekey-android.apk",className:"flex items-center p-4 border border-theme rounded-lg hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors",download:"gatekey-android.apk",children:[e.jsx("svg",{className:"h-8 w-8 mr-3",viewBox:"0 0 24 24",fill:"#3DDC84",children:e.jsx("path",{d:"M17.6 11.4c0-.4-.3-.7-.7-.7h-.2c-.4 0-.7.3-.7.7v4.1c0 .4.3.7.7.7h.2c.4 0 .7-.3.7-.7v-4.1zm-9.9 0c0-.4-.3-.7-.7-.7h-.2c-.4 0-.7.3-.7.7v4.1c0 .4.3.7.7.7H7c.4 0 .7-.3.7-.7v-4.1zM14.7 4l.9-1.6c0-.1 0-.2-.1-.2-.1 0-.2 0-.2.1l-.9 1.7c-.8-.4-1.6-.5-2.4-.5s-1.7.2-2.4.5L8.7 2.3c0-.1-.1-.1-.2-.1-.1 0-.1.1-.1.2L9.3 4C7.9 4.7 6.9 6 6.6 7.5h10.8c-.3-1.5-1.3-2.8-2.7-3.5zm-4.4 2c-.3 0-.5-.2-.5-.5s.2-.5.5-.5.5.2.5.5-.2.5-.5.5zm3.4 0c-.3 0-.5-.2-.5-.5s.2-.5.5-.5.5.2.5.5-.2.5-.5.5zM6.6 8.1v7.2c0 .5.4.9.9.9h.5v2.2c0 .4.3.7.7.7h.2c.4 0 .7-.3.7-.7v-2.2h2.8v2.2c0 .4.3.7.7.7h.2c.4 0 .7-.3.7-.7v-2.2h.5c.5 0 .9-.4.9-.9V8.1H6.6z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:"Download for Android"}),e.jsx("p",{className:"text-xs text-theme-tertiary",children:"gatekey-android.apk (2.3 MB)"})]})]})}),e.jsxs("div",{className:"info-box",children:[e.jsx("h4",{className:"info-box-title mb-3",children:"Installation Instructions"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 info-box-text",children:[e.jsx("li",{children:"Download the APK file to your Android device"}),e.jsxs("li",{children:["Open your device ",e.jsx("strong",{children:"Settings"}),"  ",e.jsx("strong",{children:"Security"})]}),e.jsxs("li",{children:["Enable ",e.jsx("strong",{children:"Install from unknown sources"})," (or allow your browser to install apps)"]}),e.jsx("li",{children:"Open the downloaded APK file to install"}),e.jsx("li",{children:"Launch GateKey and sign in with your credentials"}),e.jsxs("li",{children:["Select a gateway and tap ",e.jsx("strong",{children:"Connect"})]})]}),e.jsxs("p",{className:"mt-3 text-xs text-theme-muted",children:[e.jsx("strong",{children:"Note:"})," Requires Android 8.0 (Oreo) or later. The app uses the system VPN APIs and will request VPN permissions on first connect."]})]})]}),e.jsxs("div",{className:"bg-theme-tertiary rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-2",children:"Quick Install (Linux/macOS)"}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto mb-4",children:e.jsxs("code",{className:"text-green-400 text-sm",children:["curl -sSL ",n,"/scripts/install-client.sh | bash"]})}),e.jsxs("p",{className:"text-sm text-theme-secondary",children:["Or download the binary manually, make it executable with ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"chmod +x"}),", and move it to your PATH."]})]})]})}),e.jsx("section",{id:"install",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Install GateKey CLI"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"Download and install the GateKey CLI client to connect to VPN gateways from your terminal."}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-2",children:"Quick Install (Linux/macOS)"}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:e.jsxs("code",{className:"text-green-400 text-sm",children:["curl -sSL ",n,"/scripts/install-client.sh | bash"]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Download Binaries"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("a",{href:`${n}/bin/gatekey-linux-amd64`,className:"flex items-center p-4 border border-theme rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey",children:[e.jsxs("svg",{className:"h-8 w-8 mr-3",viewBox:"0 0 256 256",fill:"none",children:[e.jsx("ellipse",{cx:"128",cy:"156",rx:"72",ry:"84",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"176",rx:"48",ry:"60",fill:"#FFFFFF"}),e.jsx("circle",{cx:"128",cy:"72",r:"48",fill:"#1a1a1a"}),e.jsx("ellipse",{cx:"128",cy:"80",rx:"32",ry:"28",fill:"#FFFFFF"}),e.jsx("ellipse",{cx:"114",cy:"68",rx:"8",ry:"12",fill:"#FFFFFF"}),e.jsx("ellipse",{cx:"142",cy:"68",rx:"8",ry:"12",fill:"#FFFFFF"}),e.jsx("circle",{cx:"116",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("circle",{cx:"140",cy:"70",r:"4",fill:"#1a1a1a"}),e.jsx("path",{d:"M128 76 L116 92 L140 92 Z",fill:"#F4A103"}),e.jsx("path",{d:"M128 84 L118 92 L138 92 Z",fill:"#E08A00"}),e.jsx("ellipse",{cx:"96",cy:"236",rx:"24",ry:"12",fill:"#F4A103"}),e.jsx("ellipse",{cx:"160",cy:"236",rx:"24",ry:"12",fill:"#F4A103"}),e.jsx("ellipse",{cx:"56",cy:"156",rx:"16",ry:"48",fill:"#1a1a1a",transform:"rotate(-15 56 156)"}),e.jsx("ellipse",{cx:"200",cy:"156",rx:"16",ry:"48",fill:"#1a1a1a",transform:"rotate(15 200 156)"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:"Linux (x64)"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:"gatekey-linux-amd64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-darwin-amd64`,className:"flex items-center p-4 border border-theme rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey",children:[e.jsx("svg",{className:"h-8 w-8 mr-3",fill:"#555555",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.1 22C7.79 22.05 6.8 20.68 5.96 19.47C4.25 17 2.94 12.45 4.7 9.39C5.57 7.87 7.13 6.91 8.82 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5M13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:"macOS (Intel)"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:"gatekey-darwin-amd64"})]})]}),e.jsxs("a",{href:`${n}/bin/gatekey-darwin-arm64`,className:"flex items-center p-4 border border-theme rounded-lg hover:border-primary-500 hover:bg-primary-50 transition-colors",download:"gatekey",children:[e.jsx("svg",{className:"h-8 w-8 mr-3",fill:"#555555",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M18.71 19.5C17.88 20.74 17 21.95 15.66 21.97C14.32 22 13.89 21.18 12.37 21.18C10.84 21.18 10.37 21.95 9.1 22C7.79 22.05 6.8 20.68 5.96 19.47C4.25 17 2.94 12.45 4.7 9.39C5.57 7.87 7.13 6.91 8.82 6.88C10.1 6.86 11.32 7.75 12.11 7.75C12.89 7.75 14.37 6.68 15.92 6.84C16.57 6.87 18.39 7.1 19.56 8.82C19.47 8.88 17.39 10.1 17.41 12.63C17.44 15.65 20.06 16.66 20.09 16.67C20.06 16.74 19.67 18.11 18.71 19.5M13 3.5C13.73 2.67 14.94 2.04 15.94 2C16.07 3.17 15.6 4.35 14.9 5.19C14.21 6.04 13.07 6.7 11.95 6.61C11.8 5.46 12.36 4.26 13 3.5Z"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-theme-primary",children:"macOS (Apple Silicon)"}),e.jsx("p",{className:"text-sm text-theme-tertiary",children:"gatekey-darwin-arm64"})]})]})]})]}),e.jsxs("div",{className:"bg-theme-tertiary rounded-lg p-4",children:[e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-2",children:"Manual Installation"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-sm text-theme-secondary",children:[e.jsx("li",{children:"Download the binary for your platform"}),e.jsxs("li",{children:["Make it executable: ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"chmod +x gatekey-*"})]}),e.jsxs("li",{children:["Move to PATH: ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"sudo mv gatekey-* /usr/local/bin/gatekey"})]}),e.jsxs("li",{children:["Verify: ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"gatekey version"})]})]})]})]})}),e.jsx("section",{id:"configure",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Configure GateKey CLI"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"Set up the GateKey CLI to connect to your organization's VPN."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"1"}),e.jsx("span",{className:"font-medium text-theme-primary",children:"Initialize Config"})]}),e.jsxs("code",{className:"text-xs bg-theme-secondary px-2 py-1 rounded block",children:["gatekey config init --server ",n]})]}),e.jsxs("div",{className:"p-4 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"2"}),e.jsx("span",{className:"font-medium text-theme-primary",children:"Login"})]}),e.jsx("code",{className:"text-xs bg-theme-secondary px-2 py-1 rounded block",children:"gatekey login"})]}),e.jsxs("div",{className:"p-4 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"3"}),e.jsx("span",{className:"font-medium text-theme-primary",children:"Connect"})]}),e.jsx("code",{className:"text-xs bg-theme-secondary px-2 py-1 rounded block",children:"gatekey connect"})]}),e.jsxs("div",{className:"p-4 bg-theme-tertiary rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[e.jsx("span",{className:"flex-shrink-0 w-6 h-6 bg-primary-600 text-white rounded-full flex items-center justify-center text-sm font-medium",children:"4"}),e.jsx("span",{className:"font-medium text-theme-primary",children:"Disconnect"})]}),e.jsx("code",{className:"text-xs bg-theme-secondary px-2 py-1 rounded block",children:"gatekey disconnect"})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Multi-Gateway Support"}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"The GateKey client supports connecting to multiple gateways simultaneously. Each gateway gets its own tun interface."}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto mb-4",children:e.jsx("pre",{className:"text-green-400 text-sm",children:`# Connect to multiple gateways
gatekey connect gateway1      # Connect to first gateway (tun0)
gatekey connect gateway2      # Connect to second gateway (tun1)

# Check status
gatekey status                # Shows all active connections

# Disconnect
gatekey disconnect gateway1   # Disconnect from specific gateway
gatekey disconnect --all      # Disconnect from all gateways`})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Configuration File"}),e.jsxs("p",{className:"text-theme-secondary mb-4",children:["The CLI stores its configuration in ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"~/.gatekey/config.yaml"}),". You can manually edit this file or use the CLI commands."]}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:e.jsx("pre",{className:"text-green-400 text-sm",children:`# View current configuration
gatekey config show

# Set server URL
gatekey config set server ${n}

# Reset configuration
gatekey config reset`})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3 mt-6",children:"CLI Command Reference"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Command"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-theme-card divide-y divide-theme text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey login"}),e.jsx("td",{className:"px-4 py-3",children:"Authenticate with SSO (opens browser) or API key (--api-key)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey logout"}),e.jsx("td",{className:"px-4 py-3",children:"Clear saved credentials and session"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey connect [gateway]"}),e.jsx("td",{className:"px-4 py-3",children:"Connect to VPN gateway. Use --mesh <hub> for mesh hubs"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey disconnect [gateway]"}),e.jsx("td",{className:"px-4 py-3",children:"Disconnect from VPN. Use --all to disconnect all"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey status"}),e.jsx("td",{className:"px-4 py-3",children:"Show current connection status and session info"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey list"}),e.jsx("td",{className:"px-4 py-3",children:"List available gateways and mesh hubs"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey config init"}),e.jsx("td",{className:"px-4 py-3",children:"Initialize config with --server URL"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey config show"}),e.jsx("td",{className:"px-4 py-3",children:"Display current configuration"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey config set <key> <value>"}),e.jsx("td",{className:"px-4 py-3",children:"Update configuration setting"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey version"}),e.jsx("td",{className:"px-4 py-3",children:"Show version information"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey fips-check"}),e.jsx("td",{className:"px-4 py-3",children:"Verify FIPS 140-2 compliant OpenSSL library"})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Common Flags"}),e.jsx("div",{className:"bg-theme-tertiary rounded-lg p-4 mb-6 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-theme-secondary",children:`--server URL     Override server URL from config
--config PATH    Use alternate config file
--api-key KEY    Use API key for authentication (login command)
--no-browser     Print login URL instead of opening browser
--all            Disconnect from all gateways
--mesh HUB       Connect to mesh hub instead of gateway
-o, --output     Output format: table, json, yaml`})})]})}),e.jsx("section",{id:"gateways",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Gateways"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"Gateways are VPN entry points that users connect to. Each gateway runs the OpenVPN server and GateKey gateway agent."}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Creating a Gateway"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-theme-secondary mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Gateways"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Gateway"})]}),e.jsxs("li",{children:["Enter the gateway details:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"})," Display name for the gateway"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hostname:"})," Public hostname or IP address"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Port:"})," OpenVPN port (default: 1194)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Protocol:"})," UDP (recommended) or TCP"]})]})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Save"})," to create the gateway"]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Gateway Settings"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Setting"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-theme-card divide-y divide-theme text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"VPN Subnet"}),e.jsx("td",{className:"px-4 py-3",children:"CIDR for VPN client IPs (default: 172.31.255.0/24)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Crypto Profile"}),e.jsx("td",{className:"px-4 py-3",children:"Encryption settings: Modern (default), FIPS, or Compatible"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Full Tunnel Mode"}),e.jsx("td",{className:"px-4 py-3",children:"Route all traffic through VPN (0.0.0.0/0)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Push DNS"}),e.jsx("td",{className:"px-4 py-3",children:"Push DNS server settings to clients"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"DNS Servers"}),e.jsx("td",{className:"px-4 py-3",children:"Custom DNS servers to push (e.g., 1.1.1.1, 8.8.8.8)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"TLS-Auth"}),e.jsx("td",{className:"px-4 py-3",children:"Enable HMAC signature layer for additional security"})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Tunnel Modes"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Split Tunnel (Default)"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" Only routes traffic for permitted networks"}),e.jsx("li",{children:" Internet traffic uses normal connection"}),e.jsx("li",{children:" Routes pushed based on user's access rules"})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Full Tunnel"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" Routes ALL traffic through VPN"}),e.jsx("li",{children:" Uses redirect-gateway directive"}),e.jsx("li",{children:" Useful for traffic inspection"})]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Installing Gateway Agent"}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"After creating a gateway, install the gateway agent on your VPN server:"}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:e.jsx("pre",{className:"text-green-400 text-sm",children:`# Download the install script from the gateway details page
# Run on your VPN server:
curl -sSL ${n}/scripts/install-gateway.sh | \\
  GATEWAY_TOKEN=<token> bash

# The agent will:
# 1. Install OpenVPN and gatekey-gateway
# 2. Configure the firewall (nftables)
# 3. Register with the control plane
# 4. Start the VPN service`})})]})}),e.jsx("section",{id:"networks",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Networks"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"Networks define the CIDR blocks that are reachable through your VPN. Networks are assigned to gateways to advertise routes."}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Creating a Network"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-theme-secondary mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Networks"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Network"})]}),e.jsxs("li",{children:["Enter the network details:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"}),' Descriptive name (e.g., "Production Servers")']}),e.jsxs("li",{children:[e.jsx("strong",{children:"CIDR:"})," Network range (e.g., 10.0.0.0/8, 192.168.1.0/24)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Description:"})," Optional description"]})]})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Save"})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Assigning Networks to Gateways"}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"Networks must be assigned to gateways to be advertised to VPN clients:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-theme-secondary mb-6",children:[e.jsxs("li",{children:["Go to ",e.jsx("strong",{children:"Gateways"})," and click ",e.jsx("strong",{children:"Access"})," on the gateway"]}),e.jsxs("li",{children:["Select the ",e.jsx("strong",{children:"Networks"})," tab"]}),e.jsx("li",{children:"Add the networks this gateway should serve"})]}),e.jsx("div",{className:"info-box",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"info-box-title",children:"How Route Pushing Works"}),e.jsx("p",{className:"mt-1 info-box-text",children:"When a user connects, GateKey pushes routes based on their access rules. Only CIDR-type access rules are pushed as routes. This ensures users only receive routes to networks they're permitted to access."})]})]})})]})}),e.jsx("section",{id:"access-rules",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Access Rules"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"Access rules define what specific resources users can reach. GateKey uses a Zero Trust model where all traffic is blocked by default."}),e.jsx("div",{className:"info-box mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-red-600 dark:text-red-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"info-box-title",children:"Default Deny Policy"}),e.jsxs("p",{className:"mt-1 info-box-text",children:["All traffic is ",e.jsx("strong",{children:"blocked by default"}),". Users can only access resources that are explicitly permitted through access rules."]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Rule Types"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Type"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Example"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-theme-card divide-y divide-theme text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"IP Address"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"192.168.1.100"})}),e.jsx("td",{className:"px-4 py-3",children:"Single IP address"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"CIDR Range"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"10.0.0.0/24"})}),e.jsx("td",{className:"px-4 py-3",children:"Network range (also pushed as route)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Hostname"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"api.internal.com"})}),e.jsx("td",{className:"px-4 py-3",children:"Exact hostname match"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Wildcard"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"*.internal.com"})}),e.jsx("td",{className:"px-4 py-3",children:"Pattern matching for hostnames"})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Creating Access Rules"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-theme-secondary mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Access Rules"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Rule"})]}),e.jsxs("li",{children:["Configure the rule:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"})," Descriptive name for the rule"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Type:"})," IP, CIDR, Hostname, or Wildcard"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Value:"})," The target (IP, network, or hostname)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Ports:"})," Optional port restriction (e.g., 443, 80-8080)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Protocol:"})," TCP, UDP, or Any"]})]})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Save"})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Assigning Rules to Users/Groups"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-theme-secondary",children:[e.jsxs("li",{children:["On the ",e.jsx("strong",{children:"Access Rules"})," page, click ",e.jsx("strong",{children:"Assign"})," on a rule"]}),e.jsx("li",{children:"Add users or groups that should have this access"}),e.jsx("li",{children:"Rules take effect immediately (within 10 seconds)"})]})]})}),e.jsx("section",{id:"proxy-apps",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Proxy Applications"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"Proxy Apps provide clientless access to internal web applications. Users can access internal apps through their browser without installing a VPN client."}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"How It Works"}),e.jsx("div",{className:"bg-theme-tertiary rounded-lg p-4 mb-6",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-theme-secondary",children:[e.jsx("li",{children:"User authenticates via SSO"}),e.jsxs("li",{children:["User accesses ",e.jsxs("code",{className:"bg-theme-secondary px-1 rounded",children:[n,"/proxy/app-slug/"]})]}),e.jsx("li",{children:"GateKey verifies user has permission to access the app"}),e.jsx("li",{children:"Traffic is proxied to the internal application"}),e.jsx("li",{children:"User headers (email, groups) are injected for the backend"})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Creating a Proxy Application"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-theme-secondary mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Proxy Apps"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Application"})]}),e.jsxs("li",{children:["Configure the application:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"})," Display name for the app"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Slug:"}),' URL path identifier (e.g., "grafana")']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Internal URL:"})," Backend service URL (e.g., http://grafana:3000)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Description:"})," Optional description"]})]})]}),e.jsx("li",{children:"Assign users, groups, or link to access rules"}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Save"})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Proxy Settings"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Setting"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-theme-card divide-y divide-theme text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Preserve Host Header"}),e.jsx("td",{className:"px-4 py-3",children:"Forward original Host header to backend"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Strip Prefix"}),e.jsx("td",{className:"px-4 py-3",children:"Remove /proxy/slug from request path"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"WebSocket Enabled"}),e.jsx("td",{className:"px-4 py-3",children:"Support WebSocket connections"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Timeout"}),e.jsx("td",{className:"px-4 py-3",children:"Request timeout in seconds"})]})]})]})})]})}),e.jsx("section",{id:"oidc-providers",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"OIDC Providers"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"Configure OpenID Connect (OIDC) providers to enable Single Sign-On (SSO) authentication with your identity provider."}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Supported Providers"}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsx("div",{className:"p-3 border border-theme rounded-lg text-center",children:e.jsx("p",{className:"font-medium text-theme-primary",children:"Okta"})}),e.jsx("div",{className:"p-3 border border-theme rounded-lg text-center",children:e.jsx("p",{className:"font-medium text-theme-primary",children:"Azure AD"})}),e.jsx("div",{className:"p-3 border border-theme rounded-lg text-center",children:e.jsx("p",{className:"font-medium text-theme-primary",children:"Google"})}),e.jsx("div",{className:"p-3 border border-theme rounded-lg text-center",children:e.jsx("p",{className:"font-medium text-theme-primary",children:"Keycloak"})})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Configuring OIDC"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-theme-secondary mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Settings  OIDC"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Provider"})]}),e.jsxs("li",{children:["Enter the provider details:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"}),' Display name (e.g., "Okta")']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Issuer URL:"})," OIDC issuer URL"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Client ID:"})," OAuth client ID from your IdP"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Client Secret:"})," OAuth client secret"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Scopes:"}),' Usually "openid profile email groups"']})]})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Save"})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Callback URL"}),e.jsx("p",{className:"text-theme-secondary mb-2",children:"Configure this callback URL in your identity provider:"}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto",children:e.jsxs("code",{className:"text-green-400 text-sm",children:[n,"/api/v1/auth/oidc/callback"]})})]})}),e.jsx("section",{id:"saml-providers",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"SAML Providers"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"Configure SAML 2.0 providers for enterprise Single Sign-On integration."}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Configuring SAML"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-theme-secondary mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Settings  SAML"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Provider"})]}),e.jsxs("li",{children:["Enter the provider details:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"})," Display name"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Entity ID:"})," IdP entity ID"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"SSO URL:"})," IdP Single Sign-On URL"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Certificate:"})," IdP signing certificate (X.509)"]})]})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Save"})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Service Provider Metadata"}),e.jsx("p",{className:"text-theme-secondary mb-2",children:"Configure these values in your identity provider:"}),e.jsxs("div",{className:"bg-theme-tertiary rounded-lg p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-theme-secondary",children:"Entity ID (Audience):"}),e.jsx("code",{className:"text-sm text-theme-secondary",children:n})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-theme-secondary",children:"ACS URL:"}),e.jsxs("code",{className:"text-sm text-theme-secondary",children:[n,"/api/v1/auth/saml/acs"]})]})]})]})}),e.jsx("section",{id:"monitoring",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Login Monitoring"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"Monitor user authentication events, track login activity, and configure log retention policies."}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Overview"}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"The Monitoring page provides visibility into all authentication events across your GateKey deployment. Track successful and failed logins, identify suspicious activity, and maintain compliance with audit requirements."}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Login Logs"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" View all authentication events"}),e.jsx("li",{children:" Filter by user, IP, provider, status"}),e.jsx("li",{children:" See IP address and location data"}),e.jsx("li",{children:" Track failed login attempts with reasons"})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Statistics"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" Total logins (successful/failed)"}),e.jsx("li",{children:" Unique users and IP addresses"}),e.jsx("li",{children:" Logins by provider (OIDC/SAML/Local)"}),e.jsx("li",{children:" Logins by country/location"})]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Data Captured"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Field"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-theme-card divide-y divide-theme text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Timestamp"}),e.jsx("td",{className:"px-4 py-3",children:"Date and time of the login attempt"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"User Email"}),e.jsx("td",{className:"px-4 py-3",children:"Email address of the user"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Provider"}),e.jsx("td",{className:"px-4 py-3",children:"Authentication provider (OIDC, SAML, Local)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"IP Address"}),e.jsx("td",{className:"px-4 py-3",children:"Client's public IP address"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Location"}),e.jsx("td",{className:"px-4 py-3",children:"Country and city (when available)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Status"}),e.jsx("td",{className:"px-4 py-3",children:"Success or failure with reason"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"User Agent"}),e.jsx("td",{className:"px-4 py-3",children:"Browser/client information"})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Log Retention"}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"Configure how long login logs are retained in the database. Logs older than the retention period are automatically deleted by a background job that runs every 6 hours."}),e.jsx("div",{className:"bg-theme-tertiary rounded-lg p-4 mb-6",children:e.jsxs("ul",{className:"space-y-2 text-theme-secondary text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Default:"})," 30 days"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Minimum:"})," 1 day"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Forever:"})," Set to 0 to keep logs indefinitely"]})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Manual Purge"}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"You can manually purge logs older than a specified number of days from the Settings tab. This is useful for immediately clearing old data or complying with data retention policies."}),e.jsx("div",{className:"info-box",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"info-box-title",children:"Warning"}),e.jsx("p",{className:"mt-1 info-box-text",children:"Purging logs is irreversible. Once deleted, login history cannot be recovered."})]})]})})]})}),e.jsx("section",{id:"admin-configs",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Admin Config Management"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"Administrators can view and manage all VPN configurations across all users from a centralized dashboard."}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Overview"}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"The Admin All Configs page provides administrators with a complete view of every VPN configuration generated across the organization. This includes both standard gateway configs and mesh VPN configs, with full visibility into who generated each config and when."}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Gateway Configs"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" View all gateway VPN configurations"}),e.jsx("li",{children:" See user email and name for each config"}),e.jsx("li",{children:" Filter by user, status (active/revoked/expired)"}),e.jsx("li",{children:" Revoke any active configuration"})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Mesh Configs"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" View all mesh hub VPN configurations"}),e.jsx("li",{children:" See user ownership for each config"}),e.jsx("li",{children:" Track expiration and download status"}),e.jsx("li",{children:" Revoke mesh configs as needed"})]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Information Displayed"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Field"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-theme-card divide-y divide-theme text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"User"}),e.jsx("td",{className:"px-4 py-3",children:"Email and display name of the user who generated the config"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Gateway/Hub"}),e.jsx("td",{className:"px-4 py-3",children:"The VPN gateway or mesh hub the config connects to"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"File Name"}),e.jsx("td",{className:"px-4 py-3",children:"The generated .ovpn configuration file name"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Created"}),e.jsx("td",{className:"px-4 py-3",children:"When the configuration was generated"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Expires"}),e.jsx("td",{className:"px-4 py-3",children:"When the configuration will expire"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Status"}),e.jsx("td",{className:"px-4 py-3",children:"Active, Revoked, or Expired"})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Accessing Config Management"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-theme-secondary mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration"})," in the sidebar"]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"All Configs"})]}),e.jsx("li",{children:"Use the tabs to switch between Gateway and Mesh configs"}),e.jsx("li",{children:"Use filters to find specific configs by user or status"})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Revoking Configurations"}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"Administrators can revoke any active VPN configuration. When a config is revoked:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-theme-secondary mb-6",children:[e.jsx("li",{children:"The user will no longer be able to connect using that configuration"}),e.jsx("li",{children:"The certificate associated with the config is marked as invalid"}),e.jsx("li",{children:"A reason for revocation can be recorded for audit purposes"}),e.jsx("li",{children:'The config remains visible with a "Revoked" status'})]}),e.jsx("div",{className:"info-box",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"info-box-title",children:"Tip"}),e.jsx("p",{className:"mt-1 info-box-text",children:'You can also view and revoke configs for a specific user from the Users page by clicking on a user and going to the "VPN Configs" tab.'})]})]})})]})}),e.jsx("section",{id:"api-keys",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"API Keys"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"API keys provide programmatic access to GateKey without browser-based SSO. They're ideal for automation, CI/CD pipelines, headless servers, and CLI usage."}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"API Key Format"}),e.jsxs("div",{className:"bg-theme-tertiary rounded-lg p-4 mb-6",children:[e.jsx("code",{className:"text-sm text-theme-secondary font-mono",children:"gk_<base64-encoded-random-bytes>"}),e.jsxs("p",{className:"text-sm text-theme-secondary mt-2",children:["Example: ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"gk_dGhpcyBpcyBhIHNhbXBsZSBhcGkga2V5..."})]})]}),e.jsx("div",{className:"info-box mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"info-box-title",children:"Security Notice"}),e.jsxs("p",{className:"mt-1 info-box-text",children:["The full API key is only shown ",e.jsx("strong",{children:"once"})," at creation time. Store it securely - it cannot be retrieved later."]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Creating API Keys"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-theme-secondary mb-6",children:[e.jsxs("li",{children:["Navigate to your ",e.jsx("strong",{children:"User Profile"})," (click your name in the top right)"]}),e.jsxs("li",{children:["Go to the ",e.jsx("strong",{children:"API Keys"})," tab"]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Create API Key"})]}),e.jsx("li",{children:'Enter a descriptive name (e.g., "CI/CD Pipeline", "Laptop CLI")'}),e.jsx("li",{children:"Optionally set an expiration time"}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Create"})]}),e.jsx("li",{children:e.jsx("strong",{children:"Copy and save the API key immediately"})})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Using API Keys"}),e.jsx("div",{className:"bg-theme-tertiary rounded-lg p-4 mb-6 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-theme-secondary",children:`# GateKey Client
gatekey login --api-key gk_your_api_key_here
gatekey connect

# Admin CLI
gatekey-admin login --api-key gk_your_api_key_here
gatekey-admin gateway list

# Direct API Access
curl -H "Authorization: Bearer gk_your_api_key_here" \\
  ${n}/api/v1/gateways`})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Available Scopes"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Scope"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-theme-card divide-y divide-theme text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"*"}),e.jsx("td",{className:"px-4 py-3",children:"Full access (default for user-created keys)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"read:gateways"}),e.jsx("td",{className:"px-4 py-3",children:"List and view gateways"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"write:gateways"}),e.jsx("td",{className:"px-4 py-3",children:"Create, update, delete gateways"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"vpn:connect"}),e.jsx("td",{className:"px-4 py-3",children:"Generate VPN configurations and connect"})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Best Practices"}),e.jsxs("ul",{className:"list-disc list-inside space-y-2 text-theme-secondary",children:[e.jsx("li",{children:"Use scopes to limit what each key can do (principle of least privilege)"}),e.jsx("li",{children:"Rotate keys periodically (every 90 days recommended)"}),e.jsx("li",{children:"Never commit API keys to version control"}),e.jsx("li",{children:"Use secrets management systems (Vault, AWS Secrets Manager)"}),e.jsx("li",{children:'Monitor "Last Used" timestamps and revoke unused keys'})]})]})}),e.jsx("section",{id:"admin-cli",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Admin CLI (gatekey-admin)"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"The Admin CLI provides command-line administration for GateKey deployments, enabling management of gateways, networks, access rules, users, API keys, and mesh networking."}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Quick Start"}),e.jsx("div",{className:"bg-theme-tertiary rounded-lg p-4 mb-6 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-theme-secondary",children:`# 1. Download and install (see Downloads section above)
chmod +x gatekey-admin && sudo mv gatekey-admin /usr/local/bin/

# 2. Initialize with your server URL
gatekey-admin config init --server ${n}

# 3. Authenticate (opens browser for SSO)
gatekey-admin login

# Or authenticate with API key
gatekey-admin login --api-key gk_your_api_key_here

# 4. Start managing
gatekey-admin gateway list
gatekey-admin user list`})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Available Commands"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Gateway Management"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1 font-mono",children:[e.jsx("li",{children:"gateway list"}),e.jsx("li",{children:"gateway create"}),e.jsx("li",{children:"gateway update <id>"}),e.jsx("li",{children:"gateway delete <id>"}),e.jsx("li",{children:"gateway reprovision <id>"})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Network & Access"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1 font-mono",children:[e.jsx("li",{children:"network list|create|delete"}),e.jsx("li",{children:"access-rule list|create|delete"})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"User Management"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1 font-mono",children:[e.jsx("li",{children:"user list"}),e.jsx("li",{children:"user get <id>"}),e.jsx("li",{children:"user revoke-configs <id>"}),e.jsx("li",{children:"local-user list|create|delete"})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"API Key Management"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1 font-mono",children:[e.jsx("li",{children:"api-key list [--user EMAIL]"}),e.jsx("li",{children:"api-key create NAME"}),e.jsx("li",{children:"api-key revoke <id>"}),e.jsx("li",{children:"api-key revoke-all --user EMAIL"})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Mesh Networking"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1 font-mono",children:[e.jsx("li",{children:"mesh hub list|create|delete"}),e.jsx("li",{children:"mesh hub provision <id>"}),e.jsx("li",{children:"mesh spoke list|create|delete"}),e.jsx("li",{children:"mesh spoke provision <id>"})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Certificates & Audit"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1 font-mono",children:[e.jsx("li",{children:"ca show|rotate|list"}),e.jsx("li",{children:"audit list [--action X]"}),e.jsx("li",{children:"connection list|disconnect"})]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Output Formats"}),e.jsx("div",{className:"bg-theme-tertiary rounded-lg p-4 mb-6 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-theme-secondary",children:`# Table format (default)
gatekey-admin gateway list

# JSON format
gatekey-admin gateway list -o json

# YAML format
gatekey-admin gateway list -o yaml`})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Configuration"}),e.jsxs("p",{className:"text-theme-secondary mb-4",children:["Configuration is stored in ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"~/.gatekey-admin/config.yaml"}),":"]}),e.jsx("div",{className:"bg-theme-tertiary rounded-lg p-4 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-theme-secondary",children:`server_url: ${n}
api_key: gk_your_api_key_here
output: table`})})]})}),e.jsx("section",{id:"diagnostics",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Diagnostics"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"Network troubleshooting tools and remote session management for debugging connectivity issues across your VPN infrastructure."}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Network Tools"}),e.jsxs("p",{className:"text-theme-secondary mb-4",children:["Run network diagnostics from the control plane or any connected hub, gateway, or spoke. Access via ",e.jsx("strong",{children:"Administration  Diagnostics  Network Tools"}),"."]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Available Tools"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"ping"})," - Test connectivity to a host"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"nslookup"})," - DNS resolution lookup"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"traceroute"})," - Trace network path"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"nc (netcat)"})," - TCP port connectivity test"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"nmap"})," - Port scanning"]})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Execution Locations"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Control Plane"})," - Run from the central server"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Gateways"})," - Run from VPN gateways"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Mesh Hubs"})," - Run from hub servers"]}),e.jsxs("li",{children:[" ",e.jsx("strong",{children:"Mesh Spokes"})," - Run from spoke clients"]})]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Remote Sessions"}),e.jsxs("p",{className:"text-theme-secondary mb-4",children:["Connect to and execute shell commands on remote hubs, gateways, and spokes. Access via ",e.jsx("strong",{children:"Administration  Diagnostics  Remote Sessions"}),"."]}),e.jsxs("div",{className:"bg-theme-tertiary rounded-lg p-4 mb-6",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"How It Works"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-2",children:[e.jsxs("li",{children:[" Agents connect ",e.jsx("strong",{children:"outbound"})," to the control plane (no inbound firewall rules needed)"]}),e.jsxs("li",{children:[" Enable remote sessions by setting ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"session_enabled: true"})," in agent config"]}),e.jsx("li",{children:" Connected agents appear in the Remote Sessions list"}),e.jsx("li",{children:' Click "Connect" to open an interactive terminal'})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"CLI Commands"}),e.jsx("div",{className:"bg-theme-tertiary rounded-lg p-4 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-theme-secondary",children:`# Network Troubleshooting
gatekey-admin troubleshoot ping 8.8.8.8
gatekey-admin troubleshoot nslookup google.com
gatekey-admin troubleshoot traceroute 10.0.0.1
gatekey-admin troubleshoot nc api.internal.com 443
gatekey-admin troubleshoot nmap 10.0.0.1 --ports 22,80,443

# Remote Sessions
gatekey-admin session list              # List connected agents
gatekey-admin session exec hub-1 "ip addr"  # Execute single command
gatekey-admin session connect hub-1     # Interactive shell`})})]})}),e.jsx("section",{id:"mesh",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Mesh Networking"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"Connect remote sites and networks using a hub-and-spoke VPN mesh. Mesh networking allows gateways behind NAT to connect to a central hub, enabling site-to-site connectivity without inbound firewall rules."}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Architecture Overview"}),e.jsx("div",{className:"bg-theme-tertiary rounded-lg p-4 mb-6 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-theme-secondary",children:`                 
                   Control Plane  
                    (GateKey UI)  
                 
                           API / Config Sync
                          
                 
                    Mesh Hub       OpenVPN Server
                   (gatekey-hub)      Runs on public endpoint
                 
                          
         
                                         
                                         
    
   Spoke A        Spoke B        Spoke C   
  10.0.0.0/8    192.168.0/24   172.16.0/16 
    
  Home Lab         AWS VPC         Office Network`})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Key Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Spoke-Initiated Connections"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" Spokes connect TO the hub (outbound)"}),e.jsx("li",{children:" Works behind NAT/firewalls"}),e.jsx("li",{children:" No inbound ports required on spokes"})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Standalone Hub"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" Hub runs separately from control plane"}),e.jsx("li",{children:" Deploy on any public server or cloud VM"}),e.jsx("li",{children:" Syncs configuration from control plane"})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Zero-Trust Access"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" Fine-grained user/group access control"}),e.jsx("li",{children:" Per-spoke network permissions"}),e.jsx("li",{children:" Routes pushed based on access rules"})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Dynamic Routing"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" Spokes advertise local networks"}),e.jsx("li",{children:" Hub aggregates and distributes routes"}),e.jsx("li",{children:" Automatic route updates"})]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Setting Up a Mesh Hub"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-theme-secondary mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Mesh"})]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Hub"})," and configure:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"}),' Display name for the hub (e.g., "primary-hub")']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Public Endpoint:"})," Hostname or IP where spokes will connect"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"VPN Port:"})," OpenVPN port (default: 1194)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"VPN Protocol:"})," UDP (recommended) or TCP"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"VPN Subnet:"})," Tunnel IP range (e.g., 172.30.0.0/16)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Crypto Profile:"})," FIPS, Modern, or Compatible"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"TLS-Auth:"})," Enable for additional HMAC security layer (recommended)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Full Tunnel Mode:"})," Route all client traffic through hub"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Push DNS:"})," Push DNS servers to connected clients"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"DNS Servers:"})," Custom DNS servers (defaults to 1.1.1.1, 8.8.8.8)"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Local Networks:"})," Networks directly reachable from the hub"]})]})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Save the API Token"})," - shown only once at creation"]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Install Script"})," to get the deployment script"]}),e.jsxs("li",{children:["Run the install script on your hub server:",e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto mt-2",children:e.jsx("code",{className:"text-green-400 text-sm",children:"sudo bash install-hub.sh"})})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Adding Mesh Spokes"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-3 text-theme-secondary mb-6",children:[e.jsxs("li",{children:["In the ",e.jsx("strong",{children:"Mesh"})," page, switch to the ",e.jsx("strong",{children:"Spokes"})," tab"]}),e.jsx("li",{children:"Select the hub this spoke will connect to"}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Add Spoke"})," and configure:",e.jsxs("ul",{className:"list-disc list-inside ml-6 mt-2 space-y-1 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Name:"}),' Identifier for this spoke (e.g., "home-lab")']}),e.jsxs("li",{children:[e.jsx("strong",{children:"Description:"})," Optional description"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Local Networks:"})," CIDR blocks behind this spoke (e.g., 10.0.0.0/8)"]})]})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Save the Spoke Token"})," - shown only once"]}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Install Script"})," for the deployment script"]}),e.jsxs("li",{children:["Run on your spoke server:",e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto mt-2",children:e.jsx("code",{className:"text-green-400 text-sm",children:"sudo bash install-mesh-spoke.sh"})})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"How It Works"}),e.jsx("div",{className:"info-box mb-6",children:e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-gray-700 dark:text-gray-300 text-sm",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Spoke Connects:"})," Mesh spoke initiates OpenVPN connection to hub"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Authentication:"})," Spoke authenticates using its provisioned certificate"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Route Advertisement:"})," Spoke tells hub about its local networks via ",e.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-1 rounded",children:"iroute"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Hub Aggregates:"})," Hub collects routes from all spokes"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Traffic Routing:"})," Traffic between sites flows through the hub"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Control Plane Sync:"})," Hub periodically syncs access rules and config"]})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Mesh Binaries"}),e.jsx("div",{className:"overflow-x-auto mb-6",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Binary"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-theme-card divide-y divide-theme text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey-hub"}),e.jsx("td",{className:"px-4 py-3",children:"Runs on the central hub server. Manages OpenVPN server and syncs with control plane."})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium font-mono",children:"gatekey-mesh-gateway"}),e.jsx("td",{className:"px-4 py-3",children:"Runs on remote sites. Connects to hub and advertises local networks."})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Access Control"}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"Mesh networking supports fine-grained access control at both the hub and spoke level, allowing you to control which users can connect and which networks they can access."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Hub Access Control"}),e.jsx("p",{className:"text-sm text-theme-secondary mb-2",children:"Control who can connect to the mesh network as a VPN client."}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" Assign users directly to hub"}),e.jsx("li",{children:" Assign groups for team access"}),e.jsx("li",{children:" Users without access cannot generate mesh configs"})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Spoke Access Control"}),e.jsx("p",{className:"text-sm text-theme-secondary mb-2",children:"Control who can route traffic to networks behind each spoke."}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" Per-spoke user/group assignments"}),e.jsx("li",{children:" Limit access to specific CIDR ranges"}),e.jsx("li",{children:" Fine-grained network segmentation"})]})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Managing Hub Access"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-theme-secondary mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Mesh"})]}),e.jsxs("li",{children:["On the ",e.jsx("strong",{children:"Hubs"})," tab, click the actions menu on a hub"]}),e.jsxs("li",{children:["Select ",e.jsx("strong",{children:"Manage Access"})]}),e.jsx("li",{children:"Add users or groups that should be able to connect to this mesh network"}),e.jsx("li",{children:"Users can then generate VPN configs from the Connect page"})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Managing Spoke Access"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-theme-secondary mb-6",children:[e.jsxs("li",{children:["Navigate to ",e.jsx("strong",{children:"Administration  Mesh  Spokes"})]}),e.jsx("li",{children:"Select the hub and find the spoke you want to configure"}),e.jsxs("li",{children:["Click the actions menu and select ",e.jsx("strong",{children:"Manage Access"})]}),e.jsx("li",{children:"The modal shows the networks accessible via this spoke"}),e.jsx("li",{children:"Add users or groups that should have access to these networks"})]}),e.jsx("div",{className:"info-box mb-6",children:e.jsxs("div",{className:"flex",children:[e.jsx("svg",{className:"h-5 w-5 text-blue-600 dark:text-blue-400 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"info-box-title",children:"Example: Network Segmentation"}),e.jsxs("p",{className:"mt-1 info-box-text",children:["A spoke advertises networks ",e.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-1 rounded",children:"10.0.0.0/24"})," (prod) and ",e.jsx("code",{className:"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 px-1 rounded",children:"10.0.1.0/24"}),' (dev). You can assign the "Developers" group to the spoke so they can access both networks, while the "QA" group only gets access via a different spoke that only advertises the dev network.']})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Connecting as a Client"}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"Users with hub access can download VPN configs to connect to the mesh network:"}),e.jsxs("ol",{className:"list-decimal list-inside space-y-2 text-theme-secondary mb-6",children:[e.jsxs("li",{children:["Navigate to the ",e.jsx("strong",{children:"Connect"})," page"]}),e.jsxs("li",{children:["Switch to the ",e.jsx("strong",{children:"Mesh Networks"})," tab"]}),e.jsx("li",{children:"Find the mesh hub you have access to"}),e.jsxs("li",{children:["Click ",e.jsx("strong",{children:"Download Config"})]}),e.jsxs("li",{children:["Import the ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:".ovpn"})," file into your OpenVPN client"]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Using the GateKey CLI"}),e.jsx("p",{className:"text-theme-secondary mb-4",children:"The GateKey CLI provides commands for connecting to mesh networks:"}),e.jsx("div",{className:"bg-gray-900 rounded-lg p-4 overflow-x-auto mb-6",children:e.jsx("pre",{className:"text-green-400 text-sm",children:`# List available mesh hubs
gatekey mesh list

# Connect to a mesh hub
gatekey connect --mesh primary-hub

# Check connection status
gatekey status

# Disconnect
gatekey disconnect primary-hub`})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"Troubleshooting"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Spoke Won't Connect"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" Verify hub endpoint is reachable from spoke"}),e.jsx("li",{children:" Check firewall allows outbound UDP/1194 (or configured port)"}),e.jsx("li",{children:" Verify spoke token is correct"}),e.jsxs("li",{children:[" Check logs: ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"journalctl -u gatekey-mesh-gateway -f"})]})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Hub Shows Offline"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" Verify hub can reach control plane"}),e.jsxs("li",{children:[" Check hub service: ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"systemctl status gatekey-hub"})]}),e.jsx("li",{children:" Verify API token is correct in hub config"}),e.jsxs("li",{children:[" Check logs: ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"journalctl -u gatekey-hub -f"})]})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Routes Not Working"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" Verify spoke's local networks are correctly configured"}),e.jsx("li",{children:" Check IP forwarding is enabled on hub and spokes"}),e.jsx("li",{children:" Verify firewall rules allow forwarded traffic"}),e.jsxs("li",{children:[" Check OpenVPN routing: ",e.jsx("code",{className:"bg-theme-secondary px-1 rounded",children:"ip route show"})]})]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Client Can't Access Spoke Networks"}),e.jsxs("ul",{className:"text-sm text-theme-secondary space-y-1",children:[e.jsx("li",{children:" Verify user has hub access (Manage Access  Users/Groups)"}),e.jsx("li",{children:" Check network is assigned to hub (Manage Access  Networks)"}),e.jsx("li",{children:" Verify user has access rules for the target network"}),e.jsx("li",{children:" Regenerate VPN config after making access changes"})]})]})]})]})}),e.jsx("section",{id:"general",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"General Settings"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"Configure global settings for your GateKey deployment."}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Setting"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Description"})]})}),e.jsxs("tbody",{className:"bg-theme-card divide-y divide-theme text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Session Timeout"}),e.jsx("td",{className:"px-4 py-3",children:"How long user sessions remain valid"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Config Validity"}),e.jsx("td",{className:"px-4 py-3",children:"Expiration time for generated VPN configs (default: 24 hours)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Default Crypto Profile"}),e.jsx("td",{className:"px-4 py-3",children:"Default encryption profile for new gateways"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Audit Logging"}),e.jsx("td",{className:"px-4 py-3",children:"Enable/disable detailed audit logging"})]})]})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mt-6 mb-3",children:"Crypto Profiles"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-theme",children:[e.jsx("thead",{className:"bg-theme-tertiary",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Profile"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Ciphers"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-theme-tertiary uppercase",children:"Use Case"})]})}),e.jsxs("tbody",{className:"bg-theme-card divide-y divide-theme text-sm",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Modern"}),e.jsx("td",{className:"px-4 py-3",children:"AES-256-GCM, CHACHA20-POLY1305"}),e.jsx("td",{className:"px-4 py-3",children:"Default, best performance"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"FIPS"}),e.jsx("td",{className:"px-4 py-3",children:"AES-256-GCM, AES-128-GCM"}),e.jsx("td",{className:"px-4 py-3",children:"FIPS 140-3 compliance"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 font-medium",children:"Compatible"}),e.jsx("td",{className:"px-4 py-3",children:"AES-256-GCM, AES-128-GCM, AES-256-CBC, AES-128-CBC"}),e.jsx("td",{className:"px-4 py-3",children:"Legacy client support"})]})]})]})})]})}),e.jsx("section",{id:"certificate-ca",className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h1",{className:"text-2xl font-bold text-theme-primary mb-2",children:"Certificate Authority (CA)"}),e.jsx("p",{className:"text-theme-secondary mb-6",children:"GateKey includes an embedded Certificate Authority for issuing VPN certificates. Manage your CA from the Settings page."}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"How the CA Works"}),e.jsx("div",{className:"bg-theme-tertiary rounded-lg p-4 mb-6",children:e.jsxs("ul",{className:"space-y-2 text-theme-secondary",children:[e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"GateKey generates a root CA on first startup"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Client certificates are issued on-demand when generating configs"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Certificates are short-lived (default: 24 hours) for security"]}),e.jsxs("li",{className:"flex items-start",children:[e.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Gateways receive their server certificates during provisioning"]})]})}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mb-3",children:"CA Operations"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Download CA Certificate"}),e.jsx("p",{className:"text-sm text-theme-secondary",children:"Download the CA public certificate. This can be used to verify certificates or for manual client configuration."})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Rotate CA"}),e.jsxs("p",{className:"text-sm text-theme-secondary",children:["Generate a new CA certificate and key. ",e.jsx("strong",{className:"text-red-600",children:"Warning:"})," This will invalidate all existing certificates. All gateways will need to reprovision and all active VPN connections will be terminated."]})]}),e.jsxs("div",{className:"p-4 border border-theme rounded-lg",children:[e.jsx("h4",{className:"font-medium text-theme-primary mb-2",children:"Import CA"}),e.jsx("p",{className:"text-sm text-theme-secondary",children:"Import an existing CA certificate and private key. Useful for migrating from another PKI system or using an enterprise CA."})]})]}),e.jsx("h3",{className:"text-lg font-medium text-theme-primary mt-6 mb-3",children:"Best Practices"}),e.jsx("div",{className:"info-box",children:e.jsxs("ul",{className:"space-y-2 info-box-text",children:[e.jsx("li",{children:" Keep certificate validity short (24 hours recommended) to limit exposure"}),e.jsx("li",{children:" Rotate the CA periodically (annually) as part of security hygiene"}),e.jsx("li",{children:" Back up the CA certificate and key securely"}),e.jsx("li",{children:" Monitor audit logs for unusual certificate generation patterns"})]})})]})}),e.jsx("section",{className:"scroll-mt-24",children:e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-xl font-semibold text-theme-primary mb-4",children:"Permission Flow"}),e.jsx("div",{className:"bg-theme-tertiary rounded-lg p-6 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-theme-secondary",children:`User requests VPN connection
        
        

 Is user assigned to gateway?  NO Connection Denied

                 YES
                

 Generate short-lived config   
 (certificate valid 24 hours)  

                
                

 Gateway verifies on connect:  
 - Certificate valid?          NO Connection Rejected
 - User still has access?      

                 YES
                

 Apply firewall rules:         
 - Default: DENY ALL           
 - Allow: user's access rules  

                
                

 User can only reach resources 
 permitted by their rules      
`})})]})})]})]})}function V1({isOpen:n,onToggle:l}){const{user:i,logout:o}=Ks(),{resolvedTheme:m}=Jl(),h=es(),x=[{name:"Dashboard",href:"/",icon:"home"},{name:"Connect",href:"/connect",icon:"vpn"},{name:"Web Access",href:"/web-access",icon:"web"},{name:"My Configs",href:"/my-configs",icon:"configs"},{name:"API Keys",href:"/api-keys",icon:"key"}],v=[{label:"Identity & Access",items:[{name:"Users",href:"/admin/users",icon:"users"},{name:"OIDC Providers",href:"/admin/settings/oidc",icon:"oidc"},{name:"SAML Providers",href:"/admin/settings/saml",icon:"saml"}]},{label:"Network",items:[{name:"Topology",href:"/admin/topology",icon:"topology"},{name:"Gateways",href:"/admin/gateways",icon:"server"},{name:"Mesh",href:"/admin/mesh",icon:"mesh"},{name:"Networks",href:"/admin/networks",icon:"globe"},{name:"Access Rules",href:"/admin/access-rules",icon:"shield"}]},{label:"Applications",items:[{name:"Proxy Apps",href:"/admin/proxy-apps",icon:"apps"}]},{label:"Diagnostics",items:[{name:"Network Tools",href:"/admin/network-tools",icon:"tools"},{name:"Remote Sessions",href:"/admin/remote-sessions",icon:"terminal"}]},{label:"System",items:[{name:"Monitoring",href:"/admin/monitoring",icon:"monitoring"},{name:"All Configs",href:"/admin/configs",icon:"configs"},{name:"VPN Settings",href:"/admin/settings/general",icon:"cog"},{name:"Certificate CA",href:"/admin/settings/ca",icon:"certificate"}]}],b=f=>f==="/"?h.pathname==="/":h.pathname.startsWith(f),y=f=>{switch(f){case"home":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})});case"vpn":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})});case"web":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})});case"users":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})});case"server":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2"})});case"globe":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})});case"shield":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})});case"apps":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})});case"cog":return e.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})]});case"oidc":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})});case"saml":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})});case"certificate":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})});case"configs":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});case"key":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})});case"monitoring":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})});case"mesh":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})});case"topology":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"})});case"tools":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065zM15 12a3 3 0 11-6 0 3 3 0 016 0z"})});case"terminal":return e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})});default:return null}};return e.jsxs(e.Fragment,{children:[n&&e.jsx("div",{className:"fixed inset-0 z-40 lg:hidden bg-black/50",onClick:l}),e.jsx("aside",{className:`fixed top-0 left-0 z-50 h-full bg-theme-sidebar shadow-lg border-r border-theme transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"} lg:translate-x-0 lg:static lg:z-auto ${n?"w-64":"lg:w-20"}`,children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-theme",children:[e.jsx(it,{to:"/",className:"flex items-center",children:e.jsx("img",{src:n?m==="dark"?"/logo-transparent.png":"/logo.png":"/logo-small.png",alt:"GateKey",className:`transition-all duration-300 object-contain ${n?"h-20":"h-10 lg:mx-auto"}`})}),e.jsx("button",{onClick:l,className:"hidden lg:flex items-center justify-center w-8 h-8 rounded-md hover:bg-theme-tertiary text-theme-tertiary transition-colors",title:n?"Collapse sidebar":"Expand sidebar",children:e.jsx("svg",{className:`h-5 w-5 transition-transform duration-300 ${n?"":"rotate-180"}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 19l-7-7 7-7m8 14l-7-7 7-7"})})}),e.jsx("button",{onClick:l,className:"lg:hidden flex items-center justify-center w-8 h-8 rounded-md hover:bg-theme-tertiary text-theme-tertiary transition-colors",children:e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),e.jsxs("nav",{className:"flex-1 overflow-y-auto py-4",children:[e.jsx("div",{className:"px-3 space-y-1",children:x.map(f=>e.jsxs(it,{to:f.href,className:`flex items-center px-3 py-2.5 rounded-lg transition-colors ${b(f.href)?"bg-primary-600/10 text-primary-600 dark:bg-primary-500/20 dark:text-primary-400":"text-theme-secondary hover:bg-theme-tertiary hover:text-theme-primary"}`,title:n?void 0:f.name,children:[e.jsx("span",{className:`flex-shrink-0 ${b(f.href)?"text-primary-600 dark:text-primary-400":"text-theme-tertiary"}`,children:y(f.icon)}),e.jsx("span",{className:`ml-3 font-medium transition-opacity duration-300 ${n?"opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:f.name})]},f.name))}),i?.isAdmin&&e.jsx(e.Fragment,{children:v.map((f,g)=>e.jsxs("div",{children:[e.jsx("div",{className:`${g===0?"mt-6":"mt-4"} px-3 ${n?"":"lg:px-2"}`,children:e.jsx("div",{className:`flex items-center text-xs font-semibold text-theme-muted uppercase tracking-wider ${n?"px-3":"lg:justify-center"}`,children:n?f.label:e.jsx("span",{className:"hidden lg:block w-8 h-0.5 bg-theme-tertiary rounded"})})}),e.jsx("div",{className:"mt-2 px-3 space-y-1",children:f.items.map(C=>e.jsxs(it,{to:C.href,className:`flex items-center px-3 py-2.5 rounded-lg transition-colors ${b(C.href)?"bg-primary-600/10 text-primary-600 dark:bg-primary-500/20 dark:text-primary-400":"text-theme-secondary hover:bg-theme-tertiary hover:text-theme-primary"}`,title:n?void 0:C.name,children:[e.jsx("span",{className:`flex-shrink-0 ${b(C.href)?"text-primary-600 dark:text-primary-400":"text-theme-tertiary"}`,children:y(C.icon)}),e.jsx("span",{className:`ml-3 font-medium transition-opacity duration-300 ${n?"opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:C.name})]},C.name))})]},f.label))})]}),e.jsxs("div",{className:"border-t border-theme p-3 space-y-1",children:[e.jsxs(it,{to:"/help",className:"flex items-center px-3 py-2.5 rounded-lg text-theme-secondary hover:bg-theme-tertiary hover:text-theme-primary transition-colors",title:n?void 0:"Help",children:[e.jsx("svg",{className:"h-5 w-5 text-theme-tertiary flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("span",{className:`ml-3 font-medium transition-opacity duration-300 ${n?"opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:"Help"})]}),e.jsxs("button",{onClick:o,className:"w-full flex items-center px-3 py-2.5 rounded-lg text-theme-secondary hover:bg-theme-tertiary hover:text-theme-primary transition-colors",title:n?void 0:"Sign out",children:[e.jsx("svg",{className:"h-5 w-5 text-theme-tertiary flex-shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),e.jsx("span",{className:`ml-3 font-medium transition-opacity duration-300 ${n?"opacity-100":"lg:opacity-0 lg:w-0 lg:overflow-hidden"}`,children:"Sign out"})]})]})]})})]})}function P1(){const{setTheme:n,resolvedTheme:l}=Jl();return e.jsx("div",{className:"relative",children:e.jsx("button",{onClick:()=>n(l==="dark"?"light":"dark"),className:"p-2 rounded-lg text-theme-secondary hover:bg-theme-tertiary transition-colors",title:`Switch to ${l==="dark"?"light":"dark"} mode`,children:l==="dark"?e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}):e.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"})})})})}function tt({children:n}){const{user:l}=Ks(),{resolvedTheme:i}=Jl(),[o,m]=u.useState(()=>{if(typeof window<"u"&&window.innerWidth>=1024){const h=localStorage.getItem("sidebarOpen");return h!==null?h==="true":!0}return!1});return u.useEffect(()=>{window.innerWidth>=1024&&localStorage.setItem("sidebarOpen",String(o))},[o]),u.useEffect(()=>{const h=()=>{window.innerWidth<1024&&m(!1)};return window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),e.jsxs("div",{className:"min-h-screen bg-theme-secondary flex",children:[e.jsx(V1,{isOpen:o,onToggle:()=>m(!o)}),e.jsxs("div",{className:"flex-1 flex flex-col min-h-screen",children:[e.jsx("header",{className:"bg-theme-header shadow-sm sticky top-0 z-30 border-b border-theme",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>m(!o),className:"lg:hidden p-2 rounded-md text-theme-secondary hover:text-theme-primary hover:bg-theme-tertiary",children:e.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),e.jsx("img",{src:i==="dark"?"/logo-transparent.png":"/logo.png",alt:"GateKey",className:"h-16 ml-2 lg:hidden"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(P1,{}),e.jsxs("div",{className:"hidden sm:flex items-center text-sm",children:[e.jsx("span",{className:"text-theme-tertiary",children:"Signed in as"}),e.jsx("span",{className:"ml-1 font-medium text-theme-primary",children:l?.email})]})]})]})})}),e.jsx("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 py-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:n})}),e.jsx("footer",{className:"bg-theme-card border-t border-theme mt-auto",children:e.jsx("div",{className:"px-4 sm:px-6 lg:px-8 py-4",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("p",{className:"text-sm text-theme-muted text-center sm:text-left",children:"GateKey - Zero Trust VPN with Software Defined Perimeter"})})})})]})]})}function en({children:n}){const{user:l,loading:i}=Ks();return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l?e.jsx(e.Fragment,{children:n}):e.jsx(tn,{to:"/login",replace:!0})}function Pt({children:n}){const{user:l,loading:i}=Ks();return i?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):l?l.isAdmin?e.jsx(e.Fragment,{children:n}):e.jsx(tn,{to:"/",replace:!0}):e.jsx(tn,{to:"/login",replace:!0})}function q1(){return e.jsxs(Cg,{children:[e.jsx(Ge,{path:"/login",element:e.jsx(Oj,{})}),e.jsx(Ge,{path:"/",element:e.jsx(en,{children:e.jsx(tt,{children:e.jsx(zj,{})})})}),e.jsx(Ge,{path:"/connect",element:e.jsx(en,{children:e.jsx(tt,{children:e.jsx(Hj,{})})})}),e.jsx(Ge,{path:"/web-access",element:e.jsx(en,{children:e.jsx(tt,{children:e.jsx(Bj,{})})})}),e.jsx(Ge,{path:"/my-configs",element:e.jsx(en,{children:e.jsx(tt,{children:e.jsx(Gj,{})})})}),e.jsx(Ge,{path:"/api-keys",element:e.jsx(en,{children:e.jsx(tt,{children:e.jsx(Vj,{})})})}),e.jsx(Ge,{path:"/configs",element:e.jsx(tn,{to:"/connect",replace:!0})}),e.jsx(Ge,{path:"/admin/settings",element:e.jsx(tn,{to:"/admin/settings/oidc",replace:!0})}),e.jsx(Ge,{path:"/admin/settings/:tab",element:e.jsx(Pt,{children:e.jsx(tt,{children:e.jsx($j,{})})})}),e.jsx(Ge,{path:"/admin/users",element:e.jsx(Pt,{children:e.jsx(tt,{children:e.jsx(Wj,{})})})}),e.jsx(Ge,{path:"/admin/gateways",element:e.jsx(Pt,{children:e.jsx(tt,{children:e.jsx(r1,{})})})}),e.jsx(Ge,{path:"/admin/networks",element:e.jsx(Pt,{children:e.jsx(tt,{children:e.jsx(m1,{})})})}),e.jsx(Ge,{path:"/admin/access-rules",element:e.jsx(Pt,{children:e.jsx(tt,{children:e.jsx(x1,{})})})}),e.jsx(Ge,{path:"/admin/proxy-apps",element:e.jsx(Pt,{children:e.jsx(tt,{children:e.jsx(f1,{})})})}),e.jsx(Ge,{path:"/admin/monitoring",element:e.jsx(Pt,{children:e.jsx(tt,{children:e.jsx(v1,{})})})}),e.jsx(Ge,{path:"/admin/mesh",element:e.jsx(Pt,{children:e.jsx(tt,{children:e.jsx(b1,{})})})}),e.jsx(Ge,{path:"/admin/topology",element:e.jsx(Pt,{children:e.jsx(tt,{children:e.jsx(O1,{})})})}),e.jsx(Ge,{path:"/admin/network-tools",element:e.jsx(Pt,{children:e.jsx(tt,{children:e.jsx(z1,{})})})}),e.jsx(Ge,{path:"/admin/remote-sessions",element:e.jsx(Pt,{children:e.jsx(tt,{children:e.jsx(B1,{})})})}),e.jsx(Ge,{path:"/admin/configs",element:e.jsx(Pt,{children:e.jsx(tt,{children:e.jsx(M1,{})})})}),e.jsx(Ge,{path:"/help",element:e.jsx(en,{children:e.jsx(tt,{children:e.jsx(G1,{})})})}),e.jsx(Ge,{path:"*",element:e.jsx(tn,{to:"/",replace:!0})})]})}function F1(){return e.jsx(Uj,{children:e.jsx(_j,{children:e.jsx(q1,{})})})}Ey.createRoot(document.getElementById("root")).render(e.jsx(jy.StrictMode,{children:e.jsx(Zg,{children:e.jsx(F1,{})})}));
//# sourceMappingURL=index-Dx2NdckO.js.map
